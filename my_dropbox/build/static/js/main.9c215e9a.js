/*! For license information please see main.9c215e9a.js.LICENSE.txt */
(()=>{var e={740:e=>{"use strict";e.exports=function(e,t,n,r,i,s,a,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,a,o],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(534),s=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,s,a){var o=i||"<<anonymous>>",l=a||r;if(null==n[r])return t?new Error("Required "+s+" `"+l+"` was not specified in `"+o+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,o,s,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case S:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,ke=null,Ie=null;function Se(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ee(e.stateNode,e.type,t))}}function xe(e){ke?Ie?Ie.push(e):Ie=[e]:ke=e}function Te(){if(ke){var e=ke,t=Ie;if(Ie=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==ke||null!==Ie)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Le(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,s,a,o,l){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,kt,It,St,xt=!1,Tt=[],Ct=null,Nt=null,At=null,Rt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){xt=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Rt.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Wt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=F({},cn,{view:0,detail:0}),hn=sn(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},dn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return In}var xn=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(xn),Cn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Rn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){xe(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){jr(e,0)}function Yn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Kn(t,Gn,e,_e(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Ir={};function Sr(e){if(kr[e])return kr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return kr[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var xr=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),l(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(xr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=Fe;Me=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,c),s=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Re((function(){var r=s,i=_e(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case xr:case Tr:case Cr:l=vn;break;case Nr:l=An;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Kr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wi(l),f=null==c?o:wi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(Hn(o))if(Jn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=$t=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}jr(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(Kr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(Kr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ei=[],ki=-1;function Ii(e){return{current:e}}function Si(e){0>ki||(e.current=Ei[ki],Ei[ki]=null,ki--)}function xi(e,t){ki++,Ei[ki]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ni=Ii(!1),Ai=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Ni),Si(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(s(168));xi(Ci,t),xi(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,xi(Ci,e),xi(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ci),xi(Ci,e)):Si(Ni),xi(Ni,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Hi=0,Ki=null,Wi=0,Gi=[],Qi=0,Yi=null,Xi=1,Ji="";function $i(e,t){qi[Hi++]=Wi,qi[Hi++]=Ki,Ki=e,Wi=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Ji=s+e}else Xi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Ki;)Ki=qi[--Hi],qi[Hi]=null,Wi=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Ii(null),ys=null,bs=null,ws=null;function _s(){ws=bs=ys=null}function Es(e){var t=vs.current;Si(vs),e._currentValue=t}function ks(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){ys=e,ws=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Ss(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===ys)throw Error(s(308));bs=e,ys.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var xs=null;function Ts(e){null===xs?xs=[e]:xs.push(e)}function Cs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ts(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Ts(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:As=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fl|=a,e.lanes=a,e.memoizedState=d}}function js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Os(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rc(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Os(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rc(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Os(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ds(e,i,r))&&(rc(t,e,r,n),Ls(t,e,r))}};function Bs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=Ss(s):(i=Pi(t)?Ai:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Ks(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ss(s):(s=Pi(t)?Ai:Ci.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zs.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ws(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ws(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ws(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ws(e,null,t),n.return=e,n;case E:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Gs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Gs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),is&&$i(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&$i(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&$i(i,m),c}function g(i,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),is&&$i(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return is&&$i(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),is&&$i(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Ws(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((s=Mc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=Ws(r,s,a),l.return=r,r=l)}return o(r);case E:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(L(a))return g(r,s,a,l);Gs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=jc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Xs=Ys(!0),Js=Ys(!1),$s={},Zs=Ii($s),ea=Ii($s),ta=Ii($s);function na(e){if(e===$s)throw Error(s(174));return e}function ra(e,t){switch(xi(ta,t),xi(ea,e),xi(Zs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Zs),xi(Zs,t)}function ia(){Si(Zs),Si(ea),Si(ta)}function sa(e){na(ta.current);var t=na(Zs.current),n=le(t,e.type);t!==n&&(xi(ea,e),xi(Zs,n))}function aa(e){ea.current===e&&(Si(Zs),Si(ea))}var oa=Ii(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ua(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var da=w.ReactCurrentDispatcher,ha=w.ReactCurrentBatchConfig,fa=0,pa=null,ma=null,ga=null,va=!1,ya=!1,ba=0,wa=0;function _a(){throw Error(s(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(fa=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),ya){a=0;do{if(ya=!1,ba=0,25<=a)throw Error(s(301));a+=1,ga=ma=null,t.updateQueue=null,da.current=lo,e=n(r,i)}while(ya)}if(da.current=so,t=null!==ma&&null!==ma.next,fa=0,ga=ma=pa=null,va=!1,t)throw Error(s(300));return e}function Ia(){var e=0!==ba;return ba=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?pa.memoizedState=ga=e:ga=ga.next=e,ga}function xa(){if(null===ma){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?pa.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?pa.memoizedState=ga=e:ga=ga.next=e}return ga}function Ta(e,t){return"function"===typeof t?t(e):t}function Ca(e){var t=xa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((fa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,pa.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,Fl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=xa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(wo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Ra(e,t){var n=pa,r=xa(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,wo=!0),r=r.queue,qa(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,ja(9,Oa.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&fa)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Ma(e)}function Da(e,t,n){return n((function(){La(t)&&Ma(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ma(e){var t=Ns(e,1);null!==t&&rc(t,e,1,-1)}function Fa(e){var t=Sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,pa,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return xa().memoizedState}function Va(e,t,n,r){var i=Sa();pa.flags|=e,i.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var i=xa();r=void 0===r?null:r;var s=void 0;if(null!==ma){var a=ma.memoizedState;if(s=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=ja(t,n,s,r))}pa.flags|=e,i.memoizedState=ja(1|t,n,s,r)}function Ba(e,t){return Va(8390656,8,e,t)}function qa(e,t){return za(2048,8,e,t)}function Ha(e,t){return za(4,2,e,t)}function Ka(e,t){return za(4,4,e,t)}function Wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Wa.bind(null,t,e),n)}function Qa(){}function Ya(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),pa.lanes|=n,Fl|=n,e.baseState=!0),t)}function $a(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{bt=n,ha.transition=r}}function Za(){return xa().memoizedState}function eo(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Cs(e,t,n,r))){rc(n,e,r,tc()),io(n,t,r)}}function to(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ts(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Cs(e,t,i,r))&&(rc(n,e,r,i=tc()),io(n,t,r))}}function no(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function ro(e,t){ya=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var so={readContext:Ss,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},ao={readContext:Ss,useCallback:function(e,t){return Sa().memoizedState=[e,void 0===t?null:t],e},useContext:Ss,useEffect:Ba,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Sa().memoizedState=e},useState:Fa,useDebugValue:Qa,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=$a.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=Sa();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&fa)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ba(Da.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Sa(),t=Al.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Ss,useCallback:Ya,useContext:Ss,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:Ka,useMemo:Xa,useReducer:Ca,useRef:Ua,useState:function(){return Ca(Ta)},useDebugValue:Qa,useDeferredValue:function(e){return Ja(xa(),ma.memoizedState,e)},useTransition:function(){return[Ca(Ta)[0],xa().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:Za,unstable_isNewReconciler:!1},lo={readContext:Ss,useCallback:Ya,useContext:Ss,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:Ka,useMemo:Xa,useReducer:Na,useRef:Ua,useState:function(){return Na(Ta)},useDebugValue:Qa,useDeferredValue:function(e){var t=xa();return null===ma?t.memoizedState=e:Ja(t,ma.memoizedState,e)},useTransition:function(){return[Na(Ta)[0],xa().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:Za,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Os(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Wl=r),ho(0,t)},n}function mo(e,t,n){(n=Os(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Os(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bo=w.ReactCurrentOwner,wo=!1;function _o(e,t,n,r){t.child=null===e?Js(t,null,n,r):Xs(t,e.child,n,r)}function Eo(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=ka(e,t,n,r,s,i),n=Ia(),null===e||wo?(is&&n&&es(t),t.flags|=1,_o(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ko(e,t,i))}function ko(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Io(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ko(e,t,i)}return t.flags|=1,(e=Dc(s,r)).ref=t.ref,e.return=t,t.child=e}function Io(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ko(e,t,i);0!==(131072&e.flags)&&(wo=!0)}}return To(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Dl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Dl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,xi(Dl,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,xi(Dl,Ol),Ol|=r;return _o(e,t,i,n),t.child}function xo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,i){var s=Pi(n)?Ai:Ci.current;return s=Ri(t,s),Is(t,i),n=ka(e,t,n,r,s,i),r=Ia(),null===e||wo?(is&&r&&es(t),t.flags|=1,_o(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ko(e,t,i))}function Co(e,t,n,r,i){if(Pi(n)){var s=!0;Mi(t)}else s=!1;if(Is(t,i),null===t.stateNode)Ho(e,t),qs(t,n,r),Ks(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ss(c):c=Ri(t,c=Pi(n)?Ai:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&Hs(t,a,r,c),As=!1;var h=t.memoizedState;a.state=h,Fs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ni.current||As?("function"===typeof u&&(Vs(t,n,u,r),l=t.memoizedState),(o=As||Bs(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ps(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:gs(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ss(l):l=Ri(t,l=Pi(n)?Ai:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&Hs(t,a,r,l),As=!1,h=t.memoizedState,a.state=h,Fs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ni.current||As?("function"===typeof f&&(Vs(t,n,f,r),p=t.memoizedState),(c=As||Bs(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,s,i)}function No(e,t,n,r,i,s){xo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Ko(e,t,s);r=t.stateNode,bo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xs(t,e.child,null,s),t.child=Xs(t,null,o,s)):_o(e,t,o,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ra(e,t.containerInfo)}function Ro(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_o(e,t,n,r),t.child}var Po,Oo,Do,Lo,Mo={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function jo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xi(oa,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Fc(l,i,0,null),e=Mc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=Mo,e):Uo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xs(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Mo,a);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Vo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(r=Al)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ns(e,i),rc(r,e,i,-1))}return gc(),Vo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Dc(r,o):(o=Mc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Fo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,i}return e=(o=e.child).sibling,i=Dc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uo(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,r){return null!==r&&ps(r),Xs(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ks(e.return,t,n)}function Bo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bo(t,!0,n,null,s);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ko(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Go(t),null;case 3:return r=t.stateNode,ia(),Si(Ni),Si(Ci),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Oo(e,t),Go(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Go(t),null}if(e=na(Zs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na(Zs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Go(t),null;case 13:if(Si(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),a=!1}else null!==ss&&(oc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return ia(),Oo(e,t),null===e&&Br(t.stateNode.containerInfo),Go(t),null;case 10:return Es(t.type._context),Go(t),null;case 19:if(Si(oa),null===(a=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Wo(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,Wo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>ql&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Go(t),null}else 2*Je()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=oa.current,xi(oa,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),Si(Ni),Si(Ci),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(Si(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(oa),null;case 4:return ia(),null;case 10:return Es(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oo=function(){},Do=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(Zs.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xo=!1,Jo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Jo||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Jo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Jo=(r=Jo)||null!==n.memoizedState,fl(e,t,n),Jo=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(a,o,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Sc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":$(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Je())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(u=Jo)||d,gl(t,e),Jo=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zo=e,d=e.child;null!==d;){for(h=Zo=d;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(h);continue}}null!==p?(p.return=f,Zo=p):El(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Zo=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Xo;var c=Jo;if(Xo=a,(Jo=l)&&!c)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?kl(i):null!==l?(l.return=a,Zo=l):kl(i);for(;null!==s;)Zo=s,wl(s,t,n),s=s.sibling;Zo=i,Xo=o,Jo=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):_l(e)}}function _l(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Jo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&js(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}js(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Jo||512&t.flags&&sl(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function El(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function kl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Sc(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Il,Sl=Math.ceil,xl=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Nl=0,Al=null,Rl=null,Pl=0,Ol=0,Dl=Ii(0),Ll=0,Ml=null,Fl=0,jl=0,Ul=0,Vl=null,zl=null,Bl=0,ql=1/0,Hl=null,Kl=!1,Wl=null,Gl=null,Ql=!1,Yl=null,Xl=0,Jl=0,$l=null,Zl=-1,ec=0;function tc(){return 0!==(6&Nl)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,$l=null,Error(s(185));vt(e,n,r),0!==(2&Nl)&&e===Al||(e===Al&&(0===(2&Nl)&&(jl|=n),4===Ll&&lc(e,Pl)),ic(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(ql=Je()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Al?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),ai((function(){0===(6&Nl)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Nl;Nl|=2;var a=mc();for(Al===e&&Pl===t||(Hl=null,ql=Je()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}_s(),xl.current=a,Nl=i,null!==Rl?t=0:(Al=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(e,zl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,zl,Hl),t);break}Ec(e,zl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,zl,Hl),r);break}Ec(e,zl,Hl);break;default:throw Error(s(329))}}}return ic(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Ul,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nl))throw Error(s(327));kc();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,zl,Hl),ic(e,Je()),null}function uc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(ql=Je()+500,Ui&&Bi())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Nl)&&kc();var t=Nl;Nl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Nl=t))&&Bi()}}function hc(){Ol=Dl.current,Si(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:ia(),Si(Ni),Si(Ci),ua();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:Si(oa);break;case 10:Es(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Al=e,Rl=e=Dc(e.current,null),Pl=Ol=t,Ll=0,Ml=null,Ul=jl=Fl=0,zl=Vl=null,null!==xs){for(t=0;t<xs.length;t++)if(null!==(r=(n=xs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}xs=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(_s(),da.current=so,va){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(fa=0,ga=ma=pa=null,ya=!1,ba=0,Tl.current=null,null===n||null===n.return){Ll=1,Ml=t,Rl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&go(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){go(a,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),yo(v,o,l,0,t),ps(co(c,l));break e}}a=c=co(c,l),4!==Ll&&(Ll=2),null===Vl?Vl=[a]:Vl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ms(a,po(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ms(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(w){t=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function mc(){var e=xl.current;return xl.current=so,null===e?so:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Al||0===(268435455&Fl)&&0===(268435455&jl)||lc(Al,Pl)}function vc(e,t){var n=Nl;Nl|=2;var r=mc();for(Al===e&&Pl===t||(Hl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(_s(),Nl=n,xl.current=r,null!==Rl)throw Error(s(261));return Al=null,Pl=0,Ll}function yc(){for(;null!==Rl;)wc(Rl)}function bc(){for(;null!==Rl&&!Ye();)wc(Rl)}function wc(e){var t=Il(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?_c(e):Rl=t,Tl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Ol)))return void(Rl=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ll=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Ec(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Yl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Al&&(Rl=Al=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ac(tt,(function(){return kc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var o=bt;bt=1;var l=Nl;Nl|=4,Tl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(_){Sc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Xe(),Nl=l,bt=o,Cl.transition=a}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Xl=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===$l?Jl++:(Jl=0,$l=e):Jl=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function kc(){if(null!==Yl){var e=wt(Xl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var d=Zo;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zo=h;else for(;null!==Zo;){var f=(d=Zo).sibling,p=d.return;if(al(d),d===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zo=y;break e}Zo=a.return}}var b=e.current;for(Zo=b;null!==Zo;){var w=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Zo=w;else e:for(o=b;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){Sc(l,l.return,E)}if(l===o){Zo=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Zo=_;break e}Zo=l.return}}if(Nl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function Ic(e,t,n){e=Ds(e,t=po(0,t=co(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Ds(t,e=mo(t,e=co(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Pl&n)===n&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Je()-Bl?fc(e,0):Ul|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ns(e,t))&&(vt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tc(e,n)}function Ac(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Rc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Oc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Mc(n.children,i,a,t);case I:o=8,i|=8;break;case S:return(e=Pc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=a,e;case O:return Fc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case T:o=9;break e;case C:o=11;break e;case R:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,s,a,o,l){return e=new Vc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,s,a,o,l){return(e=zc(n,r,!0,e,0,s,0,o,l)).context=Bc(null),n=e.current,(s=Os(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,s=tc(),a=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Os(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ds(i,t,a))&&(rc(e,i,a,s),Ls(e,i,a)),a}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Il=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),fs();break;case 5:sa(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?jo(e,t,n):(xi(oa,1&oa.current),null!==(e=Ko(e,t,n))?e.sibling:null);xi(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Ko(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Is(t,n),i=ka(null,t,r,e,i,n);var a=Ia();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rs(t),i.updater=zs,t.stateNode=i,i._reactInternals=t,Ks(t,r,e,n),t=No(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),_o(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=gs(r,e),i){case 0:t=To(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=ko(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Ao(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ps(e,t),Fs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ro(e,t,r,n,i=co(Error(s(423)),t));break e}if(r!==i){t=Ro(e,t,r,n,i=co(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ko(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 5:return sa(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),xo(e,t),_o(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return jo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xs(t,null,r,n):_o(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,xi(vs,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ni.current){t=Ko(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Os(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ks(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ks(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}_o(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=Ss(i)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),ko(e,t,r,i=gs(r.type,i),n);case 15:return Io(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Ho(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Is(t,n),qs(t,r,i),Ks(t,r,i,n),No(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Kc(a);o.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Kc(a);s.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Kc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Kc(a)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Nl)&&(ql=Je()+500,Bi()))}break;case 13:dc((function(){var t=Ns(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},Et=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Ns(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},It=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));G(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Ne=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,xe,Te,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,k={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!I.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:k.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+C(l,0):s,_(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+C(o=e[c],c);l+=N(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,u=s+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(E);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(x),x=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,I=!1,S=null,x=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?k():(I=!1,S=null)}}else I=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,k=function(){P.postMessage(null)}}else k=function(){v(A,0)};function O(e){S=e,I||(I=!0,k())}function D(e,n){x=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(x),x=-1):g=!0,D(_,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},59:e=>{"use strict";var t=function(){};e.exports=t},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>an,SDK_VERSION:()=>cr,_DEFAULT_ENTRY_NAME:()=>Jn,_addComponent:()=>tr,_addOrOverwriteComponent:()=>nr,_apps:()=>Zn,_clearComponents:()=>ar,_components:()=>er,_getProvider:()=>ir,_registerComponent:()=>rr,_removeServiceInstance:()=>sr,deleteApp:()=>fr,getApp:()=>dr,getApps:()=>hr,initializeApp:()=>ur,onLog:()=>mr,registerVersion:()=>pr,setLogLevel:()=>gr});var t=n(43),r=n.t(t,2),i=n(950),s=n.t(i,2),a=n(139),o=n.n(a),l=n(579);const c=["xxl","xl","lg","md","sm","xs"],u="xs",d=t.createContext({prefixes:{},breakpoints:c,minBreakpoint:u}),{Consumer:h,Provider:f}=d;function p(e,n){const{prefixes:r}=(0,t.useContext)(d);return e||r[n]||n}const m=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=p(r,"card-body"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));m.displayName="CardBody";const g=m,v=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=p(r,"card-footer"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));v.displayName="CardFooter";const y=v,b=t.createContext(null);b.displayName="CardHeaderContext";const w=b,_=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,as:s="div",...a}=e;const c=p(r,"card-header"),u=(0,t.useMemo)((()=>({cardHeaderBsPrefix:c})),[c]);return(0,l.jsx)(w.Provider,{value:u,children:(0,l.jsx)(s,{ref:n,...a,className:o()(i,c)})})}));_.displayName="CardHeader";const E=_,k=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:i,as:s="img",...a}=e;const c=p(n,"card-img");return(0,l.jsx)(s,{ref:t,className:o()(i?"".concat(c,"-").concat(i):c,r),...a})}));k.displayName="CardImg";const I=k,S=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=p(r,"card-img-overlay"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));S.displayName="CardImgOverlay";const x=S,T=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="a",...s}=e;return r=p(r,"card-link"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));T.displayName="CardLink";const C=T,N=e=>t.forwardRef(((t,n)=>(0,l.jsx)("div",{...t,ref:n,className:o()(t.className,e)}))),A=N("h6"),R=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=A,...s}=e;return r=p(r,"card-subtitle"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));R.displayName="CardSubtitle";const P=R,O=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="p",...s}=e;return r=p(r,"card-text"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));O.displayName="CardText";const D=O,L=N("h5"),M=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=L,...s}=e;return r=p(r,"card-title"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));M.displayName="CardTitle";const F=M,j=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:i,text:s,border:a,body:c=!1,children:u,as:d="div",...h}=e;const f=p(n,"card");return(0,l.jsx)(d,{ref:t,...h,className:o()(r,f,i&&"bg-".concat(i),s&&"text-".concat(s),a&&"border-".concat(a)),children:c?(0,l.jsx)(g,{children:u}):u})}));j.displayName="Card";const U=Object.assign(j,{Img:I,Title:F,Subtitle:P,Body:g,Link:C,Text:D,Header:E,Footer:y,ImgOverlay:x});function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(740);function B(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function q(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function H(e,n){return Object.keys(n).reduce((function(r,i){var s,a=r,o=a[B(i)],l=a[i],c=z(a,[B(i),i].map(q)),u=n[i],d=function(e,n,r){var i=(0,t.useRef)(void 0!==e),s=(0,t.useState)(n),a=s[0],o=s[1],l=void 0!==e,c=i.current;return i.current=l,!l&&c&&a!==n&&o(n),[l?e:a,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),o(e)}),[r])]}(l,o,e[u]),h=d[0],f=d[1];return V({},c,((s={})[i]=h,s[u]=f,s))}),e)}function K(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function W(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function G(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}K.__suppressDeprecationWarning=!0,W.__suppressDeprecationWarning=!0,G.__suppressDeprecationWarning=!0;const Q=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function Y(e){const n=Q(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const X=N("h4");X.displayName="DivStyledAsH4";const J=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=X,...s}=e;return r=p(r,"alert-heading"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));J.displayName="AlertHeading";const $=J;function Z(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}const ee="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,te="undefined"!==typeof document||ee?t.useLayoutEffect:t.useEffect;new WeakMap;const ne=["as","disabled"];function re(e){let{tagName:t,disabled:n,href:r,target:i,rel:s,role:a,onClick:o,tabIndex:l=0,type:c}=e;t||(t=null!=r||null!=i||null!=s?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const ie=t.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ne);const[s,{tagName:a}]=re(Object.assign({tagName:n,disabled:r},i));return(0,l.jsx)(a,Object.assign({},i,s,{ref:t}))}));ie.displayName="Button";const se=ie,ae=["onKeyDown"];const oe=t.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ae);const[i]=re(Object.assign({tagName:"a"},r)),s=Y((e=>{i.onKeyDown(e),null==n||n(e)}));return(a=r.href)&&"#"!==a.trim()&&"button"!==r.role?(0,l.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,l.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:s}));var a}));oe.displayName="Anchor";const le=oe,ce=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=le,...s}=e;return r=p(r,"alert-link"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));ce.displayName="AlertLink";const ue=ce;function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}const he=!1,fe=t.createContext(null);var pe="unmounted",me="exited",ge="entering",ve="entered",ye="exiting",be=function(e){var n,r;function s(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=me,r.appearStatus=ge):i=ve:i=t.unmountOnExit||t.mountOnEnter?pe:me,r.state={status:i},r.nextCallback=null,r}r=e,(n=s).prototype=Object.create(r.prototype),n.prototype.constructor=n,de(n,r),s.getDerivedStateFromProps=function(e,t){return e.in&&t.status===pe?{status:me}:null};var a=s.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ge&&n!==ve&&(t=ge):n!==ge&&n!==ve||(t=ye)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===ge){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===me&&this.setState({status:pe})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,s=this.props.nodeRef?[r]:[i.findDOMNode(this),r],a=s[0],o=s[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||he?this.safeSetState({status:ve},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:ge},(function(){t.props.onEntering(a,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:ve},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!he?(this.props.onExit(r),this.safeSetState({status:ye},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:me},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:me},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=s[0],o=s[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===pe)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,z(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(fe.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},s}(t.Component);function we(){}be.contextType=fe,be.propTypes={},be.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:we,onEntering:we,onEntered:we,onExit:we,onExiting:we,onExited:we},be.UNMOUNTED=pe,be.EXITED=me,be.ENTERING=ge,be.ENTERED=ve,be.EXITING=ye;const _e=be;function Ee(e){return e&&e.ownerDocument||document}function ke(e,t){return function(e){var t=Ee(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Ie=/([A-Z])/g;var Se=/^ms-/;function xe(e){return function(e){return e.replace(Ie,"-$1").toLowerCase()}(e).replace(Se,"-ms-")}var Te=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Ce=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(xe(t))||ke(e).getPropertyValue(xe(t));Object.keys(t).forEach((function(i){var s=t[i];s||0===s?!function(e){return!(!e||!Te.test(e))}(i)?n+=xe(i)+": "+s+";":r+=i+"("+s+") ":e.style.removeProperty(xe(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},Ne=!("undefined"===typeof window||!window.document||!window.document.createElement);var Ae=!1,Re=!1;try{var Pe={get passive(){return Ae=!0},get once(){return Re=Ae=!0}};Ne&&(window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,!0))}catch(xL){}const Oe=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Re){var i=r.once,s=r.capture,a=n;!Re&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=a),e.addEventListener(t,a,Ae?r:s)}e.addEventListener(t,n,r)};const De=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const Le=function(e,t,n,r){return Oe(e,t,n,r),function(){De(e,t,n,r)}};function Me(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),s=Le(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),s()}}function Fe(e,t,n,r){null==n&&(n=function(e){var t=Ce(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Me(e,n,r),s=Le(e,"transitionend",t);return function(){i(),s()}}function je(e,t){const n=Ce(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Ue(e,t){const n=je(e,"transitionDuration"),r=je(e,"transitionDelay"),i=Fe(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}function Ve(e){e.offsetHeight}const ze=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Be=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=ze(e),r=ze(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])};const qe=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:s,onEntered:a,onExit:o,onExiting:c,onExited:u,addEndListener:d,children:h,childRef:f,...p}=e;const m=(0,t.useRef)(null),g=Be(m,f),v=e=>{var t;g((t=e)&&"setState"in t?i.findDOMNode(t):null!=t?t:null)},y=e=>t=>{e&&m.current&&e(m.current,t)},b=(0,t.useCallback)(y(r),[r]),w=(0,t.useCallback)(y(s),[s]),_=(0,t.useCallback)(y(a),[a]),E=(0,t.useCallback)(y(o),[o]),k=(0,t.useCallback)(y(c),[c]),I=(0,t.useCallback)(y(u),[u]),S=(0,t.useCallback)(y(d),[d]);return(0,l.jsx)(_e,{ref:n,...p,onEnter:b,onEntered:_,onEntering:w,onExit:E,onExited:I,onExiting:k,addEndListener:S,nodeRef:m,children:"function"===typeof h?(e,t)=>h(e,{...t,ref:v}):t.cloneElement(h,{ref:v})})})),He=qe,Ke={[ge]:"show",[ve]:"show"},We=t.forwardRef(((e,n)=>{let{className:r,children:i,transitionClasses:s={},onEnter:a,...c}=e;const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...c},d=(0,t.useCallback)(((e,t)=>{Ve(e),null==a||a(e,t)}),[a]);return(0,l.jsx)(He,{ref:n,addEndListener:Ue,...u,onEnter:d,childRef:i.ref,children:(e,n)=>t.cloneElement(i,{...n,className:o()("fade",r,i.props.className,Ke[e],s[e])})})}));We.displayName="Fade";const Ge=We;var Qe=n(173),Ye=n.n(Qe);const Xe={"aria-label":Ye().string,onClick:Ye().func,variant:Ye().oneOf(["white"])},Je=t.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":i="Close",...s}=e;return(0,l.jsx)("button",{ref:t,type:"button",className:o()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":i,...s})}));Je.displayName="CloseButton",Je.propTypes=Xe;const $e=Je,Ze=t.forwardRef(((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:s,className:a,children:c,variant:u="primary",onClose:d,dismissible:h,transition:f=Ge,...m}=H(e,{show:"onClose"}),g=p(n,"alert"),v=Y((e=>{d&&d(!1,e)})),y=!0===f?Ge:f,b=(0,l.jsxs)("div",{role:"alert",...y?void 0:m,ref:t,className:o()(a,g,u&&"".concat(g,"-").concat(u),h&&"".concat(g,"-dismissible")),children:[h&&(0,l.jsx)($e,{onClick:v,"aria-label":i,variant:s}),c]});return y?(0,l.jsx)(y,{unmountOnExit:!0,...m,ref:void 0,in:r,children:b}):r?b:null}));Ze.displayName="Alert";const et=Object.assign(Ze,{Link:ue,Heading:$}),tt={type:Ye().string,tooltip:Ye().bool,as:Ye().elementType},nt=t.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:s=!1,...a}=e;return(0,l.jsx)(n,{...a,ref:t,className:o()(r,"".concat(i,"-").concat(s?"tooltip":"feedback"))})}));nt.displayName="Feedback",nt.propTypes=tt;const rt=nt,it=t.createContext({}),st=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,className:s,type:a="checkbox",isValid:c=!1,isInvalid:u=!1,as:d="input",...h}=e;const{controlId:f}=(0,t.useContext)(it);return i=p(i,"form-check-input"),(0,l.jsx)(d,{...h,ref:n,type:a,id:r||f,className:o()(s,i,c&&"is-valid",u&&"is-invalid")})}));st.displayName="FormCheckInput";const at=st,ot=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,htmlFor:s,...a}=e;const{controlId:c}=(0,t.useContext)(it);return r=p(r,"form-check-label"),(0,l.jsx)("label",{...a,ref:n,htmlFor:s||c,className:o()(i,r)})}));ot.displayName="FormCheckLabel";const lt=ot;function ct(e,n){let r=0;return t.Children.map(e,(e=>t.isValidElement(e)?n(e,r++):e))}const ut=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,bsSwitchPrefix:s,inline:a=!1,reverse:c=!1,disabled:u=!1,isValid:d=!1,isInvalid:h=!1,feedbackTooltip:f=!1,feedback:m,feedbackType:g,className:v,style:y,title:b="",type:w="checkbox",label:_,children:E,as:k="input",...I}=e;i=p(i,"form-check"),s=p(s,"form-switch");const{controlId:S}=(0,t.useContext)(it),x=(0,t.useMemo)((()=>({controlId:r||S})),[S,r]),T=!E&&null!=_&&!1!==_||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(E,lt),C=(0,l.jsx)(at,{...I,type:"switch"===w?"checkbox":w,ref:n,isValid:d,isInvalid:h,disabled:u,as:k});return(0,l.jsx)(it.Provider,{value:x,children:(0,l.jsx)("div",{style:y,className:o()(v,T&&i,a&&"".concat(i,"-inline"),c&&"".concat(i,"-reverse"),"switch"===w&&s),children:E||(0,l.jsxs)(l.Fragment,{children:[C,T&&(0,l.jsx)(lt,{title:b,children:_}),m&&(0,l.jsx)(rt,{type:g,tooltip:f,children:m})]})})})}));ut.displayName="FormCheck";const dt=Object.assign(ut,{Input:at,Label:lt});n(59);const ht=t.forwardRef(((e,n)=>{let{bsPrefix:r,type:i,size:s,htmlSize:a,id:c,className:u,isValid:d=!1,isInvalid:h=!1,plaintext:f,readOnly:m,as:g="input",...v}=e;const{controlId:y}=(0,t.useContext)(it);return r=p(r,"form-control"),(0,l.jsx)(g,{...v,type:i,size:a,ref:n,readOnly:m,id:c||y,className:o()(u,f?"".concat(r,"-plaintext"):r,s&&"".concat(r,"-").concat(s),"color"===i&&"".concat(r,"-color"),d&&"is-valid",h&&"is-invalid")})}));ht.displayName="FormControl";const ft=Object.assign(ht,{Feedback:rt}),pt=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=p(r,"form-floating"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));pt.displayName="FormFloating";const mt=pt,gt=t.forwardRef(((e,n)=>{let{controlId:r,as:i="div",...s}=e;const a=(0,t.useMemo)((()=>({controlId:r})),[r]);return(0,l.jsx)(it.Provider,{value:a,children:(0,l.jsx)(i,{...s,ref:n})})}));gt.displayName="FormGroup";const vt=gt;function yt(e){let{as:n,bsPrefix:r,className:i,...s}=e;r=p(r,"col");const a=function(){const{breakpoints:e}=(0,t.useContext)(d);return e}(),l=function(){const{minBreakpoint:e}=(0,t.useContext)(d);return e}(),c=[],u=[];return a.forEach((e=>{const t=s[e];let n,i,a;delete s[e],"object"===typeof t&&null!=t?({span:n,offset:i,order:a}=t):n=t;const o=e!==l?"-".concat(e):"";n&&c.push(!0===n?"".concat(r).concat(o):"".concat(r).concat(o,"-").concat(n)),null!=a&&u.push("order".concat(o,"-").concat(a)),null!=i&&u.push("offset".concat(o,"-").concat(i))})),[{...s,className:o()(i,...c,...u)},{as:n,bsPrefix:r,spans:c}]}const bt=t.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:a}]=yt(e);return(0,l.jsx)(i,{...r,ref:t,className:o()(n,!a.length&&s)})}));bt.displayName="Col";const wt=bt,_t=t.forwardRef(((e,n)=>{let{as:r="label",bsPrefix:i,column:s=!1,visuallyHidden:a=!1,className:c,htmlFor:u,...d}=e;const{controlId:h}=(0,t.useContext)(it);i=p(i,"form-label");let f="col-form-label";"string"===typeof s&&(f="".concat(f," ").concat(f,"-").concat(s));const m=o()(c,i,a&&"visually-hidden",s&&f);return u=u||h,s?(0,l.jsx)(wt,{ref:n,as:"label",className:m,htmlFor:u,...d}):(0,l.jsx)(r,{ref:n,className:m,htmlFor:u,...d})}));_t.displayName="FormLabel";const Et=_t,kt=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,id:s,...a}=e;const{controlId:c}=(0,t.useContext)(it);return r=p(r,"form-range"),(0,l.jsx)("input",{...a,type:"range",ref:n,className:o()(i,r),id:s||c})}));kt.displayName="FormRange";const It=kt,St=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:i,htmlSize:s,className:a,isValid:c=!1,isInvalid:u=!1,id:d,...h}=e;const{controlId:f}=(0,t.useContext)(it);return r=p(r,"form-select"),(0,l.jsx)("select",{...h,size:s,ref:n,className:o()(a,r,i&&"".concat(r,"-").concat(i),c&&"is-valid",u&&"is-invalid"),id:d||f})}));St.displayName="FormSelect";const xt=St,Tt=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:s,...a}=e;return n=p(n,"form-text"),(0,l.jsx)(i,{...a,ref:t,className:o()(r,n,s&&"text-muted")})}));Tt.displayName="FormText";const Ct=Tt,Nt=t.forwardRef(((e,t)=>(0,l.jsx)(dt,{...e,ref:t,type:"switch"})));Nt.displayName="Switch";const At=Object.assign(Nt,{Input:dt.Input,Label:dt.Label}),Rt=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:s,label:a,...c}=e;return n=p(n,"form-floating"),(0,l.jsxs)(vt,{ref:t,className:o()(r,n),controlId:s,...c,children:[i,(0,l.jsx)("label",{htmlFor:s,children:a})]})}));Rt.displayName="FloatingLabel";const Pt=Rt,Ot={_ref:Ye().any,validated:Ye().bool,as:Ye().elementType},Dt=t.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...s}=e;return(0,l.jsx)(i,{...s,ref:t,className:o()(n,r&&"was-validated")})}));Dt.displayName="Form",Dt.propTypes=Ot;const Lt=Object.assign(Dt,{Group:vt,Control:ft,Floating:mt,Check:dt,Switch:At,Label:Et,Text:Ct,Range:It,Select:xt,FloatingLabel:Pt}),Mt=t.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:i="primary",size:s,active:a=!1,disabled:c=!1,className:u,...d}=e;const h=p(r,"btn"),[f,{tagName:m}]=re({tagName:n,disabled:c,...d}),g=m;return(0,l.jsx)(g,{...f,...d,ref:t,disabled:c,className:o()(u,h,a&&"active",i&&"".concat(h,"-").concat(i),s&&"".concat(h,"-").concat(s),d.href&&c&&"disabled")})}));Mt.displayName="Button";const Ft=Mt,jt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ut={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(jt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Vt;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Vt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zt=function(e){return function(e){const t=jt(e);return Ut.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Bt=function(e){try{return Ut.decodeString(e,!0)}catch(xL){console.error("base64Decode failed: ",xL)}return null};function qt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=qt(e[n],t[n]));return e}const Ht=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Kt=()=>{try{return Ht()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDLHwvXSPZmINzCgJPYeZp77pwQx8HT6Nc",REACT_APP_FIREBASE_APP_ID:"1:939769754858:web:8e4179407bd89e78d85393",REACT_APP_FIREBASE_AUTH_DOMAIN:"my-dropbox-36ff2.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"939769754858",REACT_APP_FIREBASE_PROJECT_ID:"my-dropbox-36ff2",REACT_APP_FIREBASE_STORAGE_BUCKET:"my-dropbox-36ff2.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(xL){return}const t=e&&Bt(e[1]);return t&&JSON.parse(t)})()}catch(xL){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(xL))}},Wt=e=>{var t,n;return null===(n=null===(t=Kt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Gt=e=>{const t=Wt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Qt=()=>{var e;return null===(e=Kt())||void 0===e?void 0:e.config},Yt=e=>{var t;return null===(t=Kt())||void 0===t?void 0:t["_".concat(e)]};class Xt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Jt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[zt(JSON.stringify({alg:"none",type:"JWT"})),zt(JSON.stringify(s)),""].join(".")}function $t(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Zt(){var e;const t=null===(e=Kt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(xL){return!1}}function en(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function tn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function nn(){const e=$t();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function rn(){return!Zt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sn(){try{return"object"===typeof indexedDB}catch(xL){return!1}}class an extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,an.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,on.prototype.create)}}class on{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ln,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new an(n,s,t)}}const ln=/\{\$([^}]+)}/g;function cn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function un(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(dn(n)&&dn(s)){if(!un(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dn(e){return null!==e&&"object"===typeof e}function hn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function fn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function pn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function mn(e,t){const n=new gn(e,t);return n.subscribe.bind(n)}class gn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=vn),void 0===r.error&&(r.error=vn),void 0===r.complete&&(r.complete=vn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(xL){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(xL){"undefined"!==typeof console&&console.error&&console.error(xL)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function vn(){}function yn(e){return e&&e._delegate?e._delegate:e}class bn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wn="[DEFAULT]";class _n{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(xL){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(xL){if(r)return null;throw xL}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:wn})}catch(xL){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(xL){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===wn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn;return this.component?this.component.multipleInstances?e:wn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class En{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _n(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const kn=[];var In;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(In||(In={}));const Sn={debug:In.DEBUG,verbose:In.VERBOSE,info:In.INFO,warn:In.WARN,error:In.ERROR,silent:In.SILENT},xn=In.INFO,Tn={[In.DEBUG]:"log",[In.VERBOSE]:"log",[In.INFO]:"info",[In.WARN]:"warn",[In.ERROR]:"error"},Cn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Tn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Nn{constructor(e){this.name=e,this._logLevel=xn,this._logHandler=Cn,this._userLogHandler=null,kn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in In))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Sn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.DEBUG,...t),this._logHandler(this,In.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.VERBOSE,...t),this._logHandler(this,In.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.INFO,...t),this._logHandler(this,In.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.WARN,...t),this._logHandler(this,In.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.ERROR,...t),this._logHandler(this,In.ERROR,...t)}}const An=(e,t)=>t.some((t=>e instanceof t));let Rn,Pn;const On=new WeakMap,Dn=new WeakMap,Ln=new WeakMap,Mn=new WeakMap,Fn=new WeakMap;let jn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Dn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ln.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Un(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Pn||(Pn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Bn(this),n),zn(On.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zn(e.apply(Bn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Bn(this),t,...r);return Ln.set(s,t.sort?t.sort():[t]),zn(s)}}function Vn(e){return"function"===typeof e?Un(e):(e instanceof IDBTransaction&&function(e){if(Dn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Dn.set(e,t)}(e),An(e,Rn||(Rn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,jn):e)}function zn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(zn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&On.set(t,e)})).catch((()=>{})),Fn.set(t,e),t}(e);if(Mn.has(e))return Mn.get(e);const t=Vn(e);return t!==e&&(Mn.set(e,t),Fn.set(t,e)),t}const Bn=e=>Fn.get(e);const qn=["get","getKey","getAll","getAllKeys","count"],Hn=["put","add","delete","clear"],Kn=new Map;function Wn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Kn.get(t))return Kn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Hn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!qn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Kn.set(t,s),s}jn=(e=>({...e,get:(t,n,r)=>Wn(t,n)||e.get(t,n,r),has:(t,n)=>!!Wn(t,n)||e.has(t,n)}))(jn);class Gn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Qn="@firebase/app",Yn="0.9.27",Xn=new Nn("@firebase/app"),Jn="[DEFAULT]",$n={[Qn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zn=new Map,er=new Map;function tr(e,t){try{e.container.addComponent(t)}catch(xL){Xn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),xL)}}function nr(e,t){e.container.addOrOverwriteComponent(t)}function rr(e){const t=e.name;if(er.has(t))return Xn.debug("There were multiple attempts to register component ".concat(t,".")),!1;er.set(t,e);for(const n of Zn.values())tr(n,e);return!0}function ir(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function sr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jn;ir(e,t).clearInstance(n)}function ar(){er.clear()}const or=new on("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class lr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new bn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const cr="10.8.0";function ur(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Jn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw or.create("bad-app-name",{appName:String(i)});if(n||(n=Qt()),!n)throw or.create("no-options");const s=Zn.get(i);if(s){if(un(n,s.options)&&un(r,s.config))return s;throw or.create("duplicate-app",{appName:i})}const a=new En(i);for(const l of er.values())a.addComponent(l);const o=new lr(n,r,a);return Zn.set(i,o),o}function dr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn;const t=Zn.get(e);if(!t&&e===Jn&&Qt())return ur();if(!t)throw or.create("no-app",{appName:e});return t}function hr(){return Array.from(Zn.values())}async function fr(e){const t=e.name;Zn.has(t)&&(Zn.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function pr(e,t,n){var r;let i=null!==(r=$n[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Xn.warn(e.join(" "))}rr(new bn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function mr(e,t){if(null!==e&&"function"!==typeof e)throw or.create("invalid-log-argument");!function(e,t){for(const n of kn){let r=null;t&&t.level&&(r=Sn[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];const o=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:In[n].toLowerCase(),message:o,args:s,type:t.name})}}}(e,t)}function gr(e){var t;t=e,kn.forEach((e=>{e.setLogLevel(t)}))}const vr="firebase-heartbeat-database",yr=1,br="firebase-heartbeat-store";let wr=null;function _r(){return wr||(wr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=zn(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(zn(a.result),e.oldVersion,e.newVersion,zn(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(vr,yr,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(br)}catch(xL){console.warn(xL)}}}).catch((e=>{throw or.create("idb-open",{originalErrorMessage:e.message})}))),wr}async function Er(e,t){try{const n=(await _r()).transaction(br,"readwrite"),r=n.objectStore(br);await r.put(t,kr(e)),await n.done}catch(xL){if(xL instanceof an)Xn.warn(xL.message);else{const t=or.create("idb-set",{originalErrorMessage:null===xL||void 0===xL?void 0:xL.message});Xn.warn(t.message)}}}function kr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ir{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sr();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Sr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Tr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Tr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=zt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Sr(){return(new Date).toISOString().substring(0,10)}class xr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!sn()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await _r()).transaction(br),n=await t.objectStore(br).get(kr(e));return await t.done,n}catch(xL){if(xL instanceof an)Xn.warn(xL.message);else{const t=or.create("idb-get",{originalErrorMessage:null===xL||void 0===xL?void 0:xL.message});Xn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Er(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Er(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Tr(e){return zt(JSON.stringify({version:2,heartbeats:e})).length}var Cr;Cr="",rr(new bn("platform-logger",(e=>new Gn(e)),"PRIVATE")),rr(new bn("heartbeat",(e=>new Ir(e)),"PRIVATE")),pr(Qn,Yn,Cr),pr(Qn,Yn,"esm2017"),pr("fire-js","");function Nr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Ar={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Rr="EMAIL_SIGNIN",Pr="PASSWORD_RESET",Or="RECOVER_EMAIL",Dr="REVERT_SECOND_FACTOR_ADDITION",Lr="VERIFY_AND_CHANGE_EMAIL",Mr="VERIFY_EMAIL";function Fr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jr=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ur=Fr,Vr=new on("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),zr=new Nn("@firebase/auth");function Br(e){if(zr.logLevel<=In.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zr.error("Auth (".concat(cr,"): ").concat(e),...n)}}function qr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Gr(e,...n)}function Hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Gr(e,...n)}function Kr(e,t,n){const r=Object.assign(Object.assign({},Ur()),{[t]:n});return new on("auth","Firebase",r).create(t,{appName:e.name})}function Wr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&qr(e,"argument-error"),Kr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Gr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Vr.create(e,...n)}function Qr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Gr(t,...r)}}function Yr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Br(t),new Error(t)}function Xr(e,t){e||Yr(t)}function Jr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function $r(){return"http:"===Zr()||"https:"===Zr()}function Zr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ei{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())||tn()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&($r()||en()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ti(e,t){Xr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ni{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ri={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ii=new ei(3e4,6e4);function si(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ai(e,t,n,r){return oi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=hn(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),ni.fetch()(ci(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function oi(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ri),t);try{const t=new di(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw hi(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw hi(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw hi(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw hi(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Kr(e,o,a);qr(e,o)}}catch(xL){if(xL instanceof an)throw xL;qr(e,"network-request-failed",{message:String(xL)})}}async function li(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await ai(e,t,n,r,i);return"mfaPendingCredential"in s&&qr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ci(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ti(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function ui(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class di{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Hr(this.auth,"network-request-failed"))),ii.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function hi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hr(e,t,r);return i.customData._tokenResponse=n,i}function fi(e){return void 0!==e&&void 0!==e.getResponse}function pi(e){return void 0!==e&&void 0!==e.enterprise}class mi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ui(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function gi(e,t){return ai(e,"GET","/v2/recaptchaConfig",si(e,t))}function vi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(xL){}}function yi(e){return 1e3*Number(e)}function bi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Br("JWT malformed, contained fewer than 3 sections"),null;try{const e=Bt(n);return e?JSON.parse(e):(Br("Failed to decode base64 JWT payload"),null)}catch(xL){return Br("Caught error parsing JWT payload as JSON",null===xL||void 0===xL?void 0:xL.toString()),null}}async function wi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(xL){throw xL instanceof an&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(xL)&&e.auth.currentUser===e&&await e.auth.signOut(),xL}}class _i{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(xL){return void((null===xL||void 0===xL?void 0:xL.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Ei{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vi(this.lastLoginAt),this.creationTime=vi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ki(e){var t;const n=e.auth,r=await e.getIdToken(),i=await wi(e,async function(e,t){return ai(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Qr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?function(e){return e.map((e=>{var{providerId:t}=e,n=Nr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ei(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class Ii{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qr(e.idToken,"internal-error"),Qr("undefined"!==typeof e.idToken,"internal-error"),Qr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=bi(e);return Qr(t,"internal-error"),Qr("undefined"!==typeof t.exp,"internal-error"),Qr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Qr(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await oi(e,{},(async()=>{const n=hn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=ci(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ni.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Ii;return n&&(Qr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Qr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Qr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ii,this.toJSON())}_performRefresh(){return Yr("not implemented")}}function Si(e,t){Qr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class xi{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Nr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _i(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ei(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await wi(this,this.stsTokenManager.getToken(this.auth,e));return Qr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=yn(e),r=await n.getIdToken(t),i=bi(r);Qr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vi(yi(i.auth_time)),issuedAtTime:vi(yi(i.iat)),expirationTime:vi(yi(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=yn(e);await ki(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Qr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Qr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ki(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await wi(this,async function(e,t){return ai(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:E}=t;Qr(y&&E,e,"internal-error");const k=Ii.fromJSON(this.name,E);Qr("string"===typeof y,e,"internal-error"),Si(u,e.name),Si(d,e.name),Qr("boolean"===typeof b,e,"internal-error"),Qr("boolean"===typeof w,e,"internal-error"),Si(h,e.name),Si(f,e.name),Si(p,e.name),Si(m,e.name),Si(g,e.name),Si(v,e.name);const I=new xi({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ii;r.updateFromServerResponse(t);const i=new xi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ki(i),i}}const Ti=new Map;function Ci(e){Xr(e instanceof Function,"Expected a class definition");let t=Ti.get(e);return t?(Xr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ti.set(e,t),t)}class Ni{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ni.type="NONE";const Ai=Ni;function Ri(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Pi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ri(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ri("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Pi(Ci(Ai),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Ci(Ai);const s=Ri(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=xi._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Pi(i,e,n)):new Pi(i,e,n)}}function Oi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Di(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ui(t))return"Blackberry";if(Vi(t))return"Webos";if(Li(t))return"Safari";if((t.includes("chrome/")||Mi(t))&&!t.includes("edge/"))return"Chrome";if(ji(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/firefox\//i.test(e)}function Li(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/crios\//i.test(e)}function Fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/iemobile/i.test(e)}function ji(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/android/i.test(e)}function Ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/blackberry/i.test(e)}function Vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/webos/i.test(e)}function zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Bi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return zi(e)||ji(e)||Vi(e)||Ui(e)||/windows phone/i.test(e)||Fi(e)}function qi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Oi($t());break;case"Worker":t="".concat(Oi($t()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(cr,"/").concat(r)}class Hi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(xL){r(xL)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(xL){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===xL||void 0===xL?void 0:xL.message})}}}class Ki{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Wi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qi(this),this.idTokenSubscription=new Qi(this),this.beforeStateQueue=new Hi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ci(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Pi.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(xL){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(xL){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(xL)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Qr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(xL){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ki(e)}catch(xL){if((null===xL||void 0===xL?void 0:xL.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?yn(e):null;return t&&Qr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Qr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Ci(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ai(e,"GET","/v2/passwordPolicy",si(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ki(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new on("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ai(e,"POST","/v2/accounts:revokeToken",si(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ci(e)||this._popupRedirectResolver;Qr(t,this,"argument-error"),this.redirectPersistenceManager=await Pi.create(this,[Ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qr(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(zr.logLevel<=In.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zr.warn("Auth (".concat(cr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Gi(e){return yn(e)}class Qi{constructor(e){this.auth=e,this.observer=null,this.addObserver=mn((e=>this.observer=e))}get next(){return Qr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xi(e){return Yi.loadJS(e)}function Ji(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class $i{constructor(e){this.type="recaptcha-enterprise",this.auth=Gi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;pi(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{gi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new mi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&pi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Yi.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Xi(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Zi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new $i(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function es(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Zi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Zi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function ts(e,t,n){const r=Gi(e);Qr(r._canInitEmulator,r,"emulator-config-failed"),Qr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ns(t),{host:a,port:o}=function(e){const t=ns(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:rs(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:rs(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ns(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function rs(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class is{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,t){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}async function ss(e,t){return ai(e,"POST","/v1/accounts:resetPassword",si(e,t))}async function as(e,t){return ai(e,"POST","/v1/accounts:signUp",t)}async function os(e,t){return li(e,"POST","/v1/accounts:signInWithPassword",si(e,t))}async function ls(e,t){return ai(e,"POST","/v1/accounts:sendOobCode",si(e,t))}async function cs(e,t){return ls(e,t)}async function us(e,t){return ls(e,t)}class ds extends is{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ds(e,t,"password")}static _fromEmailAndCode(e,t){return new ds(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return es(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",os);case"emailLink":return async function(e,t){return li(e,"POST","/v1/accounts:signInWithEmailLink",si(e,t))}(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return es(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",as);case"emailLink":return async function(e,t){return li(e,"POST","/v1/accounts:signInWithEmailLink",si(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function hs(e,t){return li(e,"POST","/v1/accounts:signInWithIdp",si(e,t))}class fs extends is{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Nr(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new fs(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return hs(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,hs(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hs(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hn(t)}return e}}const ps={USER_NOT_FOUND:"user-not-found"};class ms extends is{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ms({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ms({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return li(e,"POST","/v1/accounts:signInWithPhoneNumber",si(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await li(e,"POST","/v1/accounts:signInWithPhoneNumber",si(e,t));if(n.temporaryProof)throw hi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return li(e,"POST","/v1/accounts:signInWithPhoneNumber",si(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ps)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ms({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class gs{constructor(e){var t,n,r,i,s,a;const o=fn(pn(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Qr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=fn(pn(e)).link,n=t?fn(pn(t)).deep_link_id:null,r=fn(pn(e)).deep_link_id;return(r?fn(pn(r)).link:null)||r||n||t||e}(e);try{return new gs(t)}catch(n){return null}}}class vs{constructor(){this.providerId=vs.PROVIDER_ID}static credential(e,t){return ds._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=gs.parseLink(t);return Qr(n,"argument-error"),ds._fromEmailAndCode(e,n.code,n.tenantId)}}vs.PROVIDER_ID="password",vs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",vs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ys{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bs extends ys{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ws extends bs{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Qr("providerId"in t&&"signInMethod"in t,"argument-error"),fs._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Qr(e.idToken||e.accessToken,"argument-error"),fs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ws.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ws.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=t;if(!r&&!i&&!n&&!s)return null;if(!o)return null;try{return new ws(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch(xL){return null}}}class _s extends bs{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return _s.credential(t.oauthAccessToken)}catch(n){return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com",_s.PROVIDER_ID="facebook.com";class Es extends bs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fs._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Es.credential(n,r)}catch(i){return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com",Es.PROVIDER_ID="google.com";class ks extends bs{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ks.credential(t.oauthAccessToken)}catch(n){return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com",ks.PROVIDER_ID="github.com";class Is extends is{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return hs(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,hs(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hs(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Is(n,i):null}static _create(e,t){return new Is(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ss extends ys{constructor(e){Qr(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Ss.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ss.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Is.fromJSON(e);return Qr(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Is._create(r,n)}catch(xL){return null}}}class xs extends bs{constructor(){super("twitter.com")}static credential(e,t){return fs._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return xs.credential(n,r)}catch(i){return null}}}async function Ts(e,t){return li(e,"POST","/v1/accounts:signUp",si(e,t))}xs.TWITTER_SIGN_IN_METHOD="twitter.com",xs.PROVIDER_ID="twitter.com";class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await xi._fromIdTokenResponse(e,n,r),s=Ns(n);return new Cs({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ns(n);return new Cs({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ns(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class As extends an{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,As.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new As(e,t,n,r)}}function Rs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw As._fromErrorAndOperation(e,n,t,r);throw n}))}function Ps(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Os(e,t){const n=yn(e);await Ls(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return ai(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Ps(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Ds(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await wi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Cs._forOperation(e,"link",r)}async function Ls(e,t,n){await ki(t);const r=!1===e?"provider-already-linked":"no-such-provider";Qr(Ps(t.providerData).has(n)===e,t.auth,r)}async function Ms(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await wi(e,Rs(r,i,t,e),n);Qr(s.idToken,r,"internal-error");const a=bi(s.idToken);Qr(a,r,"internal-error");const{sub:o}=a;return Qr(e.uid===o,r,"user-mismatch"),Cs._forOperation(e,i,s)}catch(xL){throw(null===xL||void 0===xL?void 0:xL.code)==="auth/".concat("user-not-found")&&qr(r,"user-mismatch"),xL}}async function Fs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Rs(e,r,t),s=await Cs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function js(e,t){return Fs(Gi(e),t)}async function Us(e,t){const n=yn(e);return await Ls(!1,n,t.providerId),Ds(n,t)}async function Vs(e,t){return Ms(yn(e),t)}async function zs(e,t){const n=Gi(e),r=await async function(e,t){return li(e,"POST","/v1/accounts:signInWithCustomToken",si(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Cs._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Bs{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?qs._fromServerResponse(e,t):"totpInfo"in t?Hs._fromServerResponse(e,t):qr(e,"internal-error")}}class qs extends Bs{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new qs(t)}}class Hs extends Bs{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Hs(t)}}function Ks(e,t,n){var r;Qr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Qr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Qr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Qr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ws(e){const t=Gi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Gs(e,t,n){const r=Gi(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Ks(r,i,n),await es(r,i,"getOobCode",cs)}async function Qs(e,t){await async function(e,t){return ai(e,"POST","/v1/accounts:update",si(e,t))}(yn(e),{oobCode:t})}async function Ys(e,t){const n=yn(e),r=await ss(n,{oobCode:t}),i=r.requestType;switch(Qr(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Qr(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Qr(r.mfaInfo,n,"internal-error");default:Qr(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Bs._fromServerResponse(Gi(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Xs(e,t,n){const r=Gi(e),i=es(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ts),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ws(e),t})),a=await Cs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Js(e,t,n){return js(yn(e),vs.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ws(e),t}))}async function $s(e,t){const n={identifier:t,continueUri:$r()?Jr():"http://localhost"},{signinMethods:r}=await async function(e,t){return ai(e,"POST","/v1/accounts:createAuthUri",si(e,t))}(yn(e),n);return r||[]}async function Zs(e,t){const n=yn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Ks(n.auth,r,t);const{email:i}=await async function(e,t){return ls(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function ea(e,t,n){const r=yn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Ks(r.auth,i,n);const{email:s}=await async function(e,t){return ls(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function ta(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=yn(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await wi(i,async function(e,t){return ai(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function na(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await wi(e,async function(e,t){return ai(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class ra{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class ia extends ra{constructor(e,t,n,r){super(e,t,n),this.username=r}}class sa extends ra{constructor(e,t){super(e,"facebook.com",t)}}class aa extends ia{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class oa extends ra{constructor(e,t){super(e,"google.com",t)}}class la extends ia{constructor(e,t,n){super(e,"twitter.com",t,n)}}function ca(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=bi(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new ra(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new sa(s,i);case"github.com":return new aa(s,i);case"google.com":return new oa(s,i);case"twitter.com":return new la(s,i,e.screenName||null);case"custom":case"anonymous":return new ra(s,null);default:return new ra(s,r,i)}}(n)}class ua{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new ua("enroll",e,t)}static _fromMfaPendingCredential(e){return new ua("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ua._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return ua._fromIdtoken(e.multiFactorSession.idToken)}return null}}class da{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Gi(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Bs._fromServerResponse(n,e)));Qr(r.mfaPendingCredential,n,"internal-error");const s=ua._fromMfaPendingCredential(r.mfaPendingCredential);return new da(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Cs._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Qr(t.user,n,"internal-error"),Cs._forOperation(t.user,t.operationType,a);default:qr(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class ha{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Bs._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new ha(e)}async getSession(){return ua._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await wi(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await wi(this.user,function(e,t){return ai(e,"POST","/v2/accounts/mfaEnrollment:withdraw",si(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(xL){throw xL}}}const fa=new WeakMap;const pa="__sak";class ma{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pa,"1"),this.storage.removeItem(pa),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ga extends ma{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=$t();return Li(e)||zi(e)}()&&function(){try{return!(!window||window===window.top)}catch(xL){return!1}}(),this.fallbackToPolling=Bi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);nn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ga.type="LOCAL";const va=ga;class ya extends ma{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ya.type="SESSION";const ba=ya;class wa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new wa(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function _a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}wa.receivers=[];class Ea{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=_a("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ka(){return window}function Ia(){return"undefined"!==typeof ka().WorkerGlobalScope&&"function"===typeof ka().importScripts}const Sa="firebaseLocalStorageDb",xa="firebaseLocalStorage",Ta="fbase_key";class Ca{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Na(e,t){return e.transaction([xa],t?"readwrite":"readonly").objectStore(xa)}function Aa(){const e=indexedDB.open(Sa,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(xa,{keyPath:Ta})}catch(xL){n(xL)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(xa)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Sa);return new Ca(e).toPromise()}(),t(await Aa()))}))}))}async function Ra(e,t,n){const r=Na(e,!0).put({[Ta]:t,value:n});return new Ca(r).toPromise()}function Pa(e,t){const n=Na(e,!0).delete(t);return new Ca(n).toPromise()}class Oa{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Aa()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(xL){if(t++>3)throw xL;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ia()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wa._getInstance(Ia()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ea(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Aa();return await Ra(e,pa,"1"),await Pa(e,pa),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ra(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Na(e,!1).get(t),r=await new Ca(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Pa(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Na(e,!1).getAll();return new Ca(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Oa.type="LOCAL";const Da=Oa;const La=1e12;class Ma{constructor(e){this.auth=e,this.counter=La,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Fa(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||La;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||La;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||La;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Fa{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Qr(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(xL){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(xL){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ja=Ji("rcb"),Ua=new ei(3e4,6e4);class Va{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=ka().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Qr(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&fi(ka().grecaptcha)?Promise.resolve(ka().grecaptcha):new Promise(((n,r)=>{const i=ka().setTimeout((()=>{r(Hr(e,"network-request-failed"))}),Ua.get());ka()[ja]=()=>{ka().clearTimeout(i),delete ka()[ja];const s=ka().grecaptcha;if(!s||!fi(s))return void r(Hr(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};Xi("".concat(Yi.recaptchaV2Script,"?").concat(hn({onload:ja,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Hr(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=ka().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class za{async load(e){return new Ma(e)}clearedOneInstance(){}}const Ba="recaptcha",qa={theme:"light",type:"image"};class Ha{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},qa);this.parameters=n,this.type=Ba,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gi(e),this.isInvisible="invisible"===this.parameters.size,Qr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Qr(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new za:new Va,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(xL){return Promise.reject(xL)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Qr(!this.parameters.sitekey,this.auth,"argument-error"),Qr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Qr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=ka()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Qr(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Qr($r()&&!Ia(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await ai(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Qr(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Qr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ka{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ms._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Wa(e,t,n){var r;const i=await n.verify();try{let s;if(Qr("string"===typeof i,e,"argument-error"),Qr(n.type===Ba,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Qr("enroll"===t.type,e,"internal-error");const n=await function(e,t){return ai(e,"POST","/v2/accounts/mfaEnrollment:start",si(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Qr("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Qr(n,e,"missing-multi-factor-info");const a=await function(e,t){return ai(e,"POST","/v2/accounts/mfaSignIn:start",si(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return ai(e,"POST","/v1/accounts:sendVerificationCode",si(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ga{constructor(e){this.providerId=Ga.PROVIDER_ID,this.auth=Gi(e)}verifyPhoneNumber(e,t){return Wa(this.auth,e,yn(t))}static credential(e,t){return ms._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ga.credentialFromTaggedObject(t)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ms._fromTokenResponse(n,r):null}}function Qa(e,t){return t?Ci(t):(Qr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ga.PROVIDER_ID="phone",Ga.PHONE_SIGN_IN_METHOD="phone";class Ya extends is{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Xa(e){return Fs(e.auth,new Ya(e),e.bypassAuthState)}function Ja(e){const{auth:t,user:n}=e;return Qr(n,t,"internal-error"),Ms(n,new Ya(e),e.bypassAuthState)}async function $a(e){const{auth:t,user:n}=e;return Qr(n,t,"internal-error"),Ds(n,new Ya(e),e.bypassAuthState)}class Za{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(xL){this.reject(xL)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(xL){this.reject(xL)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xa;case"linkViaPopup":case"linkViaRedirect":return $a;case"reauthViaPopup":case"reauthViaRedirect":return Ja;default:qr(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eo=new ei(2e3,1e4);class to extends Za{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qr(e,this.auth,"internal-error"),e}async onExecution(){Xr(1===this.filter.length,"Popup operations only handle one event");const e=_a();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Hr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,eo.get())};e()}}to.currentPopupAction=null;const no="pendingRedirect",ro=new Map;class io extends Za{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ro.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=lo(t),r=oo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(xL){e=()=>Promise.reject(xL)}ro.set(this.auth._key(),e)}return this.bypassAuthState||ro.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function so(e,t){return oo(e)._set(lo(t),"true")}function ao(e,t){ro.set(e._key(),t)}function oo(e){return Ci(e._redirectPersistence)}function lo(e){return Ri(no,e.config.apiKey,e.name)}function co(e,t,n){return async function(e,t,n){const r=Gi(e);Wr(e,t,ys),await r._initializationPromise;const i=Qa(r,n);return await so(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function uo(e,t,n){return async function(e,t,n){const r=yn(e);Wr(r.auth,t,ys),await r.auth._initializationPromise;const i=Qa(r.auth,n);await so(i,r.auth);const s=await po(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function ho(e,t,n){return async function(e,t,n){const r=yn(e);Wr(r.auth,t,ys),await r.auth._initializationPromise;const i=Qa(r.auth,n);await Ls(!1,r,t.providerId),await so(i,r.auth);const s=await po(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function fo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Gi(e),i=Qa(r,t),s=new io(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function po(e){const t=_a("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class mo{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!vo(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Hr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(go(e))}saveEventToCache(e){this.cachedEventUids.add(go(e)),this.lastProcessedEventTime=Date.now()}}function go(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function vo(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function yo(e){return ai(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const bo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wo=/^https?/;function _o(e){const t=Jr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!wo.test(n))return!1;if(bo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Eo=new ei(3e4,6e4);function ko(){const e=ka().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Io(e){return new Promise(((t,n)=>{var r,i,s;function a(){ko(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ko(),n(Hr(e,"network-request-failed"))},timeout:Eo.get()})}if(null===(i=null===(r=ka().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ka().gapi)||void 0===s?void 0:s.load)){const t=Ji("iframefcb");return ka()[t]=()=>{gapi.load?a():n(Hr(e,"network-request-failed"))},Xi("".concat(Yi.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw So=null,e}))}let So=null;const xo=new ei(5e3,15e3),To="__/auth/iframe",Co="emulator/auth/iframe",No={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ao=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ro(e){const t=e.config;Qr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ti(t,Co):"https://".concat(e.config.authDomain,"/").concat(To),r={apiKey:t.apiKey,appName:e.name,v:cr},i=Ao.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(hn(r).slice(1))}async function Po(e){const t=await function(e){return So=So||Io(e),So}(e),n=ka().gapi;return Qr(n,e,"internal-error"),t.open({where:document.body,url:Ro(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:No,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Hr(e,"network-request-failed"),s=ka().setTimeout((()=>{r(i)}),xo.get());function a(){ka().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const Oo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Do{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(xL){}}}function Lo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Oo),{width:r.toString(),height:i.toString(),top:s,left:a}),c=$t().toLowerCase();n&&(o=Mi(c)?"_blank":n),Di(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return zi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Do(null);const d=window.open(t||"",o,u);Qr(d,e,"popup-blocked");try{d.focus()}catch(xL){}return new Do(d)}const Mo="__/auth/handler",Fo="emulator/auth/handler",jo=encodeURIComponent("fac");async function Uo(e,t,n,r,i,s){Qr(e.config.authDomain,e,"auth-domain-config-required"),Qr(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:cr,eventId:i};if(t instanceof ys){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof bs){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(jo,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Mo);return ti(t,Fo)}(e),"?").concat(hn(o).slice(1)).concat(c)}const Vo="webStorageSupport";const zo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ba,this._completeRedirectFn=fo,this._overrideRedirectResult=ao}async _openPopup(e,t,n,r){var i;Xr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Lo(e,await Uo(e,t,n,Jr(),r),_a())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ka().location.href=e}(await Uo(e,t,n,Jr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Xr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Po(e),n=new mo(e);return t.register("authEvent",(t=>{Qr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vo,{type:Vo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Vo];void 0!==i&&t(!!i),qr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await yo(e);for(const r of t)try{if(_o(r))return}catch(n){}qr(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Bi()||Li()||zi()}};class Bo{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Yr("unexpected MultiFactorSessionType")}}}class qo extends Bo{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new qo(e)}_finalizeEnroll(e,t,n){return function(e,t){return ai(e,"POST","/v2/accounts/mfaEnrollment:finalize",si(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return ai(e,"POST","/v2/accounts/mfaSignIn:finalize",si(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ho{constructor(){}static assertion(e){return qo._fromCredential(e)}}Ho.FACTOR_ID="phone";var Ko="@firebase/auth",Wo="1.6.0";class Go{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Qr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Qo=Yt("authIdTokenMaxAge")||300;let Yo=null;var Xo;!function(e){Yi=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Hr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Xo="Browser",rr(new bn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Qr(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Xo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qi(Xo)},c=new Wi(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ci);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),rr(new bn("auth-internal",(e=>(e=>new Go(e))(Gi(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),pr(Ko,Wo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Xo)),pr(Ko,Wo,"esm2017");pr("firebase","10.8.0","app");var Jo,$o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Zo={},el=el||{},tl=$o||self;function nl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function rl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var il="closure_uid_"+(1e9*Math.random()>>>0),sl=0;function al(e,t,n){return e.call.apply(e.bind,arguments)}function ol(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ll(e,t,n){return(ll=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?al:ol).apply(null,arguments)}function cl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ul(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function dl(){this.s=this.s,this.o=this.o}dl.prototype.s=!1,dl.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,il)&&e[il]||(e[il]=++sl))},dl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function fl(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function pl(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(nl(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ml(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ml.prototype.h=function(){this.defaultPrevented=!0};var gl=function(){if(!tl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};tl.addEventListener("test",e,t),tl.removeEventListener("test",e,t)}catch(n){}return e}();function vl(e){return/^[\s\xa0]*$/.test(e)}function yl(){var e=tl.navigator;return e&&(e=e.userAgent)?e:""}function bl(e){return-1!=yl().indexOf(e)}function wl(e){return wl[" "](e),e}wl[" "]=function(){};var _l,El,kl=bl("Opera"),Il=bl("Trident")||bl("MSIE"),Sl=bl("Edge"),xl=Sl||Il,Tl=bl("Gecko")&&!(-1!=yl().toLowerCase().indexOf("webkit")&&!bl("Edge"))&&!(bl("Trident")||bl("MSIE"))&&!bl("Edge"),Cl=-1!=yl().toLowerCase().indexOf("webkit")&&!bl("Edge");function Nl(){var e=tl.document;return e?e.documentMode:void 0}e:{var Al="",Rl=function(){var e=yl();return Tl?/rv:([^\);]+)(\)|;)/.exec(e):Sl?/Edge\/([\d\.]+)/.exec(e):Il?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Cl?/WebKit\/(\S+)/.exec(e):kl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Rl&&(Al=Rl?Rl[1]:""),Il){var Pl=Nl();if(null!=Pl&&Pl>parseFloat(Al)){_l=String(Pl);break e}}_l=Al}if(tl.document&&Il){var Ol=Nl();El=Ol||(parseInt(_l,10)||void 0)}else El=void 0;var Dl=El;function Ll(e,t){if(ml.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Tl){e:{try{wl(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ml[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ll.$.h.call(this)}}ul(Ll,ml);var Ml={2:"touch",3:"pen",4:"mouse"};Ll.prototype.h=function(){Ll.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Fl="closure_listenable_"+(1e6*Math.random()|0),jl=0;function Ul(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++jl,this.fa=this.ia=!1}function Vl(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function zl(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Bl(e){const t={};for(const n in e)t[n]=e[n];return t}const ql="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hl(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<ql.length;t++)n=ql[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Kl(e){this.src=e,this.g={},this.h=0}function Wl(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=hl(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Vl(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Gl(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Kl.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Gl(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Ul(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Ql="closure_lm_"+(1e6*Math.random()|0),Yl={};function Xl(e,t,n,r,i){if(r&&r.once)return $l(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Xl(e,t[s],n,r,i);return null}return n=sc(n),e&&e[Fl]?e.O(t,n,rl(r)?!!r.capture:!!r,i):Jl(e,t,n,!1,r,i)}function Jl(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=rl(i)?!!i.capture:!!i,o=rc(e);if(o||(e[Ql]=o=new Kl(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=nc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)gl||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(tc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $l(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)$l(e,t[s],n,r,i);return null}return n=sc(n),e&&e[Fl]?e.P(t,n,rl(r)?!!r.capture:!!r,i):Jl(e,t,n,!0,r,i)}function Zl(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Zl(e,t[s],n,r,i);else r=rl(r)?!!r.capture:!!r,n=sc(n),e&&e[Fl]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Gl(s=e.g[t],n,r,i))&&(Vl(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=rc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Gl(t,n,r,i)),(n=-1<e?t[e]:null)&&ec(n))}function ec(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Fl])Wl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(tc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=rc(t))?(Wl(n,e),0==n.h&&(n.src=null,t[Ql]=null)):Vl(e)}}}function tc(e){return e in Yl?Yl[e]:Yl[e]="on"+e}function nc(e,t){if(e.fa)e=!0;else{t=new Ll(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ec(e),e=n.call(r,t)}return e}function rc(e){return(e=e[Ql])instanceof Kl?e:null}var ic="__closure_events_fn_"+(1e9*Math.random()>>>0);function sc(e){return"function"===typeof e?e:(e[ic]||(e[ic]=function(t){return e.handleEvent(t)}),e[ic])}function ac(){dl.call(this),this.i=new Kl(this),this.S=this,this.J=null}function oc(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ml(t,e);else if(t instanceof ml)t.target=t.target||e;else{var i=t;Hl(t=new ml(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=lc(a,r,!0,t)&&i}if(i=lc(a=t.g=e,r,!0,t)&&i,i=lc(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=lc(a=t.g=n[s],r,!1,t)&&i}function lc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Wl(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}ul(ac,dl),ac.prototype[Fl]=!0,ac.prototype.removeEventListener=function(e,t,n,r){Zl(this,e,t,n,r)},ac.prototype.N=function(){if(ac.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Vl(n[r]);delete t.g[e],t.h--}}this.J=null},ac.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ac.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var cc=tl.JSON.stringify;function uc(){var e=vc;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var dc=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new hc),(e=>e.reset()));class hc{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fc(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function pc(e){tl.setTimeout((()=>{throw e}),0)}let mc,gc=!1,vc=new class{constructor(){this.h=this.g=null}add(e,t){const n=dc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},yc=()=>{const e=tl.Promise.resolve(void 0);mc=()=>{e.then(bc)}};var bc=()=>{for(var e;e=uc();){try{e.h.call(e.g)}catch(n){pc(n)}var t=dc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}gc=!1};function wc(e,t){ac.call(this),this.h=e||1,this.g=t||tl,this.j=ll(this.qb,this),this.l=Date.now()}function _c(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ec(e,t,n){if("function"===typeof e)n&&(e=ll(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ll(e.handleEvent,e)}return 2147483647<Number(t)?-1:tl.setTimeout(e,t||0)}function kc(e){e.g=Ec((()=>{e.g=null,e.i&&(e.i=!1,kc(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}ul(wc,ac),(Jo=wc.prototype).ga=!1,Jo.T=null,Jo.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),oc(this,"tick"),this.ga&&(_c(this),this.start()))}},Jo.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Jo.N=function(){wc.$.N.call(this),_c(this),delete this.g};class Ic extends dl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kc(this)}N(){super.N(),this.g&&(tl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sc(e){dl.call(this),this.h=e,this.g={}}ul(Sc,dl);var xc=[];function Tc(e,t,n,r){Array.isArray(n)||(n&&(xc[0]=n.toString()),n=xc);for(var i=0;i<n.length;i++){var s=Xl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Cc(e){zl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ec(e)}),e),e.g={}}function Nc(){this.g=!0}function Ac(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return cc(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}Sc.prototype.N=function(){Sc.$.N.call(this),Cc(this)},Sc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nc.prototype.Ea=function(){this.g=!1},Nc.prototype.info=function(){};var Rc={},Pc=null;function Oc(){return Pc=Pc||new ac}function Dc(e){ml.call(this,Rc.Ta,e)}function Lc(e){const t=Oc();oc(t,new Dc(t))}function Mc(e,t){ml.call(this,Rc.STAT_EVENT,e),this.stat=t}function Fc(e){const t=Oc();oc(t,new Mc(t,e))}function jc(e,t){ml.call(this,Rc.Ua,e),this.size=t}function Uc(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return tl.setTimeout((function(){e()}),t)}Rc.Ta="serverreachability",ul(Dc,ml),Rc.STAT_EVENT="statevent",ul(Mc,ml),Rc.Ua="timingevent",ul(jc,ml);var Vc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zc={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Bc(){}function qc(e){return e.h||(e.h=e.i())}function Hc(){}Bc.prototype.h=null;var Kc,Wc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gc(){ml.call(this,"d")}function Qc(){ml.call(this,"c")}function Yc(){}function Xc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Sc(this),this.P=$c,e=xl?125:void 0,this.V=new wc(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Jc}function Jc(){this.i=null,this.g="",this.h=!1}ul(Gc,ml),ul(Qc,ml),ul(Yc,Bc),Yc.prototype.g=function(){return new XMLHttpRequest},Yc.prototype.i=function(){return{}},Kc=new Yc;var $c=45e3,Zc={},eu={};function tu(e,t,n){e.L=1,e.A=wu(mu(t)),e.u=n,e.S=!0,nu(e,null)}function nu(e,t){e.G=Date.now(),au(e),e.B=mu(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Ou(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Jc,e.g=Dd(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Ic(ll(e.Pa,e,e.g),e.O)),Tc(e.U,e.g,"readystatechange",e.nb),t=e.I?Bl(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Lc(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function ru(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function iu(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=su(e,n),r==eu){4==t&&(e.s=4,Fc(14),i=!1),Ac(e.j,e.m,null,"[Incomplete Response]");break}if(r==Zc){e.s=4,Fc(15),Ac(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ac(e.j,e.m,r,null),du(e,r)}ru(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Fc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),xd(t),t.M=!0,Fc(11))):(Ac(e.j,e.m,n,"[Invalid Chunked Response]"),uu(e),cu(e))}function su(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?eu:(n=Number(t.substring(n,r)),isNaN(n)?Zc:(r+=1)+n>t.length?eu:(t=t.slice(r,r+n),e.o=r+n,t))}function au(e){e.Y=Date.now()+e.P,ou(e,e.P)}function ou(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Uc(ll(e.lb,e),t)}function lu(e){e.C&&(tl.clearTimeout(e.C),e.C=null)}function cu(e){0==e.l.H||e.J||Nd(e.l,e)}function uu(e){lu(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,_c(e.V),Cc(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function du(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Vu(n.i,e)))if(!e.K&&Vu(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Cd(n),yd(n)}Sd(n),Fc(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Uc(ll(n.ib,n),6e3));if(1>=Uu(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Rd(n,11)}else if((e.K||n.g==e)&&Cd(n),!vl(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(zu(s,s.h),s.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,bu(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Od(r,r.J?r.pa:null,r.Y),a.K){Bu(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.C&&(lu(o),au(o)),r.g=a}else Id(r);0<n.j.length&&wd(n)}else"stop"!=c[0]&&"close"!=c[0]||Rd(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Rd(n,7):vd(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Lc()}catch(c){}}function hu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(nl(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(nl(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(nl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Jo=Xc.prototype).setTimeout=function(e){this.P=e},Jo.nb=function(e){e=e.target;const t=this.M;t&&3==dd(e)?t.l():this.Pa(e)},Jo.Pa=function(e){try{if(e==this.g)e:{const u=dd(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||xl||this.g&&(this.h.h||this.g.ja()||hd(this.g)))){this.J||4!=u||7==t||Lc(),lu(this);var n=this.g.da();this.ca=n;t:if(ru(this)){var r=hd(this.g);e="";var i=r.length,s=4==dd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){uu(this),cu(this);var a="";break t}this.h.i=new tl.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vl(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Fc(12),uu(this),cu(this);break e}Ac(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,du(this,n)}this.S?(iu(this,u,a),xl&&this.i&&3==u&&(Tc(this.U,this.V,"tick",this.mb),this.V.start())):(Ac(this.j,this.m,a,null),du(this,a)),4==u&&uu(this),this.i&&!this.J&&(4==u?Nd(this.l,this):(this.i=!1,au(this)))}else(function(e){const t={};e=(e.g&&2<=dd(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(vl(e[r]))continue;var n=fc(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Fc(12)):(this.s=0,Fc(13)),uu(this),cu(this)}}}catch(u){}},Jo.mb=function(){if(this.g){var e=dd(this.g),t=this.g.ja();this.o<t.length&&(lu(this),iu(this,e,t),this.i&&4!=e&&au(this))}},Jo.cancel=function(){this.J=!0,uu(this)},Jo.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Lc(),Fc(17)),uu(this),this.s=2,cu(this)):ou(this,this.Y-e)};var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pu(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof pu){this.h=e.h,gu(this,e.j),this.s=e.s,this.g=e.g,vu(this,e.m),this.l=e.l;var t=e.i,n=new Nu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),yu(this,n),this.o=e.o}else e&&(t=String(e).match(fu))?(this.h=!1,gu(this,t[1]||"",!0),this.s=_u(t[2]||""),this.g=_u(t[3]||"",!0),vu(this,t[4]),this.l=_u(t[5]||"",!0),yu(this,t[6]||"",!0),this.o=_u(t[7]||"")):(this.h=!1,this.i=new Nu(null,this.h))}function mu(e){return new pu(e)}function gu(e,t,n){e.j=n?_u(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function yu(e,t,n){t instanceof Nu?(e.i=t,function(e,t){t&&!e.j&&(Au(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ru(this,t),Ou(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Eu(t,Tu)),e.i=new Nu(t,e.h))}function bu(e,t,n){e.i.set(t,n)}function wu(e){return bu(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function _u(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Eu(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ku),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ku(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}pu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Eu(t,Iu,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Eu(t,Iu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Eu(n,"/"==n.charAt(0)?xu:Su,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Eu(n,Cu)),e.join("")};var Iu=/[#\/\?@]/g,Su=/[#\?:]/g,xu=/[#\?]/g,Tu=/[#\?@]/g,Cu=/#/g;function Nu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Au(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ru(e,t){Au(e),t=Du(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Pu(e,t){return Au(e),t=Du(e,t),e.g.has(t)}function Ou(e,t,n){Ru(e,t),0<n.length&&(e.i=null,e.g.set(Du(e,t),fl(n)),e.h+=n.length)}function Du(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Jo=Nu.prototype).add=function(e,t){Au(this),this.i=null,e=Du(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Jo.forEach=function(e,t){Au(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Jo.ta=function(){Au(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Jo.Z=function(e){Au(this);let t=[];if("string"===typeof e)Pu(this,e)&&(t=t.concat(this.g.get(Du(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Jo.set=function(e,t){return Au(this),this.i=null,Pu(this,e=Du(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Jo.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Jo.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Lu=class{constructor(e,t){this.g=e,this.map=t}};function Mu(e){this.l=e||Fu,tl.PerformanceNavigationTiming?e=0<(e=tl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(tl.g&&tl.g.Ka&&tl.g.Ka()&&tl.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Fu=10;function ju(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Uu(e){return e.h?1:e.g?e.g.size:0}function Vu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function zu(e,t){e.g?e.g.add(t):e.h=t}function Bu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function qu(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return fl(e.i)}Mu.prototype.cancel=function(){if(this.i=qu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Hu,Ku=class{stringify(e){return tl.JSON.stringify(e,void 0)}parse(e){return tl.JSON.parse(e,void 0)}};function Wu(){this.g=new Ku}function Gu(e,t,n){const r=n||"";try{hu(e,(function(e,n){let i=e;rl(e)&&(i=cc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(xL){throw t.push(r+"type="+encodeURIComponent("_badmap")),xL}}function Qu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Yu(e){this.l=e.ec||null,this.j=e.ob||!1}function Xu(e,t){ac.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ju,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ul(Yu,Bc),Yu.prototype.g=function(){return new Xu(this.l,this.j)},Yu.prototype.i=(Hu={},function(){return Hu}),ul(Xu,ac);var Ju=0;function $u(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Zu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ed(e)}function ed(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Jo=Xu.prototype).open=function(e,t){if(this.readyState!=Ju)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ed(this)},Jo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||tl).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Jo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zu(this)),this.readyState=Ju},Jo.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ed(this)),this.g&&(this.readyState=3,ed(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof tl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$u(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Jo.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Zu(this):ed(this),3==this.readyState&&$u(this)}},Jo.Za=function(e){this.g&&(this.response=this.responseText=e,Zu(this))},Jo.Ya=function(e){this.g&&(this.response=e,Zu(this))},Jo.ka=function(){this.g&&Zu(this)},Jo.setRequestHeader=function(e,t){this.v.append(e,t)},Jo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Jo.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Xu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var td=tl.JSON.parse;function nd(e){ac.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=rd,this.L=this.M=!1}ul(nd,ac);var rd="",id=/^https?$/i,sd=["POST","PUT"];function ad(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,od(e),cd(e)}function od(e){e.F||(e.F=!0,oc(e,"complete"),oc(e,"error"))}function ld(e){if(e.h&&"undefined"!=typeof el&&(!e.C[1]||4!=dd(e)||2!=e.da()))if(e.v&&4==dd(e))Ec(e.La,0,e);else if(oc(e,"readystatechange"),4==dd(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(fu)[1]||null;!i&&tl.self&&tl.self.location&&(i=tl.self.location.protocol.slice(0,-1)),r=!id.test(i?i.toLowerCase():"")}n=r}if(n)oc(e,"complete"),oc(e,"success");else{e.m=6;try{var s=2<dd(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",od(e)}}finally{cd(e)}}}function cd(e,t){if(e.g){ud(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||oc(e,"ready");try{n.onreadystatechange=r}catch(xL){}}}function ud(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(tl.clearTimeout(e.A),e.A=null)}function dd(e){return e.g?e.g.readyState:0}function hd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case rd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(bh){return null}}function fd(e){let t="";return zl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function pd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=fd(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):bu(e,t,n))}function md(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function gd(e){this.Ga=0,this.j=[],this.l=new Nc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=md("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=md("baseRetryDelayMs",5e3,e),this.hb=md("retryDelaySeedMs",1e4,e),this.eb=md("forwardChannelMaxRetries",2,e),this.xa=md("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Mu(e&&e.concurrentRequestLimit),this.Ja=new Wu,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vd(e){if(bd(e),3==e.H){var t=e.W++,n=mu(e.I);if(bu(n,"SID",e.K),bu(n,"RID",t),bu(n,"TYPE","terminate"),Ed(e,n),(t=new Xc(e,e.l,t)).L=2,t.A=wu(mu(n)),n=!1,tl.navigator&&tl.navigator.sendBeacon)try{n=tl.navigator.sendBeacon(t.A.toString(),"")}catch(uR){}!n&&tl.Image&&((new Image).src=t.A,n=!0),n||(t.g=Dd(t.l,null),t.g.ha(t.A)),t.G=Date.now(),au(t)}Pd(e)}function yd(e){e.g&&(xd(e),e.g.cancel(),e.g=null)}function bd(e){yd(e),e.u&&(tl.clearTimeout(e.u),e.u=null),Cd(e),e.i.cancel(),e.m&&("number"===typeof e.m&&tl.clearTimeout(e.m),e.m=null)}function wd(e){if(!ju(e.i)&&!e.m){e.m=!0;var t=e.Na;mc||yc(),gc||(mc(),gc=!0),vc.add(t,e),e.C=0}}function _d(e,t){var n;n=t?t.m:e.W++;const r=mu(e.I);bu(r,"SID",e.K),bu(r,"RID",n),bu(r,"AID",e.V),Ed(e,r),e.o&&e.s&&pd(r,e.o,e.s),n=new Xc(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=kd(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),zu(e.i,n),tu(n,r,t)}function Ed(e,t){e.na&&zl(e.na,(function(e,n){bu(t,n,e)})),e.h&&hu({},(function(e,n){bu(t,n,e)}))}function kd(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ll(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Gu(o,e,"req"+n+"_")}catch(Ff){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Id(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;mc||yc(),gc||(mc(),gc=!0),vc.add(t,e),e.A=0}}function Sd(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Uc(ll(e.Ma,e),Ad(e,e.A)),e.A++,!0)}function xd(e){null!=e.B&&(tl.clearTimeout(e.B),e.B=null)}function Td(e){e.g=new Xc(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=mu(e.wa);bu(t,"RID","rpc"),bu(t,"SID",e.K),bu(t,"AID",e.V),bu(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&bu(t,"TO",e.qa),bu(t,"TYPE","xmlhttp"),Ed(e,t),e.o&&e.s&&pd(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=wu(mu(t)),n.u=null,n.S=!0,nu(n,e)}function Cd(e){null!=e.v&&(tl.clearTimeout(e.v),e.v=null)}function Nd(e,t){var n=null;if(e.g==t){Cd(e),xd(e),e.g=null;var r=2}else{if(!Vu(e.i,t))return;n=t.F,Bu(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;oc(r=Oc(),new jc(r,n)),wd(e)}else Id(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Uu(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Uc(ll(e.Na,e,t),Ad(e,e.C)),e.C++,!0))}(e,t)||2==r&&Sd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Rd(e,5);break;case 4:Rd(e,10);break;case 3:Rd(e,6);break;default:Rd(e,2)}}function Ad(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Rd(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ll(e.pb,e);n||(n=new pu("//www.google.com/images/cleardot.gif"),tl.location&&"http"==tl.location.protocol||gu(n,"https"),wu(n)),function(e,t){const n=new Nc;if(tl.Image){const r=new Image;r.onload=cl(Qu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=cl(Qu,n,r,"TestLoadImage: error",!1,t),r.onabort=cl(Qu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=cl(Qu,n,r,"TestLoadImage: timeout",!1,t),tl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Fc(2);e.H=0,e.h&&e.h.za(t),Pd(e),bd(e)}function Pd(e){if(e.H=0,e.ma=[],e.h){const t=qu(e.i);0==t.length&&0==e.j.length||(pl(e.ma,t),pl(e.ma,e.j),e.i.i.length=0,fl(e.j),e.j.length=0),e.h.ya()}}function Od(e,t,n){var r=n instanceof pu?mu(n):new pu(n);if(""!=r.g)t&&(r.g=t+"."+r.g),vu(r,r.m);else{var i=tl.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new pu(null);r&&gu(s,r),t&&(s.g=t),i&&vu(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&bu(r,n,t),bu(r,"VER",e.ra),Ed(e,r),r}function Dd(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new nd(new Yu({ob:n})):new nd(e.va)).Oa(e.J),t}function Ld(){}function Md(){if(Il&&!(10<=Number(Dl)))throw Error("Environmental error: no available transport.")}function Fd(e,t){ac.call(this),this.g=new gd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!vl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!vl(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Vd(this)}function jd(e){Gc.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ud(){Qc.call(this),this.status=1}function Vd(e){this.g=e}function zd(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Bd(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function qd(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Jo=nd.prototype).Oa=function(e){this.M=e},Jo.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Kc.g(),this.C=this.u?qc(this.u):qc(Kc),this.g.onreadystatechange=ll(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void ad(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=tl.FormData&&e instanceof tl.FormData,!(0<=hl(sd,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ud(this),0<this.B&&((this.L=function(e){return Il&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ll(this.ua,this)):this.A=Ec(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ad(this,s)}},Jo.ua=function(){"undefined"!=typeof el&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oc(this,"timeout"),this.abort(8))},Jo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,oc(this,"complete"),oc(this,"abort"),cd(this))},Jo.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cd(this,!0)),nd.$.N.call(this)},Jo.La=function(){this.s||(this.G||this.v||this.l?ld(this):this.kb())},Jo.kb=function(){ld(this)},Jo.isActive=function(){return!!this.g},Jo.da=function(){try{return 2<dd(this)?this.g.status:-1}catch(Hu){return-1}},Jo.ja=function(){try{return this.g?this.g.responseText:""}catch(Hu){return""}},Jo.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),td(t)}},Jo.Ia=function(){return this.m},Jo.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Jo=gd.prototype).ra=8,Jo.H=1,Jo.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Xc(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Bl(s),Hl(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=kd(this,i,t),bu(n=mu(this.I),"RID",e),bu(n,"CVER",22),this.F&&bu(n,"X-HTTP-Session-Id",this.F),Ed(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(fd(s)))+"&"+t:this.o&&pd(n,this.o,s)),zu(this.i,i),this.bb&&bu(n,"TYPE","init"),this.P?(bu(n,"$req",t),bu(n,"SID","null"),i.aa=!0,tu(i,n,null)):tu(i,n,t),this.H=2}}else 3==this.H&&(e?_d(this,e):0==this.j.length||ju(this.i)||_d(this))},Jo.Ma=function(){if(this.u=null,Td(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Uc(ll(this.jb,this),e)}},Jo.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fc(10),yd(this),Td(this))},Jo.ib=function(){null!=this.v&&(this.v=null,yd(this),Sd(this),Fc(19))},Jo.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Fc(2)):(this.l.info("Failed to ping google.com"),Fc(1))},Jo.isActive=function(){return!!this.h&&this.h.isActive(this)},(Jo=Ld.prototype).Ba=function(){},Jo.Aa=function(){},Jo.za=function(){},Jo.ya=function(){},Jo.isActive=function(){return!0},Jo.Va=function(){},Md.prototype.g=function(e,t){return new Fd(e,t)},ul(Fd,ac),Fd.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Fc(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Od(e,null,e.Y),wd(e)},Fd.prototype.close=function(){vd(this.g)},Fd.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=cc(e),e=n);t.j.push(new Lu(t.fb++,e)),3==t.H&&wd(t)},Fd.prototype.N=function(){this.g.h=null,delete this.j,vd(this.g),delete this.g,Fd.$.N.call(this)},ul(jd,Gc),ul(Ud,Qc),ul(Vd,Ld),Vd.prototype.Ba=function(){oc(this.g,"a")},Vd.prototype.Aa=function(e){oc(this.g,new jd(e))},Vd.prototype.za=function(e){oc(this.g,new Ud)},Vd.prototype.ya=function(){oc(this.g,"b")},ul(zd,(function(){this.blockSize=-1})),zd.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zd.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Bd(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Bd(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Bd(this,r),i=0;break}}this.h=i,this.i+=t},zd.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Hd={};function Kd(e){return-128<=e&&128>e?function(e,t){var n=Hd;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new qd([0|e],0>e?-1:0)})):new qd([0|e],0>e?-1:0)}function Wd(e){if(isNaN(e)||!isFinite(e))return Qd;if(0>e)return Zd(Wd(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Gd;return new qd(t,0)}var Gd=4294967296,Qd=Kd(0),Yd=Kd(1),Xd=Kd(16777216);function Jd(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function $d(e){return-1==e.h}function Zd(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new qd(n,~e.h).add(Yd)}function eh(e,t){return e.add(Zd(t))}function th(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function nh(e,t){this.g=e,this.h=t}function rh(e,t){if(Jd(t))throw Error("division by zero");if(Jd(e))return new nh(Qd,Qd);if($d(e))return t=rh(Zd(e),t),new nh(Zd(t.g),Zd(t.h));if($d(t))return t=rh(e,Zd(t)),new nh(Zd(t.g),t.h);if(30<e.g.length){if($d(e)||$d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Yd,r=t;0>=r.X(e);)n=ih(n),r=ih(r);var i=sh(n,1),s=sh(r,1);for(r=sh(r,2),n=sh(n,2);!Jd(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=sh(r,1),n=sh(n,1)}return t=eh(e,i.R(t)),new nh(i,t)}for(i=Qd;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Wd(n)).R(t);$d(a)||0<a.X(e);)a=(s=Wd(n-=r)).R(t);Jd(s)&&(s=Yd),i=i.add(s),e=eh(e,a)}return new nh(i,e)}function ih(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new qd(n,e.h)}function sh(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new qd(i,e.h)}(Jo=qd.prototype).ea=function(){if($d(this))return-Zd(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Gd+r)*t,t*=Gd}return e},Jo.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Jd(this))return"0";if($d(this))return"-"+Zd(this).toString(e);for(var t=Wd(Math.pow(e,6)),n=this,r="";;){var i=rh(n,t).g,s=((0<(n=eh(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Jd(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Jo.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Jo.X=function(e){return $d(e=eh(this,e))?-1:Jd(e)?0:1},Jo.abs=function(){return $d(this)?Zd(this):this},Jo.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new qd(n,-2147483648&n[n.length-1]?-1:0)},Jo.R=function(e){if(Jd(this)||Jd(e))return Qd;if($d(this))return $d(e)?Zd(this).R(Zd(e)):Zd(Zd(this).R(e));if($d(e))return Zd(this.R(Zd(e)));if(0>this.X(Xd)&&0>e.X(Xd))return Wd(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,th(n,2*r+2*i),n[2*r+2*i+1]+=s*l,th(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,th(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,th(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new qd(n,0)},Jo.gb=function(e){return rh(this,e).h},Jo.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new qd(n,this.h&e.h)},Jo.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new qd(n,this.h|e.h)},Jo.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new qd(n,this.h^e.h)},Md.prototype.createWebChannel=Md.prototype.g,Fd.prototype.send=Fd.prototype.u,Fd.prototype.open=Fd.prototype.m,Fd.prototype.close=Fd.prototype.close,Vc.NO_ERROR=0,Vc.TIMEOUT=8,Vc.HTTP_ERROR=6,zc.COMPLETE="complete",Hc.EventType=Wc,Wc.OPEN="a",Wc.CLOSE="b",Wc.ERROR="c",Wc.MESSAGE="d",ac.prototype.listen=ac.prototype.O,nd.prototype.listenOnce=nd.prototype.P,nd.prototype.getLastError=nd.prototype.Sa,nd.prototype.getLastErrorCode=nd.prototype.Ia,nd.prototype.getStatus=nd.prototype.da,nd.prototype.getResponseJson=nd.prototype.Wa,nd.prototype.getResponseText=nd.prototype.ja,nd.prototype.send=nd.prototype.ha,nd.prototype.setWithCredentials=nd.prototype.Oa,zd.prototype.digest=zd.prototype.l,zd.prototype.reset=zd.prototype.reset,zd.prototype.update=zd.prototype.j,qd.prototype.add=qd.prototype.add,qd.prototype.multiply=qd.prototype.R,qd.prototype.modulo=qd.prototype.gb,qd.prototype.compare=qd.prototype.X,qd.prototype.toNumber=qd.prototype.ea,qd.prototype.toString=qd.prototype.toString,qd.prototype.getBits=qd.prototype.D,qd.fromNumber=Wd,qd.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Zd(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Wd(Math.pow(n,8)),i=Qd,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=Wd(Math.pow(n,a)),i=i.R(a).add(Wd(o))):i=(i=i.R(r)).add(Wd(o))}return i};var ah=Zo.createWebChannelTransport=function(){return new Md},oh=Zo.getStatEventTarget=function(){return Oc()},lh=Zo.ErrorCode=Vc,ch=Zo.EventType=zc,uh=Zo.Event=Rc,dh=Zo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},hh=(Zo.FetchXmlHttpFactory=Yu,Zo.WebChannel=Hc),fh=Zo.XhrIo=nd,ph=Zo.Md5=zd,mh=Zo.Integer=qd;const gh="@firebase/firestore";class vh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vh.UNAUTHENTICATED=new vh(null),vh.GOOGLE_CREDENTIALS=new vh("google-credentials-uid"),vh.FIRST_PARTY=new vh("first-party-uid"),vh.MOCK_USER=new vh("mock-user");let yh="10.8.0";const bh=new Nn("@firebase/firestore");function wh(){return bh.logLevel}function _h(e){if(bh.logLevel<=In.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ih);bh.debug("Firestore (".concat(yh,"): ").concat(e),...i)}}function Eh(e){if(bh.logLevel<=In.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ih);bh.error("Firestore (".concat(yh,"): ").concat(e),...i)}}function kh(e){if(bh.logLevel<=In.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ih);bh.warn("Firestore (".concat(yh,"): ").concat(e),...i)}}function Ih(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Sh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(yh,") INTERNAL ASSERTION FAILED: ")+e;throw Eh(t),new Error(t)}function xh(e,t){e||Sh()}function Th(e,t){return e}const Ch={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nh extends an{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ah{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Rh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ph{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(vh.UNAUTHENTICATED)))}shutdown(){}}class Oh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Dh{constructor(e){this.t=e,this.currentUser=vh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ah;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ah,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{_h("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(_h("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ah)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(_h("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(xh("string"==typeof t.accessToken),new Rh(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xh(null===e||"string"==typeof e),new vh(e)}}class Lh{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=vh.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Mh{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Lh(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(vh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jh{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&_h("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,_h("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{_h("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):_h("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(xh("string"==typeof e.token),this.R=e.token,new Fh(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Uh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Vh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Uh(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function zh(e,t){return e<t?-1:e>t?1:0}function Bh(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function qh(e){return e+"\0"}class Hh{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nh(Ch.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nh(Ch.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nh(Ch.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nh(Ch.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hh.fromMillis(Date.now())}static fromDate(e){return Hh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Hh(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zh(this.nanoseconds,e.nanoseconds):zh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kh{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Kh(e)}static min(){return new Kh(new Hh(0,0))}static max(){return new Kh(new Hh(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wh{constructor(e,t,n){void 0===t?t=0:t>e.length&&Sh(),void 0===n?n=e.length-t:n>e.length-t&&Sh(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Wh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wh?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gh extends Wh{construct(e,t,n){return new Gh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Nh(Ch.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Gh(e)}static emptyPath(){return new Gh([])}}const Qh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yh extends Wh{construct(e,t,n){return new Yh(e,t,n)}static isValidIdentifier(e){return Qh.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yh.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yh(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Nh(Ch.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Nh(Ch.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Nh(Ch.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Nh(Ch.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yh(t)}static emptyPath(){return new Yh([])}}class Xh{constructor(e){this.path=e}static fromPath(e){return new Xh(Gh.fromString(e))}static fromName(e){return new Xh(Gh.fromString(e).popFirst(5))}static empty(){return new Xh(Gh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Gh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xh(new Gh(e.slice()))}}class Jh{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function $h(e){return e.fields.find((e=>2===e.kind))}function Zh(e){return e.fields.filter((e=>2!==e.kind))}Jh.UNKNOWN_ID=-1;class ef{constructor(e,t){this.fieldPath=e,this.kind=t}}class tf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new tf(0,sf.min())}}function nf(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Kh.fromTimestamp(1e9===r?new Hh(n+1,0):new Hh(n,r));return new sf(i,Xh.empty(),t)}function rf(e){return new sf(e.readTime,e.key,-1)}class sf{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new sf(Kh.min(),Xh.empty(),-1)}static max(){return new sf(Kh.max(),Xh.empty(),-1)}}function af(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Xh.comparator(e.documentKey,t.documentKey),0!==n?n:zh(e.largestBatchId,t.largestBatchId))}const of="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cf(e){if(e.code!==Ch.FAILED_PRECONDITION||e.message!==of)throw e;_h("LocalStore","Unexpectedly lost primary lease")}class uf{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Sh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new uf(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof uf?t:uf.resolve(t)}catch(e){return uf.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):uf.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):uf.reject(t)}static resolve(e){return new uf(((t,n)=>{t(e)}))}static reject(e){return new uf(((t,n)=>{n(e)}))}static waitFor(e){return new uf(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=uf.resolve(!1);for(const n of e)t=t.next((e=>e?uf.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new uf(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new uf(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class df{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Ah,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new pf(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=bf(t.target.error);this.V.reject(new pf(e,n))}}static open(e,t,n,r){try{return new df(t,e.transaction(r,n))}catch(e){throw new pf(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(_h("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gf(t)}}class hf{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===hf.S($t())&&Eh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return _h("SimpleDb","Removing database:",e),vf(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!sn())return!1;if(hf.C())return!0;const e=$t(),t=hf.S(e),n=0<t&&t<10,r=hf.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(_h("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new pf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Nh(Ch.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Nh(Ch.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new pf(e,r))},r.onupgradeneeded=e=>{_h("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{_h("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=df.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),uf.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(_h("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ff{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return vf(this.k.delete())}}class pf extends Nh{constructor(e,t){super(Ch.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function mf(e){return"IndexedDbTransactionError"===e.name}class gf{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(_h("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(_h("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),vf(n)}add(e){return _h("SimpleDb","ADD",this.store.name,e,e),vf(this.store.add(e))}get(e){return vf(this.store.get(e)).next((t=>(void 0===t&&(t=null),_h("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return _h("SimpleDb","DELETE",this.store.name,e),vf(this.store.delete(e))}count(){return _h("SimpleDb","COUNT",this.store.name),vf(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new uf(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new uf(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){_h("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new uf(((n,r)=>{t.onerror=e=>{const t=bf(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new uf(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new ff(i),a=t(i.primaryKey,i.value,s);if(a instanceof uf){const e=a.catch((e=>(s.done(),uf.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>uf.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vf(e){return new uf(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=bf(e.target.error);n(t)}}))}let yf=!1;function bf(e){const t=hf.S($t());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Nh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return yf||(yf=!0,setTimeout((()=>{throw e}),0)),e}}return e}class wf{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){_h("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{_h("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){mf(e)?_h("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await cf(e)}await this.ee(6e4)}))}}class _f{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return uf.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return _h("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(_h("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=rf(t);af(r,n)>0&&(n=r)})),new sf(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ef{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function kf(e){return null==e}function If(e){return 0===e&&1/e==-1/0}function Sf(e){return"number"==typeof e&&Number.isInteger(e)&&!If(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function xf(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Cf(t)),t=Tf(e.get(n),t);return Cf(t)}function Tf(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Cf(e){return e+"\x01\x01"}function Nf(e){const t=e.length;if(xh(t>=2),2===t)return xh("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Gh.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Sh(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Sh()}s=t+2}return new Gh(r)}Ef._e=-1;const Af=["userId","batchId"];function Rf(e,t){return[e,xf(t)]}function Pf(e,t,n){return[e,xf(t),n]}const Of={},Df=["prefixPath","collectionGroup","readTime","documentId"],Lf=["prefixPath","collectionGroup","documentId"],Mf=["collectionGroup","readTime","prefixPath","documentId"],Ff=["canonicalId","targetId"],jf=["targetId","path"],Uf=["path","targetId"],Vf=["collectionId","parent"],zf=["indexId","uid"],Bf=["uid","sequenceNumber"],qf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Hf=["indexId","uid","orderedDocumentKey"],Kf=["userId","collectionPath","documentId"],Wf=["userId","collectionPath","largestBatchId"],Gf=["userId","collectionGroup","largestBatchId"],Qf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Yf=[...Qf,"documentOverlays"],Xf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Jf=Xf,$f=[...Jf,"indexConfiguration","indexState","indexEntries"];class Zf extends lf{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function ep(e,t){const n=Th(e);return hf.M(n.ae,t)}function tp(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function np(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ip{constructor(e,t){this.comparator=e,this.root=t||ap.EMPTY}insert(e,t){return new ip(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ap.BLACK,null,null))}remove(e){return new ip(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ap.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sp(this.root,e,this.comparator,!1)}getReverseIterator(){return new sp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sp(this.root,e,this.comparator,!0)}}class sp{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ap{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ap.RED,this.left=null!=r?r:ap.EMPTY,this.right=null!=i?i:ap.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ap(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ap.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ap.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ap.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ap.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Sh();if(this.right.isRed())throw Sh();const e=this.left.check();if(e!==this.right.check())throw Sh();return e+(this.isRed()?0:1)}}ap.EMPTY=null,ap.RED=!0,ap.BLACK=!1,ap.EMPTY=new class{constructor(){this.size=0}get key(){throw Sh()}get value(){throw Sh()}get color(){throw Sh()}get left(){throw Sh()}get right(){throw Sh()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ap(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class op{constructor(e){this.comparator=e,this.data=new ip(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lp(this.data.getIterator())}getIteratorFrom(e){return new lp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof op))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new op(this.comparator);return t.data=e,t}}class lp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function cp(e){return e.hasNext()?e.getNext():void 0}class up{constructor(e){this.fields=e,e.sort(Yh.comparator)}static empty(){return new up([])}unionWith(e){let t=new op(Yh.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new up(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bh(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class dp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hp{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new dp("Invalid base64 string: "+e):e}}(e);return new hp(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new hp(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hp.EMPTY_BYTE_STRING=new hp("");const fp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pp(e){if(xh(!!e),"string"==typeof e){let t=0;const n=fp.exec(e);if(xh(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:mp(e.seconds),nanos:mp(e.nanos)}}function mp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gp(e){return"string"==typeof e?hp.fromBase64String(e):hp.fromUint8Array(e)}function vp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yp(e){const t=e.mapValue.fields.__previous_value__;return vp(t)?yp(t):t}function bp(e){const t=pp(e.mapValue.fields.__local_write_time__.timestampValue);return new Hh(t.seconds,t.nanos)}class wp{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class _p{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _p("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _p&&e.projectId===this.projectId&&e.database===this.database}}const Ep={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},kp={nullValue:"NULL_VALUE"};function Ip(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vp(e)?4:jp(e)?9007199254740991:10:Sh()}function Sp(e,t){if(e===t)return!0;const n=Ip(e);if(n!==Ip(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bp(e).isEqual(bp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=pp(e.timestampValue),r=pp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gp(e.bytesValue).isEqual(gp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return mp(e.geoPointValue.latitude)===mp(t.geoPointValue.latitude)&&mp(e.geoPointValue.longitude)===mp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return mp(e.integerValue)===mp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=mp(e.doubleValue),r=mp(t.doubleValue);return n===r?If(n)===If(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Bh(e.arrayValue.values||[],t.arrayValue.values||[],Sp);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(tp(n)!==tp(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Sp(n[i],r[i])))return!1;return!0}(e,t);default:return Sh()}}function xp(e,t){return void 0!==(e.values||[]).find((e=>Sp(e,t)))}function Tp(e,t){if(e===t)return 0;const n=Ip(e),r=Ip(t);if(n!==r)return zh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=mp(e.integerValue||e.doubleValue),r=mp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Cp(e.timestampValue,t.timestampValue);case 4:return Cp(bp(e),bp(t));case 5:return zh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=gp(e),r=gp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=zh(n[i],r[i]);if(0!==e)return e}return zh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=zh(mp(e.latitude),mp(t.latitude));return 0!==n?n:zh(mp(e.longitude),mp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Tp(n[i],r[i]);if(e)return e}return zh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ep.mapValue&&t===Ep.mapValue)return 0;if(e===Ep.mapValue)return 1;if(t===Ep.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=zh(r[a],s[a]);if(0!==e)return e;const t=Tp(n[r[a]],i[s[a]]);if(0!==t)return t}return zh(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Sh()}}function Cp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return zh(e,t);const n=pp(e),r=pp(t),i=zh(n.seconds,r.seconds);return 0!==i?i:zh(n.nanos,r.nanos)}function Np(e){return Ap(e)}function Ap(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=pp(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return gp(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Xh.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ap(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ap(e.fields[i]));return n+"}"}(e.mapValue):Sh()}function Rp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Pp(e){return!!e&&"integerValue"in e}function Op(e){return!!e&&"arrayValue"in e}function Dp(e){return!!e&&"nullValue"in e}function Lp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Mp(e){return!!e&&"mapValue"in e}function Fp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return np(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Fp(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fp(e.arrayValue.values[n]);return t}return Object.assign({},e)}function jp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Up(e){return"nullValue"in e?kp:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Rp(_p.empty(),Xh.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Sh()}function Vp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Rp(_p.empty(),Xh.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ep:Sh()}function zp(e,t){const n=Tp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Bp(e,t){const n=Tp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class qp{constructor(e){this.value=e}static empty(){return new qp({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Mp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fp(t)}setAll(e){let t=Yh.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Fp(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Mp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sp(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Mp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){np(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new qp(Fp(this.value))}}function Hp(e){const t=[];return np(e.fields,((e,n)=>{const r=new Yh([e]);if(Mp(n)){const e=Hp(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new up(t)}class Kp{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Kp(e,0,Kh.min(),Kh.min(),Kh.min(),qp.empty(),0)}static newFoundDocument(e,t,n,r){return new Kp(e,1,t,Kh.min(),n,r,0)}static newNoDocument(e,t){return new Kp(e,2,t,Kh.min(),Kh.min(),qp.empty(),0)}static newUnknownDocument(e,t){return new Kp(e,3,t,Kh.min(),Kh.min(),qp.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Kh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qp.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qp.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kp&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kp(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Wp{constructor(e,t){this.position=e,this.inclusive=t}}function Gp(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Xh.comparator(Xh.fromName(a.referenceValue),n.key):Tp(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Qp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Sp(e.position[n],t.position[n]))return!1;return!0}class Yp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Xp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Jp{}class $p extends Jp{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new lm(e,t,n):"array-contains"===t?new hm(e,n):"in"===t?new fm(e,n):"not-in"===t?new pm(e,n):"array-contains-any"===t?new mm(e,n):new $p(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new cm(e,n):new um(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Tp(t,this.value)):null!==t&&Ip(this.value)===Ip(t)&&this.matchesComparison(Tp(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Sh()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zp extends Jp{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Zp(e,t)}matches(e){return em(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function em(e){return"and"===e.op}function tm(e){return"or"===e.op}function nm(e){return rm(e)&&em(e)}function rm(e){for(const t of e.filters)if(t instanceof Zp)return!1;return!0}function im(e){if(e instanceof $p)return e.field.canonicalString()+e.op.toString()+Np(e.value);if(nm(e))return e.filters.map((e=>im(e))).join(",");{const t=e.filters.map((e=>im(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function sm(e,t){return e instanceof $p?function(e,t){return t instanceof $p&&e.op===t.op&&e.field.isEqual(t.field)&&Sp(e.value,t.value)}(e,t):e instanceof Zp?function(e,t){return t instanceof Zp&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&sm(n,t.filters[r])),!0)}(e,t):void Sh()}function am(e,t){const n=e.filters.concat(t);return Zp.create(n,e.op)}function om(e){return e instanceof $p?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Np(e.value))}(e):e instanceof Zp?function(e){return e.op.toString()+" {"+e.getFilters().map(om).join(" ,")+"}"}(e):"Filter"}class lm extends $p{constructor(e,t,n){super(e,t,n),this.key=Xh.fromName(n.referenceValue)}matches(e){const t=Xh.comparator(e.key,this.key);return this.matchesComparison(t)}}class cm extends $p{constructor(e,t){super(e,"in",t),this.keys=dm("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class um extends $p{constructor(e,t){super(e,"not-in",t),this.keys=dm("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function dm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Xh.fromName(e.referenceValue)))}class hm extends $p{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Op(t)&&xp(t.arrayValue,this.value)}}class fm extends $p{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xp(this.value.arrayValue,t)}}class pm extends $p{constructor(e,t){super(e,"not-in",t)}matches(e){if(xp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xp(this.value.arrayValue,t)}}class mm extends $p{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Op(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>xp(this.value.arrayValue,e)))}}class gm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ce=null}}function vm(e){return new gm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ym(e){const t=Th(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>im(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),kf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Np(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Np(e))).join(",")),t.ce=e}return t.ce}function bm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Xp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!sm(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Qp(e.startAt,t.startAt)&&Qp(e.endAt,t.endAt)}function wm(e){return Xh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function _m(e,t){return e.filters.filter((e=>e instanceof $p&&e.field.isEqual(t)))}function Em(e,t,n){let r=kp,i=!0;for(const s of _m(e,t)){let e=kp,t=!0;switch(s.op){case"<":case"<=":e=Up(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=kp}zp({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];zp({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function km(e,t,n){let r=Ep,i=!0;for(const s of _m(e,t)){let e=Ep,t=!0;switch(s.op){case">=":case">":e=Vp(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Ep}Bp({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Bp({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Im{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Sm(e,t,n,r,i,s,a,o){return new Im(e,t,n,r,i,s,a,o)}function xm(e){return new Im(e)}function Tm(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Cm(e){return null!==e.collectionGroup}function Nm(e){const t=Th(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new op(Yh.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Yp(r,n))})),e.has(Yh.keyField().canonicalString())||t.le.push(new Yp(Yh.keyField(),n))}return t.le}function Am(e){const t=Th(e);return t.he||(t.he=Rm(t,Nm(e))),t.he}function Rm(e,t){if("F"===e.limitType)return vm(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Yp(e.field,t)}));const n=e.endAt?new Wp(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Wp(e.startAt.position,e.startAt.inclusive):null;return vm(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Pm(e,t){const n=e.filters.concat([t]);return new Im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Om(e,t,n){return new Im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Dm(e,t){return bm(Am(e),Am(t))&&e.limitType===t.limitType}function Lm(e){return"".concat(ym(Am(e)),"|lt:").concat(e.limitType)}function Mm(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>om(e))).join(", "),"]")),kf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Np(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Np(e))).join(",")),"Target(".concat(t,")")}(Am(e)),"; limitType=").concat(e.limitType,")")}function Fm(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Xh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Nm(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Gp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Nm(e),t))&&!(e.endAt&&!function(e,t,n){const r=Gp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Nm(e),t))}(e,t)}function jm(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Um(e){return(t,n)=>{let r=!1;for(const i of Nm(e)){const e=Vm(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Vm(e,t,n){const r=e.field.isKeyField()?Xh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Tp(r,i):Sh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Sh()}}class zm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){np(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return rp(this.inner)}size(){return this.innerSize}}const Bm=new ip(Xh.comparator);function qm(){return Bm}const Hm=new ip(Xh.comparator);function Km(){let e=Hm;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Wm(e){let t=Hm;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Gm(){return Ym()}function Qm(){return Ym()}function Ym(){return new zm((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Xm=new ip(Xh.comparator),Jm=new op(Xh.comparator);function $m(){let e=Jm;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Zm=new op(zh);function eg(){return Zm}function tg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:If(t)?"-0":t}}function ng(e){return{integerValue:""+e}}function rg(e,t){return Sf(t)?ng(t):tg(e,t)}class ig{constructor(){this._=void 0}}function sg(e,t,n){return e instanceof lg?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vp(t)&&(t=yp(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof cg?ug(e,t):e instanceof dg?hg(e,t):function(e,t){const n=og(e,t),r=pg(n)+pg(e.Ie);return Pp(n)&&Pp(e.Ie)?ng(r):tg(e.serializer,r)}(e,t)}function ag(e,t,n){return e instanceof cg?ug(e,t):e instanceof dg?hg(e,t):n}function og(e,t){return e instanceof fg?function(e){return Pp(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class lg extends ig{}class cg extends ig{constructor(e){super(),this.elements=e}}function ug(e,t){const n=mg(t);for(const r of e.elements)n.some((e=>Sp(e,r)))||n.push(r);return{arrayValue:{values:n}}}class dg extends ig{constructor(e){super(),this.elements=e}}function hg(e,t){let n=mg(t);for(const r of e.elements)n=n.filter((e=>!Sp(e,r)));return{arrayValue:{values:n}}}class fg extends ig{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function pg(e){return mp(e.integerValue||e.doubleValue)}function mg(e){return Op(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class gg{constructor(e,t){this.field=e,this.transform=t}}class vg{constructor(e,t){this.version=e,this.transformResults=t}}class yg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yg}static exists(e){return new yg(void 0,e)}static updateTime(e){return new yg(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class wg{}function _g(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Rg(e.key,yg.none()):new xg(e.key,e.data,yg.none());{const n=e.data,r=qp.empty();let i=new op(Yh.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Tg(e.key,r,new up(i.toArray()),yg.none())}}function Eg(e,t,n){e instanceof xg?function(e,t,n){const r=e.value.clone(),i=Ng(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Tg?function(e,t,n){if(!bg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ng(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Cg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function kg(e,t,n,r){return e instanceof xg?function(e,t,n,r){if(!bg(e.precondition,t))return n;const i=e.value.clone(),s=Ag(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Tg?function(e,t,n,r){if(!bg(e.precondition,t))return n;const i=Ag(e.fieldTransforms,r,t),s=t.data;return s.setAll(Cg(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return bg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ig(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=og(r.transform,e||null);null!=i&&(null===n&&(n=qp.empty()),n.set(r.field,i))}return n||null}function Sg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Bh(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof cg&&t instanceof cg||e instanceof dg&&t instanceof dg?Bh(e.elements,t.elements,Sp):e instanceof fg&&t instanceof fg?Sp(e.Ie,t.Ie):e instanceof lg&&t instanceof lg}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xg extends wg{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Tg extends wg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Cg(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ng(e,t,n){const r=new Map;xh(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,ag(a,o,n[i]))}return r}function Ag(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,sg(e,s,t))}return r}class Rg extends wg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pg extends wg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Og{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Eg(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=kg(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=kg(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Qm();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=_g(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Kh.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),$m())}isEqual(e){return this.batchId===e.batchId&&Bh(this.mutations,e.mutations,((e,t)=>Sg(e,t)))&&Bh(this.baseMutations,e.baseMutations,((e,t)=>Sg(e,t)))}}class Dg{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){xh(e.mutations.length===n.length);let r=Xm;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Dg(e,t,n,r)}}class Lg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Mg{constructor(e,t){this.count=e,this.unchangedNames=t}}var Fg,jg;function Ug(e){switch(e){default:return Sh();case Ch.CANCELLED:case Ch.UNKNOWN:case Ch.DEADLINE_EXCEEDED:case Ch.RESOURCE_EXHAUSTED:case Ch.INTERNAL:case Ch.UNAVAILABLE:case Ch.UNAUTHENTICATED:return!1;case Ch.INVALID_ARGUMENT:case Ch.NOT_FOUND:case Ch.ALREADY_EXISTS:case Ch.PERMISSION_DENIED:case Ch.FAILED_PRECONDITION:case Ch.ABORTED:case Ch.OUT_OF_RANGE:case Ch.UNIMPLEMENTED:case Ch.DATA_LOSS:return!0}}function Vg(e){if(void 0===e)return Eh("GRPC error has no .code"),Ch.UNKNOWN;switch(e){case Fg.OK:return Ch.OK;case Fg.CANCELLED:return Ch.CANCELLED;case Fg.UNKNOWN:return Ch.UNKNOWN;case Fg.DEADLINE_EXCEEDED:return Ch.DEADLINE_EXCEEDED;case Fg.RESOURCE_EXHAUSTED:return Ch.RESOURCE_EXHAUSTED;case Fg.INTERNAL:return Ch.INTERNAL;case Fg.UNAVAILABLE:return Ch.UNAVAILABLE;case Fg.UNAUTHENTICATED:return Ch.UNAUTHENTICATED;case Fg.INVALID_ARGUMENT:return Ch.INVALID_ARGUMENT;case Fg.NOT_FOUND:return Ch.NOT_FOUND;case Fg.ALREADY_EXISTS:return Ch.ALREADY_EXISTS;case Fg.PERMISSION_DENIED:return Ch.PERMISSION_DENIED;case Fg.FAILED_PRECONDITION:return Ch.FAILED_PRECONDITION;case Fg.ABORTED:return Ch.ABORTED;case Fg.OUT_OF_RANGE:return Ch.OUT_OF_RANGE;case Fg.UNIMPLEMENTED:return Ch.UNIMPLEMENTED;case Fg.DATA_LOSS:return Ch.DATA_LOSS;default:return Sh()}}(jg=Fg||(Fg={}))[jg.OK=0]="OK",jg[jg.CANCELLED=1]="CANCELLED",jg[jg.UNKNOWN=2]="UNKNOWN",jg[jg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jg[jg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jg[jg.NOT_FOUND=5]="NOT_FOUND",jg[jg.ALREADY_EXISTS=6]="ALREADY_EXISTS",jg[jg.PERMISSION_DENIED=7]="PERMISSION_DENIED",jg[jg.UNAUTHENTICATED=16]="UNAUTHENTICATED",jg[jg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jg[jg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jg[jg.ABORTED=10]="ABORTED",jg[jg.OUT_OF_RANGE=11]="OUT_OF_RANGE",jg[jg.UNIMPLEMENTED=12]="UNIMPLEMENTED",jg[jg.INTERNAL=13]="INTERNAL",jg[jg.UNAVAILABLE=14]="UNAVAILABLE",jg[jg.DATA_LOSS=15]="DATA_LOSS";let zg=null;function Bg(){return new TextEncoder}const qg=new mh([4294967295,4294967295],0);function Hg(e){const t=Bg().encode(e),n=new ph;return n.update(t),new Uint8Array(n.digest())}function Kg(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new mh([n,r],0),new mh([i,s],0)]}class Wg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Gg("Invalid padding: ".concat(t));if(n<0)throw new Gg("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Gg("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Gg("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=mh.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(mh.fromNumber(n)));return 1===r.compare(qg)&&(r=new mh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Hg(e),[n,r]=Kg(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Wg(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Hg(e),[n,r]=Kg(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Gg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qg{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Yg.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Qg(Kh.min(),r,new ip(zh),qm(),$m())}}class Yg{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Yg(n,t,$m(),$m(),$m())}}class Xg{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Jg{constructor(e,t){this.targetId=e,this.fe=t}}class $g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hp.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Zg{constructor(){this.ge=0,this.pe=nv(),this.ye=hp.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=$m(),t=$m(),n=$m();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Sh()}})),new Yg(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=nv()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,xh(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class ev{constructor(e){this.Le=e,this.ke=new Map,this.qe=qm(),this.Qe=tv(),this.Ke=new ip(zh)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Sh()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(wm(i))if(0===n){const e=new Xh(i.path);this.We(t,e,Kp.newNoDocument(e,Kh.min()))}else xh(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==zg||zg.tt(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=gp(n).toUint8Array()}catch(e){if(e instanceof dp)return kh("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Wg(s,r,i)}catch(e){return kh(e instanceof Gg?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&wm(i.target)){const t=new Xh(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Kp.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=$m();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Qg(e,t,this.Ke,this.qe,n);return this.qe=qm(),this.Qe=tv(),this.Ke=new ip(zh),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Zg,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new op(zh),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||_h("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Zg),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function tv(){return new ip(Xh.comparator)}function nv(){return new ip(Xh.comparator)}const rv={asc:"ASCENDING",desc:"DESCENDING"},iv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sv={and:"AND",or:"OR"};class av{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ov(e,t){return e.useProto3Json||kf(t)?t:{value:t}}function lv(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function cv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function uv(e,t){return lv(e,t.toTimestamp())}function dv(e){return xh(!!e),Kh.fromTimestamp(function(e){const t=pp(e);return new Hh(t.seconds,t.nanos)}(e))}function hv(e,t){return fv(e,t).canonicalString()}function fv(e,t){const n=function(e){return new Gh(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function pv(e){const t=Gh.fromString(e);return xh(Mv(t)),t}function mv(e,t){return hv(e.databaseId,t.path)}function gv(e,t){const n=pv(t);if(n.get(1)!==e.databaseId.projectId)throw new Nh(Ch.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nh(Ch.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Xh(wv(n))}function vv(e,t){return hv(e.databaseId,t)}function yv(e){const t=pv(e);return 4===t.length?Gh.emptyPath():wv(t)}function bv(e){return new Gh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wv(e){return xh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function _v(e,t,n){return{name:mv(e,t),fields:n.value.mapValue.fields}}function Ev(e,t,n){const r=gv(e,t.name),i=dv(t.updateTime),s=t.createTime?dv(t.createTime):Kh.min(),a=new qp({mapValue:{fields:t.fields}}),o=Kp.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function kv(e,t){let n;if(t instanceof xg)n={update:_v(e,t.key,t.value)};else if(t instanceof Rg)n={delete:mv(e,t.key)};else if(t instanceof Tg)n={update:_v(e,t.key,t.data),updateMask:Lv(t.fieldMask)};else{if(!(t instanceof Pg))return Sh();n={verify:mv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof lg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof cg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof dg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fg)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Sh()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:uv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Sh()}(e,t.precondition)),n}function Iv(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?yg.updateTime(dv(e.updateTime)):void 0!==e.exists?yg.exists(e.exists):yg.none()}(t.currentDocument):yg.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)xh("REQUEST_TIME"===t.setToServerValue),n=new lg;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new cg(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new dg(e)}else"increment"in t?n=new fg(e,t.increment):Sh();const r=Yh.fromServerFormat(t.fieldPath);return new gg(r,n)}(e,t))):[];if(t.update){t.update.name;const i=gv(e,t.update.name),s=new qp({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new up(t.map((e=>Yh.fromServerFormat(e))))}(t.updateMask);return new Tg(i,s,e,n,r)}return new xg(i,s,n,r)}if(t.delete){const r=gv(e,t.delete);return new Rg(r,n)}if(t.verify){const r=gv(e,t.verify);return new Pg(r,n)}return Sh()}function Sv(e,t){return{documents:[vv(e,t.path)]}}function xv(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vv(e,i);const s=function(e){if(0!==e.length)return Dv(Zp.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Pv(e.field),direction:Nv(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=ov(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function Tv(e){let t=yv(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xh(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Cv(e);return t instanceof Zp&&nm(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Yp(Ov(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,kf(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Wp(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Wp(n,t)}(n.endAt)),Sm(t,i,a,s,o,"F",l,c)}function Cv(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ov(e.unaryFilter.field);return $p.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ov(e.unaryFilter.field);return $p.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ov(e.unaryFilter.field);return $p.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ov(e.unaryFilter.field);return $p.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Sh()}}(e):void 0!==e.fieldFilter?function(e){return $p.create(Ov(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Sh()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Zp.create(e.compositeFilter.filters.map((e=>Cv(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Sh()}}(e.compositeFilter.op))}(e):Sh()}function Nv(e){return rv[e]}function Av(e){return iv[e]}function Rv(e){return sv[e]}function Pv(e){return{fieldPath:e.canonicalString()}}function Ov(e){return Yh.fromServerFormat(e.fieldPath)}function Dv(e){return e instanceof $p?function(e){if("=="===e.op){if(Lp(e.value))return{unaryFilter:{field:Pv(e.field),op:"IS_NAN"}};if(Dp(e.value))return{unaryFilter:{field:Pv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lp(e.value))return{unaryFilter:{field:Pv(e.field),op:"IS_NOT_NAN"}};if(Dp(e.value))return{unaryFilter:{field:Pv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pv(e.field),op:Av(e.op),value:e.value}}}(e):e instanceof Zp?function(e){const t=e.getFilters().map((e=>Dv(e)));return 1===t.length?t[0]:{compositeFilter:{op:Rv(e.op),filters:t}}}(e):Sh()}function Lv(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Mv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Fv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kh.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Kh.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:hp.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Fv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fv(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jv{constructor(e){this.ct=e}}function Uv(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Vv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:mv(e,t.key),fields:t.data.value.mapValue.fields,updateTime:lv(e,t.version.toTimestamp()),createTime:lv(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:zv(t.version)};else{if(!t.isUnknownDocument())return Sh();r.unknownDocument={path:n.path.toArray(),version:zv(t.version)}}return r}function Vv(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function zv(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Bv(e){const t=new Hh(e.seconds,e.nanoseconds);return Kh.fromTimestamp(t)}function qv(e,t){const n=(t.baseMutations||[]).map((t=>Iv(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Iv(e.ct,t))),i=Hh.fromMillis(t.localWriteTimeMs);return new Og(t.batchId,i,n,r)}function Hv(e){const t=Bv(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Bv(e.lastLimboFreeSnapshotVersion):Kh.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return xh(1===e.documents.length),Am(xm(yv(e.documents[0])))}(e.query):function(e){return Am(Tv(e))}(e.query),new Fv(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,hp.fromBase64String(e.resumeToken))}function Kv(e,t){const n=zv(t.snapshotVersion),r=zv(t.lastLimboFreeSnapshotVersion);let i;i=wm(t.target)?Sv(e.ct,t.target):xv(e.ct,t.target).ut;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ym(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Wv(e){const t=Tv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Om(t,t.limit,"L"):t}function Gv(e,t){return new Lg(t.largestBatchId,Iv(e.ct,t.overlayMutation))}function Qv(e,t){const n=t.path.lastSegment();return[e,xf(t.path.popLast()),n]}function Yv(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:zv(r.readTime),documentKey:xf(r.documentKey.path),largestBatchId:r.largestBatchId}}class Xv{getBundleMetadata(e,t){return Jv(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Bv(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Jv(e).put(function(e){return{bundleId:e.id,createTime:zv(dv(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return $v(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Wv(e.bundledQuery),readTime:Bv(e.readTime)}}(e)}))}saveNamedQuery(e,t){return $v(e).put(function(e){return{name:e.name,readTime:zv(dv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Jv(e){return ep(e,"bundles")}function $v(e){return ep(e,"namedQueries")}class Zv{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new Zv(e,n)}getOverlay(e,t){return ey(e).get(Qv(this.userId,t)).next((e=>e?Gv(this.serializer,e):null))}getOverlays(e,t){const n=Gm();return uf.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Lg(t,i);r.push(this.ht(e,s))})),uf.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(xf(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(ey(e).H("collectionPathOverlayIndex",r))})),uf.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Gm(),i=xf(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ey(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Gv(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Gm();let s;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ey(e).Y({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=Gv(this.serializer,t);i.size()<r||a.largestBatchId===s?(i.set(a.getKey(),a),s=a.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return ey(e).put(function(e,t,n){const[r,i,s]=Qv(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:kv(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function ey(e){return ep(e,"documentOverlays")}class ty{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(mp(e.integerValue));else if("doubleValue"in e){const n=mp(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),If(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(gp(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?jp(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Sh()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Xh.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function ny(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ry(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=ny(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}ty.bt=new ty;class iy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Bt(e){const t=this.Lt(e),n=ry(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Lt(e),n=ry(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class sy{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class ay{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class oy{constructor(){this.Gt=new iy,this.zt=new sy(this.Gt),this.jt=new ay(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ly{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new ly(this.indexId,this.documentKey,this.arrayValue,n)}}function cy(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=uy(e.arrayValue,t.arrayValue),0!==n?n:(n=uy(e.directionalValue,t.directionalValue),0!==n?n:Xh.comparator(e.documentKey,t.documentKey)))}function uy(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class dy{constructor(e){this.Yt=new op(((e,t)=>Yh.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(xh(e.collectionGroup===this.collectionId),this.en)return!1;const t=$h(e);if(void 0!==t&&!this.nn(t))return!1;const n=Zh(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new op(Yh.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new ef(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new ef(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new ef(n.field,"asc"===n.dir?0:1)));return new Jh(Jh.UNKNOWN_ID,this.collectionId,t,tf.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function hy(e){var t,n;if(xh(e instanceof $p||e instanceof Zp),e instanceof $p){if(e instanceof fm){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>$p.create(e.field,"==",t))))||[];return Zp.create(r,"or")}return e}const r=e.filters.map((e=>hy(e)));return Zp.create(r,e.op)}function fy(e){if(0===e.getFilters().length)return[];const t=vy(hy(e));return xh(gy(t)),py(t)||my(t)?[t]:t.getFilters()}function py(e){return e instanceof $p}function my(e){return e instanceof Zp&&nm(e)}function gy(e){return py(e)||my(e)||function(e){if(e instanceof Zp&&tm(e)){for(const t of e.getFilters())if(!py(t)&&!my(t))return!1;return!0}return!1}(e)}function vy(e){if(xh(e instanceof $p||e instanceof Zp),e instanceof $p)return e;if(1===e.filters.length)return vy(e.filters[0]);const t=e.filters.map((e=>vy(e)));let n=Zp.create(t,e.op);return n=wy(n),gy(n)?n:(xh(n instanceof Zp),xh(em(n)),xh(n.filters.length>1),n.filters.reduce(((e,t)=>yy(e,t))))}function yy(e,t){let n;return xh(e instanceof $p||e instanceof Zp),xh(t instanceof $p||t instanceof Zp),n=e instanceof $p?t instanceof $p?function(e,t){return Zp.create([e,t],"and")}(e,t):by(e,t):t instanceof $p?by(t,e):function(e,t){if(xh(e.filters.length>0&&t.filters.length>0),em(e)&&em(t))return am(e,t.getFilters());const n=tm(e)?e:t,r=tm(e)?t:e,i=n.filters.map((e=>yy(e,r)));return Zp.create(i,"or")}(e,t),wy(n)}function by(e,t){if(em(t))return am(t,e.getFilters());{const n=t.filters.map((t=>yy(e,t)));return Zp.create(n,"or")}}function wy(e){if(xh(e instanceof $p||e instanceof Zp),e instanceof $p)return e;const t=e.getFilters();if(1===t.length)return wy(t[0]);if(rm(e))return e;const n=t.map((e=>wy(e))),r=[];return n.forEach((t=>{t instanceof $p?r.push(t):t instanceof Zp&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Zp.create(r,e.op)}class _y{constructor(){this._n=new Ey}addToCollectionParentIndex(e,t){return this._n.add(t),uf.resolve()}getCollectionParents(e,t){return uf.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return uf.resolve()}deleteFieldIndex(e,t){return uf.resolve()}deleteAllFieldIndexes(e){return uf.resolve()}createTargetIndexes(e,t){return uf.resolve()}getDocumentsMatchingTarget(e,t){return uf.resolve(null)}getIndexType(e,t){return uf.resolve(0)}getFieldIndexes(e,t){return uf.resolve([])}getNextCollectionGroupToUpdate(e){return uf.resolve(null)}getMinOffset(e,t){return uf.resolve(sf.min())}getMinOffsetFromCollectionGroup(e,t){return uf.resolve(sf.min())}updateCollectionGroup(e,t,n){return uf.resolve()}updateIndexEntries(e,t){return uf.resolve()}}class Ey{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new op(Gh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new op(Gh.comparator)).toArray()}}const ky=new Uint8Array(0);class Iy{constructor(e,t){this.databaseId=t,this.an=new Ey,this.un=new zm((e=>ym(e)),((e,t)=>bm(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:xf(r)};return Sy(e).put(i)}return uf.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[qh(t),""],!1,!0);return Sy(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Nf(r.parent))}return n}))}addFieldIndex(e,t){const n=Ty(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Cy(e);return i.next((e=>{n.put(Yv(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Ty(e),r=Cy(e),i=xy(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Ty(e),n=xy(e),r=Cy(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return uf.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new dy(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=xy(e);let r=!0;const i=new Map;return uf.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=$m();const r=[];return uf.forEach(i,((i,s)=>{_h("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(ym(t)));const a=function(e,t){const n=$h(t);if(void 0===n)return null;for(const r of _m(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),o=function(e,t){const n=new Map;for(const r of Zh(t))for(const t of _m(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of Zh(t)){const t=0===i.kind?Em(e,i.fieldPath,e.startAt):km(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Wp(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of Zh(t)){const t=0===i.kind?km(e,i.fieldPath,e.endAt):Em(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Wp(n,r)}(s,i),u=this.hn(i,s,l),d=this.hn(i,s,c),h=this.Pn(i,s,o),f=this.In(i.indexId,a,u,l.inclusive,d,c.inclusive,h);return uf.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Xh.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return uf.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:fy(Zp.create(e.filters,"and")).map((t=>vm(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,a){const o=(null!=t?t.length:1)*Math.max(n.length,i.length),l=o/(null!=t?t.length:1),c=[];for(let u=0;u<o;++u){const o=t?this.Tn(t[u/l]):ky,d=this.En(e,o,n[u%l],r),h=this.dn(e,o,i[u%l],s),f=a.map((t=>this.En(e,o,t,!0)));c.push(...this.createRange(d,h,f))}return c}En(e,t,n,r){const i=new ly(e,Xh.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new ly(e,Xh.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new dy(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return uf.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new op(Yh.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new oy;for(const r of Zh(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);ty.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new oy;return ty.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new oy;return ty.bt.Pt(Rp(this.databaseId,t),n.Ht(function(e){const t=Zh(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new oy);let i=0;for(const s of Zh(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&Op(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);ty.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new oy;n.seed(e.Wt()),ty.bt.Pt(s,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof $p&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Ty(e),r=Cy(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return uf.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new tf(t.sequenceNumber,new sf(Bv(t.readTime),new Xh(Nf(t.documentKey)),t.largestBatchId)):tf.empty(),r=e.fields.map((e=>{let[t,n]=e;return new ef(Yh.fromServerFormat(t),n)}));return new Jh(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:zh(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Ty(e),i=Cy(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>uf.forEach(t,(t=>i.put(Yv(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return uf.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?uf.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),uf.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?uf.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return xy(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return xy(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=xy(e);let i=new op(cy);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new ly(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new op(cy);const r=this.An(t,e);if(null==r)return n;const i=$h(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Op(s))for(const i of s.arrayValue.values||[])n=n.add(new ly(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new ly(t.indexId,e.key,ky,r));return n}wn(e,t,n,r,i){_h("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),a=t.getIterator();let o=cp(s),l=cp(a);for(;o||l;){let e=!1,t=!1;if(o&&l){const r=n(o,l);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(l),l=cp(a)):t?(i(o),o=cp(s)):(o=cp(s),l=cp(a))}}(r,i,cy,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),uf.waitFor(s)}gn(e){let t=1;return Cy(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>cy(e,t))).filter(((e,t,n)=>!t||0!==cy(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=cy(s,e),i=cy(s,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(s),r.push(s.Jt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,ky,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,ky,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return cy(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ny)}getMinOffset(e,t){return uf.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||Sh())))).next(Ny)}}function Sy(e){return ep(e,"collectionParents")}function xy(e){return ep(e,"indexEntries")}function Ty(e){return ep(e,"indexConfiguration")}function Cy(e){return ep(e,"indexState")}function Ny(e){xh(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;af(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new sf(t.readTime,t.documentKey,n)}const Ay={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ry{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ry(e,Ry.DEFAULT_COLLECTION_PERCENTILE,Ry.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Py(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.Y({range:a},((e,t,n)=>(o++,n.delete())));s.push(l.next((()=>{xh(1===o)})));const c=[];for(const u of n.mutations){const e=Pf(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return uf.waitFor(s).next((()=>c))}function Oy(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Sh();t=e.noDocument}return JSON.stringify(t).length}Ry.DEFAULT_COLLECTION_PERCENTILE=10,Ry.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ry.DEFAULT=new Ry(41943040,Ry.DEFAULT_COLLECTION_PERCENTILE,Ry.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ry.DISABLED=new Ry(-1,0,0);class Dy{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){xh(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Dy(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return My(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Fy(e),s=My(e);return s.add({}).next((a=>{xh("number"==typeof a);const o=new Og(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>kv(e.ct,t))),i=n.mutations.map((t=>kv(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,o),c=[];let u=new op(((e,t)=>zh(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Pf(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,Of))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[a]=o.keys()})),uf.waitFor(c).next((()=>o))}))}lookupMutationBatch(e,t){return My(e).get(t).next((e=>e?(xh(e.userId===this.userId),qv(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?uf.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return My(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(xh(t.batchId>=n),i=qv(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return My(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return My(e).W("userMutationsIndex",t).next((e=>e.map((e=>qv(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Rf(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Fy(e).Y({range:r},((n,r,s)=>{const[a,o,l]=n,c=Nf(o);if(a===this.userId&&t.path.isEqual(c))return My(e).get(l).next((e=>{if(!e)throw Sh();xh(e.userId===this.userId),i.push(qv(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new op(zh);const r=[];return t.forEach((t=>{const i=Rf(this.userId,t.path),s=IDBKeyRange.lowerBound(i),a=Fy(e).Y({range:s},((e,r,i)=>{const[s,a,o]=e,l=Nf(a);s===this.userId&&t.path.isEqual(l)?n=n.add(o):i.done()}));r.push(a)})),uf.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Rf(this.userId,n),s=IDBKeyRange.lowerBound(i);let a=new op(zh);return Fy(e).Y({range:s},((e,t,i)=>{const[s,o,l]=e,c=Nf(o);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):i.done()})).next((()=>this.Fn(e,a)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(My(e).get(t).next((e=>{if(null===e)throw Sh();xh(e.userId===this.userId),n.push(qv(this.serializer,e))})))})),uf.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Py(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),uf.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return uf.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Fy(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Nf(e[1]);r.push(t)}else n.done()})).next((()=>{xh(0===r.length)}))}))}containsKey(e,t){return Ly(e,this.userId,t)}xn(e){return jy(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Ly(e,t,n){const r=Rf(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return Fy(e).Y({range:s,J:!0},((e,n,r)=>{const[s,o,l]=e;s===t&&o===i&&(a=!0),r.done()})).next((()=>a))}function My(e){return ep(e,"mutations")}function Fy(e){return ep(e,"documentMutations")}function jy(e){return ep(e,"mutationQueues")}class Uy{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Uy(0)}static Bn(){return new Uy(-1)}}class Vy{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new Uy(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>Kh.fromTimestamp(new Hh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>zy(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(xh(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return zy(e).Y(((s,a)=>{const o=Hv(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))})).next((()=>uf.waitFor(i))).next((()=>r))}forEachTarget(e,t){return zy(e).Y(((e,n)=>{const r=Hv(n);t(r)}))}Ln(e){return By(e).get("targetGlobalKey").next((e=>(xh(null!==e),e)))}kn(e,t){return By(e).put("targetGlobalKey",t)}qn(e,t){return zy(e).put(Kv(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=ym(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return zy(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=Hv(n);bm(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=qy(e);return t.forEach((t=>{const s=xf(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),uf.waitFor(r)}removeMatchingKeys(e,t,n){const r=qy(e);return uf.forEach(t,(t=>{const i=xf(t.path);return uf.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=qy(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=qy(e);let i=$m();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Nf(e[1]),s=new Xh(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=xf(t.path),r=IDBKeyRange.bound([n],[qh(n)],!1,!0);let i=0;return qy(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return zy(e).get(t).next((e=>e?Hv(e):null))}}function zy(e){return ep(e,"targets")}function By(e){return ep(e,"targetGlobal")}function qy(e){return ep(e,"targetDocuments")}function Hy(e,t){let[n,r]=e,[i,s]=t;const a=zh(n,i);return 0===a?zh(r,s):a}class Ky{constructor(e){this.Kn=e,this.buffer=new op(Hy),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Hy(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wy{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){_h("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){mf(e)?_h("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await cf(e)}await this.zn(3e5)}))}}class Gy{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return uf.resolve(Ef._e);const n=new Ky(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(_h("LruGarbageCollector","Garbage collection skipped; disabled"),uf.resolve(Ay)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(_h("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ay):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(_h("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),wh()<=In.DEBUG&&_h("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),uf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Qy(e,t){return new Gy(e,t)}class Yy{constructor(e,t){this.db=e,this.garbageCollector=Qy(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Xy(e,n)}removeReference(e,t,n){return Xy(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Xy(e,t)}er(e,t){return function(e,t){let n=!1;return jy(e).Z((r=>Ly(e,r,t).next((e=>(e&&(n=!0),uf.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,a)=>{if(a<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Kh.min()),qy(e).delete(function(e){return[0,xf(e.path)]}(s)))))}));r.push(t)}})).next((()=>uf.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Xy(e,t)}Xn(e,t){const n=qy(e);let r,i=Ef._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,a]=e,{path:o,sequenceNumber:l}=n;0===s?(i!==Ef._e&&t(new Xh(Nf(r)),i),i=l,r=o):i=Ef._e})).next((()=>{i!==Ef._e&&t(new Xh(Nf(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xy(e,t){return qy(e).put(function(e,t){return{targetId:0,path:xf(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Jy{constructor(){this.changes=new zm((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kp.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?uf.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $y{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return nb(e).put(n)}removeEntry(e,t,n){return nb(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Vv(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=Kp.newInvalidDocument(t);return nb(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(rb(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:Kp.newInvalidDocument(t)};return nb(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(rb(t))},((e,r)=>{n={document:this.nr(t,r),size:Oy(r)}})).next((()=>n))}getEntries(e,t){let n=qm();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=qm(),r=new ip(Xh.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,Oy(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return uf.resolve();let r=new op(sb);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(rb(r.first()),rb(r.last())),s=r.getIterator();let a=s.getNext();return nb(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Xh.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&sb(a,i)<0;)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.U(rb(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),Vv(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nb(e).W(IDBKeyRange.bound(a,o,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=qm();for(const i of e){const e=this.nr(Xh.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Fm(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=qm();const s=ib(t,n),a=ib(t,sf.max());return nb(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},((e,t,n)=>{const s=this.nr(Xh.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new eb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return tb(e).get("remoteDocumentGlobalKey").next((e=>(xh(!!e),e)))}tr(e,t){return tb(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Ev(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Xh.fromSegments(t.noDocument.path),r=Bv(t.noDocument.readTime);n=Kp.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Sh();{const e=Xh.fromSegments(t.unknownDocument.path),r=Bv(t.unknownDocument.version);n=Kp.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Hh(e[0],e[1]);return Kh.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Kh.min()))return e}return Kp.newInvalidDocument(e)}}function Zy(e){return new $y(e)}class eb extends Jy{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new zm((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new op(((e,t)=>zh(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const a=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,a.readTime)),s.isValidDocument()){const o=Uv(this.ar.serializer,s);r=r.add(i.path.popLast());const l=Oy(o);n+=l-a.size,t.push(this.ar.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){const n=Uv(this.ar.serializer,s.convertToNoDocument(Kh.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),uf.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function tb(e){return ep(e,"remoteDocumentGlobal")}function nb(e){return ep(e,"remoteDocumentsV14")}function rb(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ib(e,t){const n=t.documentKey.path.toArray();return[e,Vv(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function sb(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=zh(n[s],r[s]),i)return i;return i=zh(n.length,r.length),i||(i=zh(n[n.length-2],r[r.length-2]),i||zh(n[n.length-1],r[r.length-1]))}class ab{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ob{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&kg(n.mutation,e,up.empty(),Hh.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,$m()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$m();const r=Gm();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Km();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Gm();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,$m())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=qm();const s=Ym(),a=Ym();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Tg)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),kg(a.mutation,t,a.mutation.getFieldMask(),Hh.now())):s.set(t.key,up.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new ab(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Ym();let r=new ip(((e,t)=>e-t)),i=$m();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||up.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||$m()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Qm();l.forEach((e=>{if(!i.has(e)){const r=_g(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return uf.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Xh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):uf.resolve(Gm());let a=-1,o=i;return s.next((t=>uf.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?uf.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,$m()))).next((e=>({batchId:a,changes:Wm(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xh(t)).next((e=>{let t=Km();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Km();return this.indexManager.getCollectionParents(e,i).next((a=>uf.forEach(a,(a=>{const o=function(e,t){return new Im(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Kp.newInvalidDocument(r)))}));let n=Km();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&kg(s.mutation,r,up.empty(),Hh.now()),Fm(t,r)&&(n=n.insert(e,r))})),n}))}}class lb{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return uf.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:dv(e.createTime)}}(t)),uf.resolve()}getNamedQuery(e,t){return uf.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Wv(e.bundledQuery),readTime:dv(e.readTime)}}(t)),uf.resolve()}}class cb{constructor(){this.overlays=new ip(Xh.comparator),this.hr=new Map}getOverlay(e,t){return uf.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Gm();return uf.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),uf.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),uf.resolve()}getOverlaysForCollection(e,t,n){const r=Gm(),i=t.length+1,s=new Xh(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return uf.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ip(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Gm(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Gm(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return uf.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Lg(t,n));let i=this.hr.get(t);void 0===i&&(i=$m(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class ub{constructor(){this.Pr=new op(db.Ir),this.Tr=new op(db.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new db(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new db(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Xh(new Gh([])),n=new db(t,e),r=new db(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Xh(new Gh([])),n=new db(t,e),r=new db(t,e+1);let i=$m();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new db(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class db{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Xh.comparator(e.key,t.key)||zh(e.pr,t.pr)}static Er(e,t){return zh(e.pr,t.pr)||Xh.comparator(e.key,t.key)}}class hb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new op(db.Ir)}checkEmpty(e){return uf.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Og(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new db(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return uf.resolve(s)}lookupMutationBatch(e,t){return uf.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return uf.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return uf.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return uf.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new db(t,0),r=new db(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),uf.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new op(zh);return t.forEach((e=>{const t=new db(e,0),r=new db(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),uf.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Xh.isDocumentKey(i)||(i=i.child(""));const s=new db(new Xh(i),0);let a=new op(zh);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.pr)),!0)}),s),uf.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){xh(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return uf.forEach(t.mutations,(r=>{const i=new db(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new db(t,0),r=this.wr.firstAfterOrEqual(n);return uf.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,uf.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class fb{constructor(e){this.vr=e,this.docs=new ip(Xh.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return uf.resolve(n?n.document.mutableCopy():Kp.newInvalidDocument(t))}getEntries(e,t){let n=qm();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Kp.newInvalidDocument(e))})),uf.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=qm();const s=t.path,a=new Xh(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||af(rf(a),n)<=0||(r.has(a.key)||Fm(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return uf.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Sh()}Fr(e,t){return uf.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new pb(this)}getSize(e){return uf.resolve(this.size)}}class pb extends Jy{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),uf.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class mb{constructor(e){this.persistence=e,this.Mr=new zm((e=>ym(e)),bm),this.lastRemoteSnapshotVersion=Kh.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ub,this.targetCount=0,this.Br=Uy.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),uf.resolve()}getLastRemoteSnapshotVersion(e){return uf.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return uf.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),uf.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),uf.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new Uy(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,uf.resolve()}updateTargetData(e,t){return this.qn(t),uf.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,uf.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),uf.waitFor(i).next((()=>r))}getTargetCount(e){return uf.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return uf.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),uf.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),uf.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),uf.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return uf.resolve(n)}containsKey(e,t){return uf.resolve(this.Nr.containsKey(t))}}class gb{constructor(e,t){this.Lr={},this.overlays={},this.kr=new Ef(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new mb(this),this.indexManager=new _y,this.remoteDocumentCache=function(e){return new fb(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new jv(t),this.$r=new lb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new hb(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){_h("MemoryPersistence","Starting transaction:",e);const r=new vb(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return uf.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class vb extends lf{constructor(e){super(),this.currentSequenceNumber=e}}class yb{constructor(e){this.persistence=e,this.zr=new ub,this.jr=null}static Hr(e){return new yb(e)}get Jr(){if(this.jr)return this.jr;throw Sh()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),uf.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),uf.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),uf.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uf.forEach(this.Jr,(n=>{const r=Xh.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Kh.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return uf.or([()=>uf.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class bb{constructor(e){this.serializer=e}N(e,t,n,r){const i=new df("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Af,{unique:!0}),e.createObjectStore("documentMutations")}(e),wb(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=uf.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),wb(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kh.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Af,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return uf.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Kf});t.createIndex("collectionPathOverlayIndex",Wf,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Gf,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Df});t.createIndex("documentKeyIndex",Lf),t.createIndex("collectionGroupIndex",Mf)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:zf}).createIndex("sequenceNumberIndex",Bf,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:qf}).createIndex("documentKeyIndex",Hf,{unique:!1})}(e)))),s}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=Oy(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>uf.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>uf.forEach(n,(n=>{xh(n.userId===t.userId);const r=qv(this.serializer,n);return Py(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new Gh(n),a=function(e){return[0,xf(e)]}(s);r.push(t.get(a).next((n=>n?uf.resolve():(n=>t.put({targetId:0,path:xf(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>uf.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:Vf});const n=t.store("collectionParents"),r=new Ey,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:xf(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Gh(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const a=Nf(r);return i(a.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=Hv(n),i=Kv(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new Xh(Gh.fromString(e.document.name).popFirst(5)):e.noDocument?Xh.fromSegments(e.noDocument.path):e.unknownDocument?Xh.fromSegments(e.unknownDocument.path):Sh()}(n).path.toArray(),a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>uf.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=Zy(this.serializer),i=new gb(yb.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:$m();qv(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),uf.forEach(n,((e,n)=>{const s=new vh(n),a=Zv.lt(this.serializer,s),o=i.getIndexManager(s),l=Dy.lt(s,this.serializer,o,i.referenceDelegate);return new ob(r,l,a,o).recalculateAndSaveOverlaysForDocumentKeys(new Zf(t,Ef._e),e).next()}))}))}}function wb(e){e.createObjectStore("targetDocuments",{keyPath:jf}).createIndex("documentTargetsIndex",Uf,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ff,{unique:!0}),e.createObjectStore("targetGlobal")}const _b="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Eb{constructor(e,t,n,r,i,s,a,o,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=a,this._i=l,this.ai=c,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!Eb.D())throw new Nh(Ch.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yy(this,r),this.Ti=t+"main",this.serializer=new jv(o),this.Ei=new hf(this.Ti,this.ui,new bb(this.serializer)),this.Qr=new Vy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Zy(this.serializer),this.$r=new Xv,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===c&&Eh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nh(Ch.FAILED_PRECONDITION,_b);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new Ef(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Ib(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(mf(e))return _h("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return _h("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return kb(e).get("owner").next((e=>uf.resolve(this.Si(e))))}bi(e){return Ib(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=ep(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return uf.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?uf.resolve(!0):kb(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new Nh(Ch.FAILED_PRECONDITION,_b);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ib(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&_h("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Zf(e,Ef._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Bi()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>Ib(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return Dy.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Iy(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Zv.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){_h("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?$f:14===e?Jf:13===e?Xf:12===e?Yf:11===e?Qf:void Sh()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new Zf(r,this.kr?this.kr.next():Ef._e),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw Eh("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new Nh(Ch.FAILED_PRECONDITION,of);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return kb(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Nh(Ch.FAILED_PRECONDITION,_b)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kb(e).put("owner",t)}static D(){return hf.D()}yi(e){const t=kb(e);return t.get("owner").next((e=>this.Si(e)?(_h("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):uf.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Eh("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;rn()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return _h("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Eh("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(xL){Eh("Failed to set zombie client id.",xL)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(xL){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function kb(e){return ep(e,"owner")}function Ib(e){return ep(e,"clientMetadata")}function Sb(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class xb{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=$m(),r=$m();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new xb(e,t.fromCache,n,r)}}class Tb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Cb{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=rn()?8:hf.v($t())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Tb;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(wh()<=In.DEBUG&&_h("QueryEngine","SDK will not create cache indexes for query:",Mm(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),uf.resolve()):(wh()<=In.DEBUG&&_h("QueryEngine","Query:",Mm(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(wh()<=In.DEBUG&&_h("QueryEngine","The SDK decides to create cache indexes for query:",Mm(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Am(t))):uf.resolve())}ji(e,t){if(Tm(t))return uf.resolve(null);let n=Am(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Om(t,null,"F"),n=Am(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=$m(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,Om(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return Tm(t)||r.isEqual(Kh.min())?uf.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?uf.resolve(null):(wh()<=In.DEBUG&&_h("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Mm(t)),this.es(e,s,t,nf(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new op(Um(e));return t.forEach(((t,r)=>{Fm(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return wh()<=In.DEBUG&&_h("QueryEngine","Using full collection scan to execute query:",Mm(t)),this.zi.getDocumentsMatchingQuery(e,t,sf.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Nb{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new ip(zh),this.rs=new zm((e=>ym(e)),bm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ob(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Ab(e,t,n,r){return new Nb(e,t,n,r)}async function Rb(e,t){const n=Th(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=$m();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Pb(e){const t=Th(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Ob(e,t,n){let r=$m(),i=$m();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=qm();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Kh.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):_h("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function Db(e,t){const n=Th(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Lb(e,t){const n=Th(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,uf.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Fv(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Mb(e,t,n){const r=Th(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!mf(e))throw e;_h("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Fb(e,t,n){const r=Th(e);let i=Kh.min(),s=$m();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Th(e),i=r.rs.get(n);return void 0!==i?uf.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Am(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Kh.min(),n?s:$m()))).next((e=>(Vb(r,jm(t),e),{documents:e,hs:s})))))}function jb(e,t){const n=Th(e),r=Th(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Ub(e,t){const n=Th(e),r=n.ss.get(t)||Kh.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,nf(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Vb(n,t,e),e)))}function Vb(e,t,n){let r=e.ss.get(t)||Kh.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function zb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$m();const r=await Lb(e,Am(Wv(t.bundledQuery))),i=Th(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=dv(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const a=r.withResumeToken(hp.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(e,a).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function Bb(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function qb(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Hb(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Kb{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Nh(r.error.code,r.error.message))),s?new Kb(e,t,r.state,i):(Eh("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wb{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Nh(n.error.code,n.error.message))),i?new Wb(e,n.state,r):(Eh("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=eg();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Sf(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Gb(e,i):(Eh("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Qb{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Qb(t.clientId,t.onlineState):(Eh("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Yb{constructor(){this.activeTargetIds=eg()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xb{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new ip(zh),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=Bb(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Yb),this.bs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(Bb(this.persistenceKey,n));if(e){const t=Gb.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,t,n){this.Bs(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Hb(this.persistenceKey,e));if(n){const r=Wb.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Hb(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return _h("SharedClientState","READ",e,t),t}setItem(e,t){_h("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){_h("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(_h("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void Eh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=Ef._e;if(null!=e)try{const n=JSON.parse(e);xh("number"==typeof n),t=n}catch(e){Eh("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Ef._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,t,n){const r=new Kb(this.currentUser,e,t,n),i=qb(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Ls(e){const t=qb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=Hb(this.persistenceKey,e),i=new Wb(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return Gb.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Kb.Es(new vh(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Wb.Es(r,t)}xs(e){return Qb.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);_h("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],a=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.eo(s,a).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=eg();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Jb{constructor(){this.no=new Yb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Yb,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $b{io(e){}shutdown(){}}class Zb{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){_h("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){_h("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ew=null;function tw(){return null===ew?ew=268435456+Math.round(2147483648*Math.random()):ew++,"0x"+ew.toString(16)}const nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rw{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const iw="WebChannelConnection";class sw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=tw(),a=this.bo(e,t.toUriEncodedString());_h("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(o,r,i),this.Co(e,a,o,n).then((t=>(_h("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw kh("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+yh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=nw[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=tw();return new Promise(((s,a)=>{const o=new fh;o.setWithCredentials(!0),o.listenOnce(ch.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case lh.NO_ERROR:const t=o.getResponseJson();_h(iw,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case lh.TIMEOUT:_h(iw,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Nh(Ch.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const n=o.getStatus();if(_h(iw,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ch).indexOf(t)>=0?t:Ch.UNKNOWN}(t.status);a(new Nh(e,t.message))}else a(new Nh(Ch.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Nh(Ch.UNAVAILABLE,"Connection failed."));break;default:Sh()}}finally{_h(iw,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);_h(iw,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=tw(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ah(),a=oh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");_h(iw,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new rw({lo:t=>{h?_h(iw,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(_h(iw,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),_h(iw,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,hh.EventType.OPEN,(()=>{h||_h(iw,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,hh.EventType.CLOSE,(()=>{h||(h=!0,_h(iw,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,hh.EventType.ERROR,(t=>{h||(h=!0,kh(iw,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Nh(Ch.UNAVAILABLE,"The operation could not be completed")))})),p(u,hh.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];xh(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){_h(iw,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Fg[e];if(void 0!==t)return Vg(t)}(t),i=a.message;void 0===n&&(n=Ch.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Vo(new Nh(n,i)),u.close()}else _h(iw,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(a,uh.STAT_EVENT,(t=>{t.stat===dh.PROXY?_h(iw,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===dh.NOPROXY&&_h(iw,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function aw(){return"undefined"!=typeof window?window:null}function ow(){return"undefined"!=typeof document?document:null}function lw(e){return new av(e,!0)}class cw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&_h("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class uw{constructor(e,t,n,r,i,s,a,o){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new cw(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Ch.RESOURCE_EXHAUSTED?(Eh(t.toString()),Eh("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Ch.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Nh(Ch.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return _h("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(_h("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dw extends uw{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Sh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(xh(void 0===t||"string"==typeof t),hp.fromBase64String(t||"")):(xh(void 0===t||t instanceof Uint8Array),hp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Ch.UNKNOWN:Vg(e.code);return new Nh(t,e.message||"")}(a);n=new $g(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=gv(e,r.document.name),s=dv(r.document.updateTime),a=r.document.createTime?dv(r.document.createTime):Kh.min(),o=new qp({mapValue:{fields:r.document.fields}}),l=Kp.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Xg(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=gv(e,r.document),s=r.readTime?dv(r.readTime):Kh.min(),a=Kp.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Xg([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=gv(e,r.document),s=r.removedTargetIds||[];n=new Xg([],s,i,null)}else{if(!("filter"in t))return Sh();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Mg(r,i),a=e.targetId;n=new Jg(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Kh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Kh.min():t.readTime?dv(t.readTime):Kh.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=bv(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=wm(r)?{documents:Sv(e,r)}:{query:xv(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=cv(e,t.resumeToken);const r=ov(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Kh.min())>0){n.readTime=lv(e,t.snapshotVersion.toTimestamp());const r=ov(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Sh()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=bv(this.serializer),t.removeTarget=e,this.t_(t)}}class hw extends uw{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(xh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(xh(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?dv(e.updateTime):dv(t);return n.isEqual(Kh.min())&&(n=dv(t)),new vg(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=dv(e.commitTime);return this.listener.T_(n,t)}return xh(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=bv(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>kv(this.serializer,e)))};this.t_(t)}}class fw extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Nh(Ch.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.So(e,fv(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ch.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nh(Ch.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.vo(e,fv(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ch.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nh(Ch.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class pw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Eh(t),this.g_=!1):_h("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class mw{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{Iw(this)&&(_h("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Th(e);t.v_.add(4),await vw(t),t.x_.set("Unknown"),t.v_.delete(4),await gw(t)}(this))}))})),this.x_=new pw(n,r)}}async function gw(e){if(Iw(e))for(const t of e.F_)await t(!0)}async function vw(e){for(const t of e.F_)await t(!1)}function yw(e,t){const n=Th(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),kw(n)?Ew(n):Bw(n).Jo()&&ww(n,t))}function bw(e,t){const n=Th(e),r=Bw(n);n.C_.delete(t),r.Jo()&&_w(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Iw(n)&&n.x_.set("Unknown"))}function ww(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Kh.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Bw(e).c_(t)}function _w(e,t){e.O_.Oe(t),Bw(e).l_(t)}function Ew(e){e.O_=new ev({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Bw(e).start(),e.x_.p_()}function kw(e){return Iw(e)&&!Bw(e).Ho()&&e.C_.size>0}function Iw(e){return 0===Th(e).v_.size}function Sw(e){e.O_=void 0}async function xw(e){e.C_.forEach(((t,n)=>{ww(e,t)}))}async function Tw(e,t){Sw(e),kw(e)?(e.x_.S_(t),Ew(e)):e.x_.set("Unknown")}async function Cw(e,t,n){if(e.x_.set("Online"),t instanceof $g&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){_h("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Nw(e,n)}else if(t instanceof Xg?e.O_.$e(t):t instanceof Jg?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Kh.min()))try{const t=await Pb(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(hp.EMPTY_BYTE_STRING,r.snapshotVersion)),_w(e,t);const i=new Fv(r.target,t,n,r.sequenceNumber);ww(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){_h("RemoteStore","Failed to raise snapshot:",t),await Nw(e,t)}}async function Nw(e,t,n){if(!mf(t))throw t;e.v_.add(1),await vw(e),e.x_.set("Offline"),n||(n=()=>Pb(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{_h("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await gw(e)}))}function Aw(e,t){return t().catch((n=>Nw(e,n,t)))}async function Rw(e){const t=Th(e),n=qw(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Pw(t);)try{const e=await Db(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,Ow(t,e)}catch(e){await Nw(t,e)}Dw(t)&&Lw(t)}function Pw(e){return Iw(e)&&e.D_.length<10}function Ow(e,t){e.D_.push(t);const n=qw(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Dw(e){return Iw(e)&&!qw(e).Ho()&&e.D_.length>0}function Lw(e){qw(e).start()}async function Mw(e){qw(e).d_()}async function Fw(e){const t=qw(e);for(const n of e.D_)t.I_(n.mutations)}async function jw(e,t,n){const r=e.D_.shift(),i=Dg.from(r,t,n);await Aw(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Rw(e)}async function Uw(e,t){t&&qw(e).P_&&await async function(e,t){if(function(e){return Ug(e)&&e!==Ch.ABORTED}(t.code)){const n=e.D_.shift();qw(e).Zo(),await Aw(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Rw(e)}}(e,t),Dw(e)&&Lw(e)}async function Vw(e,t){const n=Th(e);n.asyncQueue.verifyOperationInProgress(),_h("RemoteStore","RemoteStore received new credentials");const r=Iw(n);n.v_.add(3),await vw(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await gw(n)}async function zw(e,t){const n=Th(e);t?(n.v_.delete(2),await gw(n)):t||(n.v_.add(2),await vw(n),n.x_.set("Unknown"))}function Bw(e){return e.N_||(e.N_=function(e,t,n){const r=Th(e);return r.R_(),new dw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:xw.bind(null,e),To:Tw.bind(null,e),u_:Cw.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),kw(e)?Ew(e):e.x_.set("Unknown")):(await e.N_.stop(),Sw(e))}))),e.N_}function qw(e){return e.B_||(e.B_=function(e,t,n){const r=Th(e);return r.R_(),new hw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Mw.bind(null,e),To:Uw.bind(null,e),E_:Fw.bind(null,e),T_:jw.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await Rw(e)):(await e.B_.stop(),e.D_.length>0&&(_h("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class Hw{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ah,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Hw(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nh(Ch.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kw(e,t){if(Eh("AsyncQueue","".concat(t,": ").concat(e)),mf(e))return new Nh(Ch.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Ww{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Xh.comparator(t.key,n.key):(e,t)=>Xh.comparator(e.key,t.key),this.keyedMap=Km(),this.sortedSet=new ip(this.comparator)}static emptySet(e){return new Ww(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ww))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ww;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Gw{constructor(){this.L_=new ip(Xh.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):Sh():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Qw{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Qw(e,t,Ww.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Yw{constructor(){this.q_=void 0,this.Q_=[]}}class Xw{constructor(){this.queries=new zm((e=>Lm(e)),Dm),this.onlineState="Unknown",this.K_=new Set}}async function Jw(e,t){const n=Th(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Yw),i)try{s.q_=await n.onListen(r)}catch(e){const n=Kw(e,"Initialization of query '".concat(Mm(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&t_(n)}async function $w(e,t){const n=Th(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),i=0===s.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Zw(e,t){const n=Th(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&t_(n)}function e_(e,t,n){const r=Th(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function t_(e){e.K_.forEach((e=>{e.next()}))}class n_{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Qw(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=Qw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class r_{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}class i_{constructor(e){this.serializer=e}Ps(e){return gv(this.serializer,e)}Is(e){return e.metadata.exists?Ev(this.serializer,e.document,!1):Kp.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return dv(e)}}class s_{constructor(e,t,n){this.ta=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=a_(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const n=Gh.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,n=new i_(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||$m()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Th(e);let s=$m(),a=qm();for(const c of n){const e=t.Ps(c.metadata.name);c.document&&(s=s.add(e));const n=t.Is(c);n.setReadTime(t.Ts(c.metadata.readTime)),a=a.insert(e,n)}const o=i.os.newChangeBuffer({trackRemovals:!0}),l=await Lb(i,function(e){return Am(xm(Gh.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Ob(e,o,a).next((t=>(o.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new i_(this.serializer),this.documents,this.ta.id),t=this.ra(this.documents);for(const n of this.queries)await zb(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function a_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class o_{constructor(e){this.key=e}}class l_{constructor(e){this.key=e}}class c_{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=$m(),this.mutatedKeys=$m(),this.ua=Um(e),this.ca=new Ww(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new Gw,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Fm(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.Ia(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ua(u,o)>0||l&&this.ua(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:s,Pa:n,Xi:a,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sh()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const a=t&&!r?this.Ea():[],o=0===this.aa.size&&this.current&&!r?1:0,l=o!==this._a;return this._a=o,0!==s.length||l?{snapshot:new Qw(this.query,e.ca,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Gw,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=$m(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new l_(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new o_(n))})),t}Ra(e){this.oa=e.hs,this.aa=$m();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return Qw.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class u_{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class d_{constructor(e){this.key=e,this.ma=!1}}class h_{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new zm((e=>Lm(e)),Dm),this.pa=new Map,this.ya=new Set,this.wa=new ip(Xh.comparator),this.Sa=new Map,this.ba=new ub,this.Da={},this.Ca=new Map,this.va=Uy.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function f_(e,t){const n=U_(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const e=await Lb(n.localStore,Am(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await p_(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&yw(n.remoteStore,e)}return i}async function p_(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await Fb(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return S_(e,t.targetId,o.da),o.snapshot}(e,t,n,r);const s=await Fb(e.localStore,t,!0),a=new c_(t,s.hs),o=a.ha(s.documents),l=Yg.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);S_(e,n,c.da);const u=new u_(t,n,a);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),c.snapshot}async function m_(e,t){const n=Th(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!Dm(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Mb(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),bw(n.remoteStore,r.targetId),k_(n,r.targetId)})).catch(cf)):(k_(n,r.targetId),await Mb(n.localStore,r.targetId,!0))}async function g_(e,t){const n=Th(e);try{const e=await function(e,t){const n=Th(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(hp.EMPTY_BYTE_STRING,Kh.min()).withLastLimboFreeSnapshotVersion(Kh.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Qr.updateTargetData(e,c))}));let o=qm(),l=$m();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Ob(e,s,t.documentUpdates).next((e=>{o=e.cs,l=e.ls}))),!r.isEqual(Kh.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return uf.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(xh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?xh(r.ma):e.removedDocuments.size>0&&(xh(r.ma),r.ma=!1))})),await C_(n,e,t)}catch(e){await cf(e)}}function v_(e,t,n){const r=Th(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Th(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&t_(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function y_(e,t,n){const r=Th(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let e=new ip(Xh.comparator);e=e.insert(s,Kp.newNoDocument(s,Kh.min()));const n=$m().add(s),i=new Qg(Kh.min(),new Map,new ip(zh),e,n);await g_(r,i),r.wa=r.wa.remove(s),r.Sa.delete(t),T_(r)}else await Mb(r.localStore,t,!1).then((()=>k_(r,t,n))).catch(cf)}async function b_(e,t){const n=Th(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Th(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=uf.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);xh(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=$m();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);E_(n,r,null),__(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await C_(n,e)}catch(e){await cf(e)}}async function w_(e,t,n){const r=Th(e);try{const e=await function(e,t){const n=Th(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(xh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);E_(r,t,n),__(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await C_(r,e)}catch(n){await cf(n)}}function __(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function E_(e,t,n){const r=Th(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function k_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||I_(e,t)}))}function I_(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(bw(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),T_(e))}function S_(e,t,n){for(const r of n)r instanceof o_?(e.ba.addReference(r.key,t),x_(e,r)):r instanceof l_?(_h("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||I_(e,r.key)):Sh()}function x_(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(_h("SyncEngine","New document in limbo: "+n),e.ya.add(r),T_(e))}function T_(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new Xh(Gh.fromString(t)),r=e.va.next();e.Sa.set(r,new d_(n)),e.wa=e.wa.insert(n,r),yw(e.remoteStore,new Fv(Am(xm(n.path)),r,"TargetPurposeLimboResolution",Ef._e))}}async function C_(e,t,n){const r=Th(e),i=[],s=[],a=[];r.ga.isEmpty()||(r.ga.forEach(((e,o)=>{a.push(r.Ma(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=xb.Ki(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.fa.u_(i),await async function(e,t){const n=Th(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>uf.forEach(t,(t=>uf.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>uf.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!mf(e))throw e;_h("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function N_(e,t){const n=Th(e);if(!n.currentUser.isEqual(t)){_h("SyncEngine","User change. New user:",t.toKey());const e=await Rb(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new Nh(Ch.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await C_(n,e.us)}}function A_(e,t){const n=Th(e),r=n.Sa.get(t);if(r&&r.ma)return $m().add(r.key);{let e=$m();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}async function R_(e,t){const n=Th(e),r=await Fb(n.localStore,t.query,!0),i=t.view.Ra(r);return n.isPrimaryClient&&S_(n,t.targetId,i.da),i}async function P_(e,t){const n=Th(e);return Ub(n.localStore,t).then((e=>C_(n,e)))}async function O_(e,t,n,r){const i=Th(e),s=await function(e,t){const n=Th(e),r=Th(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):uf.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Rw(i.remoteStore):"acknowledged"===n||"rejected"===n?(E_(i,t,r||null),__(i,t),function(e,t){Th(Th(e).mutationQueue).Mn(t)}(i.localStore,t)):Sh(),await C_(i,s)):_h("SyncEngine","Cannot apply mutation batch with id: "+t)}async function D_(e,t,n){const r=Th(e),i=[],s=[];for(const a of t){let e;const t=r.pa.get(a);if(t&&0!==t.length){e=await Lb(r.localStore,Am(t[0]));for(const e of t){const t=r.ga.get(e),n=await R_(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await jb(r.localStore,a);e=await Lb(r.localStore,t),await p_(r,L_(t),a,!1,e.resumeToken)}i.push(e)}return r.fa.u_(s),i}function L_(e){return Sm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function M_(e){return function(e){return Th(Th(e).persistence).Li()}(Th(e).localStore)}async function F_(e,t,n,r){const i=Th(e);if(i.Fa)return void _h("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await Ub(i.localStore,jm(s[0])),r=Qg.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,hp.EMPTY_BYTE_STRING);await C_(i,e,r);break}case"rejected":await Mb(i.localStore,t,!0),k_(i,t,r);break;default:Sh()}}async function j_(e,t,n){const r=U_(e);if(r.Fa){for(const e of t){if(r.pa.has(e)){_h("SyncEngine","Adding an already active target "+e);continue}const t=await jb(r.localStore,e),n=await Lb(r.localStore,t);await p_(r,L_(t),n.targetId,!1,n.resumeToken),yw(r.remoteStore,n)}for(const e of n)r.pa.has(e)&&await Mb(r.localStore,e,!1).then((()=>{bw(r.remoteStore,e),k_(r,e)})).catch(cf)}}function U_(e){const t=Th(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=g_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=A_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=y_.bind(null,t),t.fa.u_=Zw.bind(null,t.eventManager),t.fa.xa=e_.bind(null,t.eventManager),t}function V_(e){const t=Th(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=b_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=w_.bind(null,t),t}class z_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=lw(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ab(this.persistence,new Cb,e.initialUser,this.serializer)}createPersistence(e){return new gb(yb.Hr,this.serializer)}createSharedClientState(e){return new Jb}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class B_ extends z_{constructor(e,t,n){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await V_(this.Na.syncEngine),await Rw(this.Na.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Ab(this.persistence,new Cb,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Wy(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new _f(t,this.persistence);return new wf(e.asyncQueue,n)}createPersistence(e){const t=Sb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ry.withCacheSize(this.cacheSizeBytes):Ry.DEFAULT;return new Eb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,aw(),ow(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Jb}}class q_ extends B_{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Na.syncEngine;this.sharedClientState instanceof Xb&&(this.sharedClientState.syncEngine={Zs:O_.bind(null,t),Xs:F_.bind(null,t),eo:j_.bind(null,t),Li:M_.bind(null,t),Ys:P_.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=Th(e);if(U_(n),V_(n),!0===t&&!0!==n.Fa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await D_(n,e.toArray());n.Fa=!0,await zw(n.remoteStore,!0);for(const r of t)yw(n.remoteStore,r)}else if(!1===t&&!1!==n.Fa){const e=[];let t=Promise.resolve();n.pa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(k_(n,i),Mb(n.localStore,i,!0)))),bw(n.remoteStore,i)})),await t,await D_(n,e),function(e){const t=Th(e);t.Sa.forEach(((e,n)=>{bw(t.remoteStore,n)})),t.ba.mr(),t.Sa=new Map,t.wa=new ip(Xh.comparator)}(n),n.Fa=!1,await zw(n.remoteStore,!1)}}(this.Na.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=aw();if(!Xb.D(t))throw new Nh(Ch.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Sb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xb(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class H_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>v_(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=N_.bind(null,this.syncEngine),await zw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Xw}createDatastore(e){const t=lw(e.databaseInfo.databaseId),n=function(e){return new sw(e)}(e.databaseInfo);return function(e,t,n,r){return new fw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new mw(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>v_(this.syncEngine,e,0)),Zb.D()?new Zb:new $b)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new h_(e,t,n,r,i,s);return a&&(o.Fa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Th(e);_h("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await vw(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function K_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class W_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Eh("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class G_{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new Ah,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((e=>{e&&e.ea()?this.metadata.resolve(e.X_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(e=>this.metadata.reject(e)))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(null===e)return null;const t=this.qa.decode(e),n=Number(t);isNaN(n)&&this.$a("length string (".concat(t,") is not valid number"));const r=await this.Ua(n);return new r_(JSON.parse(r),e.length+n)}Wa(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(0===this.buffer.length)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const t=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}$a(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ga(){const e=await this.ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Q_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Nh(Ch.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Th(e),r={documents:t.map((e=>mv(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,Gh.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){xh(!!t.found),t.found.name,t.found.updateTime;const n=gv(e,t.found.name),r=dv(t.found.updateTime),i=t.found.createTime?dv(t.found.createTime):Kh.min(),s=new qp({mapValue:{fields:t.found.fields}});return Kp.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){xh(!!t.missing),xh(!!t.readTime);const n=gv(e,t.missing),r=dv(t.readTime);return Kp.newNoDocument(n,r)}(e,t):Sh()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());xh(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Rg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Xh.fromPath(t);this.mutations.push(new Pg(n,this.precondition(n)))})),await async function(e,t){const n=Th(e),r={writes:t.map((e=>kv(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,Gh.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Sh();t=Kh.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Nh(Ch.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Kh.min())?yg.exists(!1):yg.updateTime(t):yg.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Kh.min()))throw new Nh(Ch.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yg.updateTime(t)}return yg.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Y_{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.za=n.maxAttempts,this.jo=new cw(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo((async()=>{const e=new Q_(this.datastore),t=this.Ja(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Ya(e)}))))})).catch((e=>{this.Ya(e)}))}))}Ja(e){try{const t=this.updateFunction(e);return!kf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ha(),Promise.resolve())))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ug(t)}return!1}}class X_{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=vh.UNAUTHENTICATED,this.clientId=Vh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{_h("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(_h("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nh(Ch.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ah;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Kw(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function J_(e,t){e.asyncQueue.verifyOperationInProgress(),_h("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Rb(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function $_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await eE(e);_h("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Vw(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Vw(t.remoteStore,n))),e._onlineComponents=t}function Z_(e){return"FirebaseError"===e.name?e.code===Ch.FAILED_PRECONDITION||e.code===Ch.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function eE(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){_h("FirestoreClient","Using user provided OfflineComponentProvider");try{await J_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Z_(n))throw n;kh("Error using user provided cache. Falling back to memory cache: "+n),await J_(e,new z_)}}else _h("FirestoreClient","Using default OfflineComponentProvider"),await J_(e,new z_);return e._offlineComponents}async function tE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(_h("FirestoreClient","Using user provided OnlineComponentProvider"),await $_(e,e._uninitializedComponentsProvider._online)):(_h("FirestoreClient","Using default OnlineComponentProvider"),await $_(e,new H_))),e._onlineComponents}function nE(e){return eE(e).then((e=>e.persistence))}function rE(e){return eE(e).then((e=>e.localStore))}function iE(e){return tE(e).then((e=>e.remoteStore))}function sE(e){return tE(e).then((e=>e.syncEngine))}function aE(e){return tE(e).then((e=>e.datastore))}async function oE(e){const t=await tE(e),n=t.eventManager;return n.onListen=f_.bind(null,t.syncEngine),n.onUnlisten=m_.bind(null,t.syncEngine),n}function lE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ah;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new W_({next:s=>{t.enqueueAndForget((()=>$w(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new Nh(Ch.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new Nh(Ch.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new n_(xm(n.path),s,{includeMetadataChanges:!0,Z_:!0});return Jw(e,a)}(await oE(e),e.asyncQueue,t,n,r))),r.promise}function cE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ah;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new W_({next:n=>{t.enqueueAndForget((()=>$w(e,a))),n.fromCache&&"server"===r.source?i.reject(new Nh(Ch.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new n_(n,s,{includeMetadataChanges:!0,Z_:!0});return Jw(e,a)}(await oE(e),e.asyncQueue,t,n,r))),r.promise}function uE(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Bg().encode(e):e,function(e,t){return new G_(e,t)}(function(e,t){if(e instanceof Uint8Array)return K_(e,t);if(e instanceof ArrayBuffer)return K_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,lw(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Th(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Th(e),r=dv(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(a_(r));const i=new s_(r,e.localStore,t.serializer);let s=await t.Oa();for(;s;){const e=await i.na(s);e&&n._updateProgress(e),s=await t.Oa()}const a=await i.complete();return await C_(e,a.sa,void 0),await function(e,t){const n=Th(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.ia)}catch(e){return kh("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await sE(e),i,r)}))}function dE(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const hE=new Map;function fE(e,t,n){if(!n)throw new Nh(Ch.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function pE(e,t,n,r){if(!0===t&&!0===r)throw new Nh(Ch.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function mE(e){if(!Xh.isDocumentKey(e))throw new Nh(Ch.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function gE(e){if(Xh.isDocumentKey(e))throw new Nh(Ch.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function vE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Sh()}function yE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nh(Ch.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vE(e);throw new Nh(Ch.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function bE(e,t){if(t<=0)throw new Nh(Ch.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class wE{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Nh(Ch.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nh(Ch.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dE(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Nh(Ch.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Nh(Ch.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Nh(Ch.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _E{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nh(Ch.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nh(Ch.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ph;switch(e.type){case"firstParty":return new Mh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Nh(Ch.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hE.get(e);t&&(_h("ComponentProvider","Removing Datastore"),hE.delete(e),t.terminate())}(this),Promise.resolve()}}function EE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=yE(e,_E))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&kh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=vh.MOCK_USER;else{t=Jt(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Nh(Ch.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new vh(s)}e._authCredentials=new Oh(new Rh(t,n))}}class kE{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new kE(this.firestore,e,this._query)}}class IE{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new SE(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new IE(this.firestore,e,this._key)}}class SE extends kE{constructor(e,t,n){super(e,t,xm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new IE(this.firestore,null,new Xh(e))}withConverter(e){return new SE(this.firestore,e,this._path)}}function xE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=yn(e),fE("collection","path",t),e instanceof _E){const n=Gh.fromString(t,...r);return gE(n),new SE(e,null,n)}{if(!(e instanceof IE||e instanceof SE))throw new Nh(Ch.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Gh.fromString(t,...r));return gE(n),new SE(e.firestore,null,n)}}function TE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=yn(e),1===arguments.length&&(t=Vh.newId()),fE("doc","path",t),e instanceof _E){const n=Gh.fromString(t,...r);return mE(n),new IE(e,null,new Xh(n))}{if(!(e instanceof IE||e instanceof SE))throw new Nh(Ch.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Gh.fromString(t,...r));return mE(n),new IE(e.firestore,e instanceof SE?e.converter:null,new Xh(n))}}function CE(e,t){return e=yn(e),t=yn(t),(e instanceof IE||e instanceof SE)&&(t instanceof IE||t instanceof SE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function NE(e,t){return e=yn(e),t=yn(t),e instanceof kE&&t instanceof kE&&e.firestore===t.firestore&&Dm(e._query,t._query)&&e.converter===t.converter}class AE{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new cw(this,"async_queue_retry"),this._u=()=>{const e=ow();e&&_h("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=ow();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=ow();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new Ah;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(xL){if(!mf(xL))throw xL;_h("AsyncQueue","Operation failed with retryable error: "+xL)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Eh("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=Hw.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&Sh()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function RE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class PE{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ah,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class OE extends _E{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new AE,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||LE(this),this._firestoreClient.terminate()}}function DE(e){return e._firestoreClient||LE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function LE(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new wp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,dE(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new X_(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function ME(e,t,n){const r=new Ah;return e.asyncQueue.enqueue((async()=>{try{await J_(e,n),await $_(e,t),r.resolve()}catch(e){const n=e;if(!Z_(n))throw n;kh("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function FE(e){return function(e){const t=new Ah;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Th(e);Iw(n.remoteStore)||_h("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Th(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ca.get(e)||[];r.push(t),n.Ca.set(e,r)}catch(e){const n=Kw(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await sE(e),t))),t.promise}(DE(e=yE(e,OE)))}function jE(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await nE(e),n=await iE(e);return t.setNetworkEnabled(!0),function(e){const t=Th(e);return t.v_.delete(0),gw(t)}(n)}))}(DE(e=yE(e,OE)))}function UE(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await nE(e),n=await iE(e);return t.setNetworkEnabled(!1),async function(e){const t=Th(e);t.v_.add(0),await vw(t),t.x_.set("Offline")}(n)}))}(DE(e=yE(e,OE)))}function VE(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Th(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await rE(e),t)))}(DE(e=yE(e,OE)),t).then((t=>t?new kE(e,null,t.query):null))}function zE(e){if(e._initialized||e._terminated)throw new Nh(Ch.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class BE{constructor(e){this._byteString=e}static fromBase64String(e){try{return new BE(hp.fromBase64String(e))}catch(e){throw new Nh(Ch.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new BE(hp.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qE{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Nh(Ch.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yh(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class HE{constructor(e){this._methodName=e}}class KE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nh(Ch.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nh(Ch.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zh(this._lat,e._lat)||zh(this._long,e._long)}}const WE=/^__.*__$/;class GE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Tg(e,this.data,this.fieldMask,t,this.fieldTransforms):new xg(e,this.data,t,this.fieldTransforms)}}class QE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Tg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sh()}}class XE{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new XE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return gk(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(YE(this.du)&&WE.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class JE{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||lw(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new XE({du:e,methodName:t,wu:n,path:Yh.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $E(e){const t=e._freezeSettings(),n=lw(e._databaseId);return new JE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ZE(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Su(s.merge||s.mergeFields?2:0,t,n,i);hk("Data must be an object, but it was:",a,r);const o=uk(r,a);let l,c;if(s.merge)l=new up(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=fk(t,r,n);if(!a.contains(i))throw new Nh(Ch.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));vk(e,i)||e.push(i)}l=new up(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new GE(new qp(o),l,c)}class ek extends HE{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ek}}function tk(e,t,n){return new XE({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class nk extends HE{_toFieldTransform(e){return new gg(e.path,new lg)}isEqual(e){return e instanceof nk}}class rk extends HE{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=tk(this,e,!0),n=this.bu.map((e=>ck(e,t))),r=new cg(n);return new gg(e.path,r)}isEqual(e){return e instanceof rk&&un(this.bu,e.bu)}}class ik extends HE{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=tk(this,e,!0),n=this.bu.map((e=>ck(e,t))),r=new dg(n);return new gg(e.path,r)}isEqual(e){return e instanceof ik&&un(this.bu,e.bu)}}class sk extends HE{constructor(e,t){super(e),this.Du=t}_toFieldTransform(e){const t=new fg(e.serializer,rg(e.serializer,this.Du));return new gg(e.path,t)}isEqual(e){return e instanceof sk&&this.Du===e.Du}}function ak(e,t,n,r){const i=e.Su(1,t,n);hk("Data must be an object, but it was:",i,r);const s=[],a=qp.empty();np(r,((e,r)=>{const o=mk(t,e,n);r=yn(r);const l=i.fu(o);if(r instanceof ek)s.push(o);else{const e=ck(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new up(s);return new QE(a,o,i.fieldTransforms)}function ok(e,t,n,r,i,s){const a=e.Su(1,t,n),o=[fk(t,r,n)],l=[i];if(s.length%2!=0)throw new Nh(Ch.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(fk(t,s[h])),l.push(s[h+1]);const c=[],u=qp.empty();for(let h=o.length-1;h>=0;--h)if(!vk(c,o[h])){const e=o[h];let t=l[h];t=yn(t);const n=a.fu(e);if(t instanceof ek)c.push(e);else{const r=ck(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new up(c);return new QE(u,d,a.fieldTransforms)}function lk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ck(n,e.Su(r?4:3,t))}function ck(e,t){if(dk(e=yn(e)))return hk("Unsupported field value:",t,e),uk(e,t);if(e instanceof HE)return function(e,t){if(!YE(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ck(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=yn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rg(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Hh.fromDate(e);return{timestampValue:lv(t.serializer,n)}}if(e instanceof Hh){const n=new Hh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:lv(t.serializer,n)}}if(e instanceof KE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof BE)return{bytesValue:cv(t.serializer,e._byteString)};if(e instanceof IE){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:hv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(vE(e)))}(e,t)}function uk(e,t){const n={};return rp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):np(e,((e,r)=>{const i=ck(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function dk(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hh||e instanceof KE||e instanceof BE||e instanceof IE||e instanceof HE)}function hk(e,t,n){if(!dk(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=vE(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function fk(e,t,n){if((t=yn(t))instanceof qE)return t._internalPath;if("string"==typeof t)return mk(e,t);throw gk("Field path arguments must be of type string or ",e,!1,void 0,n)}const pk=new RegExp("[~\\*/\\[\\]]");function mk(e,t,n){if(t.search(pk)>=0)throw gk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new qE(...t.split("."))._internalPath}catch(ul){throw gk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function gk(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Nh(Ch.INVALID_ARGUMENT,o+e+l)}function vk(e,t){return e.some((e=>e.isEqual(t)))}class yk{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new IE(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class bk extends yk{data(){return super.data()}}function wk(e,t){return"string"==typeof t?mk(e,t):t instanceof qE?t._internalPath:t._delegate._internalPath}function _k(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Nh(Ch.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ek{}class kk extends Ek{}function Ik(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Ek&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Tk)).length,n=e.filter((e=>e instanceof Sk)).length;if(t>1||t>0&&n>0)throw new Nh(Ch.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Sk extends kk{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Sk(e,t,n)}_apply(e){const t=this._parse(e);return Lk(e._query,t),new kE(e.firestore,e.converter,Pm(e._query,t))}_parse(e){const t=$E(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Nh(Ch.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Dk(a,s);const t=[];for(const n of a)t.push(Ok(r,e,n));o={arrayValue:{values:t}}}else o=Ok(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Dk(a,s),o=lk(n,t,a,"in"===s||"not-in"===s);return $p.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function xk(e,t,n){const r=t,i=wk("where",e);return Sk._create(i,r,n)}class Tk extends Ek{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tk(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Zp.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Lk(n,i),n=Pm(n,i)}(e._query,t),new kE(e.firestore,e.converter,Pm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ck extends kk{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ck(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Nh(Ch.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Nh(Ch.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yp(t,n)}(e._query,this._field,this._direction);return new kE(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Im(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Nk extends kk{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Nk(e,t,n)}_apply(e){return new kE(e.firestore,e.converter,Om(e._query,this._limit,this._limitType))}}class Ak extends kk{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Ak(e,t,n)}_apply(e){const t=Pk(e,this.type,this._docOrFields,this._inclusive);return new kE(e.firestore,e.converter,function(e,t){return new Im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Rk extends kk{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Rk(e,t,n)}_apply(e){const t=Pk(e,this.type,this._docOrFields,this._inclusive);return new kE(e.firestore,e.converter,function(e,t){return new Im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Pk(e,t,n,r){if(n[0]=yn(n[0]),n[0]instanceof yk)return function(e,t,n,r,i){if(!r)throw new Nh(Ch.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const a of Nm(e))if(a.field.isKeyField())s.push(Rp(t,r.key));else{const e=r.data.field(a.field);if(vp(e))throw new Nh(Ch.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new Nh(Ch.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new Wp(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=$E(e.firestore);return function(e,t,n,r,i,s){const a=e.explicitOrderBy;if(i.length>a.length)throw new Nh(Ch.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const o=[];for(let l=0;l<i.length;l++){const s=i[l];if(a[l].field.isKeyField()){if("string"!=typeof s)throw new Nh(Ch.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Cm(e)&&-1!==s.indexOf("/"))throw new Nh(Ch.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Gh.fromString(s));if(!Xh.isDocumentKey(n))throw new Nh(Ch.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Xh(n);o.push(Rp(t,i))}else{const e=lk(n,r,s);o.push(e)}}return new Wp(o,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Ok(e,t,n){if("string"==typeof(n=yn(n))){if(""===n)throw new Nh(Ch.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cm(t)&&-1!==n.indexOf("/"))throw new Nh(Ch.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Gh.fromString(n));if(!Xh.isDocumentKey(r))throw new Nh(Ch.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Rp(e,new Xh(r))}if(n instanceof IE)return Rp(e,n._key);throw new Nh(Ch.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(vE(n),"."))}function Dk(e,t){if(!Array.isArray(e)||0===e.length)throw new Nh(Ch.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Lk(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Nh(Ch.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Nh(Ch.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Mk{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ip(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Sh()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return np(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new KE(mp(e.latitude),mp(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=yp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bp(e));default:return null}}convertTimestamp(e){const t=pp(e);return new Hh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Gh.fromString(e);xh(Mv(n));const r=new _p(n.get(1),n.get(3)),i=new Xh(n.popFirst(5));return r.isEqual(t)||Eh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Fk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class jk extends Mk{constructor(e){super(),this.firestore=e}convertBytes(e){return new BE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new IE(this.firestore,null,t)}}class Uk{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vk extends yk{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new zk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(wk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class zk extends Vk{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Bk{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Uk(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new zk(this._firestore,this._userDataWriter,n.key,n,new Uk(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Nh(Ch.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new zk(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Uk(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new zk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Uk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:qk(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function qk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sh()}}function Hk(e,t){return e instanceof Vk&&t instanceof Vk?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Bk&&t instanceof Bk&&e._firestore===t._firestore&&NE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Kk(e){e=yE(e,IE);const t=yE(e.firestore,OE);return lE(DE(t),e._key).then((n=>rI(t,e,n)))}class Wk extends Mk{constructor(e){super(),this.firestore=e}convertBytes(e){return new BE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new IE(this.firestore,null,t)}}function Gk(e){e=yE(e,IE);const t=yE(e.firestore,OE),n=DE(t),r=new Wk(t);return function(e,t){const n=new Ah;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Th(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Nh(Ch.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Kw(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await rE(e),t,n))),n.promise}(n,e._key).then((n=>new Vk(t,r,e._key,n,new Uk(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Qk(e){e=yE(e,kE);const t=yE(e.firestore,OE),n=DE(t),r=new Wk(t);return _k(e._query),cE(n,e._query).then((n=>new Bk(t,r,e,n)))}function Yk(e){e=yE(e,kE);const t=yE(e.firestore,OE),n=DE(t),r=new Wk(t);return function(e,t){const n=new Ah;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Fb(e,t,!0),i=new c_(t,r.hs),s=i.ha(r.documents),a=i.applyChanges(s,!1);n.resolve(a.snapshot)}catch(e){const r=Kw(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await rE(e),t,n))),n.promise}(n,e._query).then((n=>new Bk(t,r,e,n)))}function Xk(e,t,n){e=yE(e,IE);const r=yE(e.firestore,OE),i=Fk(e.converter,t,n);return nI(r,[ZE($E(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,yg.none())])}function Jk(e,t,n){e=yE(e,IE);const r=yE(e.firestore,OE),i=$E(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=yn(t))||t instanceof qE?ok(i,"updateDoc",e._key,t,n,o):ak(i,"updateDoc",e._key,t),nI(r,[s.toMutation(e._key,yg.exists(!0))])}function $k(e){return nI(yE(e.firestore,OE),[new Rg(e._key,yg.none())])}function Zk(e,t){const n=yE(e.firestore,OE),r=TE(e),i=Fk(e.converter,t);return nI(n,[ZE($E(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,yg.exists(!1))]).then((()=>r))}function eI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=yn(e);let o={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||RE(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(RE(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof IE)d=yE(e.firestore,OE),h=xm(e._key.path),u={next:t=>{n[l]&&n[l](rI(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=yE(e,kE);d=yE(t.firestore,OE),h=t._query;const r=new Wk(d);u={next:e=>{n[l]&&n[l](new Bk(d,r,t,e))},error:n[l+1],complete:n[l+2]},_k(e._query)}return function(e,t,n,r){const i=new W_(r),s=new n_(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Jw(await oE(e),s))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>$w(await oE(e),s)))}}(DE(d),h,c,u)}function tI(e,t){return function(e,t){const n=new W_(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Th(e).K_.add(t),t.next()}(await oE(e),n))),()=>{n.La(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Th(e).K_.delete(t)}(await oE(e),n)))}}(DE(e=yE(e,OE)),RE(t)?t:{next:t})}function nI(e,t){return function(e,t){const n=new Ah;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=V_(e);try{const e=await function(e,t){const n=Th(e),r=Hh.now(),i=t.reduce(((e,t)=>e.add(t.key)),$m());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=qm(),l=$m();return n.os.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=Ig(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Tg(e.key,t,Hp(t.value.mapValue),yg.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Wm(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new ip(zh)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await C_(r,e.changes),await Rw(r.remoteStore)}catch(e){const t=Kw(e,"Failed to persist write");n.reject(t)}}(await sE(e),t,n))),n.promise}(DE(e),t)}function rI(e,t,n){const r=n.docs.get(t._key),i=new Wk(e);return new Vk(e,i,t._key,r,new Uk(n.hasPendingWrites,n.fromCache),t.converter)}const iI={maxAttempts:5};class sI{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=$E(e)}set(e,t,n){this._verifyNotCommitted();const r=aI(e,this._firestore),i=Fk(r.converter,t,n),s=ZE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,yg.none())),this}update(e,t,n){this._verifyNotCommitted();const r=aI(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=yn(t))||t instanceof qE?ok(this._dataReader,"WriteBatch.update",r._key,t,n,a):ak(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,yg.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=aI(e,this._firestore);return this._mutations=this._mutations.concat(new Rg(t._key,yg.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nh(Ch.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function aI(e,t){if((e=yn(e)).firestore!==t)throw new Nh(Ch.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class oI extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=$E(e)}get(e){const t=aI(e,this._firestore),n=new jk(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Sh();const r=e[0];if(r.isFoundDocument())return new yk(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new yk(this._firestore,n,t._key,null,t.converter);throw Sh()}))}set(e,t,n){const r=aI(e,this._firestore),i=Fk(r.converter,t,n),s=ZE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=aI(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=yn(t))||t instanceof qE?ok(this._dataReader,"Transaction.update",r._key,t,n,a):ak(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=aI(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=aI(e,this._firestore),n=new Wk(this._firestore);return super.get(e).then((e=>new Vk(this._firestore,n,t._key,e._document,new Uk(!1,!1),t.converter)))}}function lI(){return new nk("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){yh=e}(cr),rr(new bn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new OE(new Dh(e.getProvider("auth-internal")),new jh(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nh(Ch.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _p(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),pr(gh,"4.4.2",e),pr(gh,"4.4.2","esm2017")}();const cI="firebasestorage.googleapis.com",uI="storageBucket";class dI extends an{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(pI(e),"Firebase Storage: ".concat(t," (").concat(pI(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dI.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var hI,fI;function pI(e){return"storage/"+e}function mI(){return new dI(hI.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function gI(){return new dI(hI.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vI(){return new dI(hI.CANCELED,"User canceled the upload/download.")}function yI(){return new dI(hI.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bI(e){return new dI(hI.INVALID_ARGUMENT,e)}function wI(){return new dI(hI.APP_DELETED,"The Firebase app was deleted.")}function _I(e){return new dI(hI.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function EI(e,t){return new dI(hI.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function kI(e){throw new dI(hI.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(hI||(hI={}));class II{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=II.makeFromUrl(e,t)}catch(xL){return new II(e,"")}if(""===n.path)return n;throw r=e,new dI(hI.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===cI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new II(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new dI(hI.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class SI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function xI(e){return"string"===typeof e||e instanceof String}function TI(e){return CI()&&e instanceof Blob}function CI(){return"undefined"!==typeof Blob}function NI(e,t,n,r){if(r<t)throw bI("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw bI("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function AI(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function RI(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function PI(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(fI||(fI={}));class OI{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new DI(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===fI.NO_ERROR,i=n.getStatus();if(!t||PI(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===fI.ABORT;return void e(!1,new DI(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new DI(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(xL){r(xL)}else if(null!==i){const e=mI();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?wI():vI())}else{r(gI())}};this.canceled_?t(0,new DI(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class DI{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function LI(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function MI(){const e=LI();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(CI())return new Blob(n);throw new dI(hI.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function FI(e){if("undefined"===typeof atob)throw t="base-64",new dI(hI.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const jI={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class UI{constructor(e,t){this.data=e,this.contentType=t||null}}function VI(e,t){switch(e){case jI.RAW:return new UI(zI(t));case jI.BASE64:case jI.BASE64URL:return new UI(BI(e,t));case jI.DATA_URL:return new UI(function(e){const t=new qI(e);return t.base64?BI(jI.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(xL){throw EI(jI.DATA_URL,"Malformed data URL.")}return zI(t)}(t.rest)}(t),new qI(t).contentType)}throw mI()}function zI(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function BI(e,t){switch(e){case jI.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw EI(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case jI.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw EI(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=FI(t)}catch(xL){if(xL.message.includes("polyfill"))throw xL;throw EI(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class qI{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw EI(jI.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class HI{constructor(e,t){let n=0,r="";TI(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(TI(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new HI(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new HI(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(CI()){const e=t.map((e=>e instanceof HI?e.data_:e));return new HI(MI.apply(null,e))}{const e=t.map((e=>xI(e)?VI(jI.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new HI(r,!0)}}uploadData(){return this.data_}}function KI(e){let t;try{t=JSON.parse(e)}catch(xL){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function WI(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function GI(e,t){return t}class QI{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||GI}}let YI=null;function XI(){if(YI)return YI;const e=[];e.push(new QI("bucket")),e.push(new QI("generation")),e.push(new QI("metageneration")),e.push(new QI("name","fullPath",!0));const t=new QI("name");t.xform=function(e,t){return function(e){return!xI(e)||e.length<2?e:WI(e)}(t)},e.push(t);const n=new QI("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new QI("timeCreated")),e.push(new QI("updated")),e.push(new QI("md5Hash",null,!0)),e.push(new QI("cacheControl",null,!0)),e.push(new QI("contentDisposition",null,!0)),e.push(new QI("contentEncoding",null,!0)),e.push(new QI("contentLanguage",null,!0)),e.push(new QI("contentType",null,!0)),e.push(new QI("metadata","customMetadata",!0)),YI=e,YI}function JI(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new II(n,r);return t._makeStorageReference(i)}})}(r,e),r}function $I(e,t,n){const r=KI(t);if(null===r)return null;return JI(e,r,n)}function ZI(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const eS="prefixes",tS="items";function nS(e,t,n){const r=KI(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[eS])for(const i of n[eS]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new II(t,n));r.prefixes.push(s)}if(n[tS])for(const i of n[tS]){const n=e._makeStorageReference(new II(t,i.name));r.items.push(n)}return r}(e,t,r)}class rS{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function iS(e){if(!e)throw mI()}function sS(e,t){return function(n,r){const i=$I(e,r,t);return iS(null!==i),i}}function aS(e,t){return function(n,r){const i=$I(e,r,t);return iS(null!==i),function(e,t,n,r){const i=KI(t);if(null===i)return null;if(!xI(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return AI("/b/"+a(i)+"/o/"+a(s),n,r)+RI({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function oS(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new dI(hI.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new dI(hI.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new dI(hI.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new dI(hI.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function lS(e){const t=oS(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new dI(hI.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function cS(e,t,n){const r=AI(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new rS(r,"GET",sS(e,n),i);return s.errorHandler=lS(t),s}function uS(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=AI(t.bucketOnlyServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,l=new rS(a,"GET",function(e,t){return function(n,r){const i=nS(e,t,r);return iS(null!==i),i}}(e,t.bucket),o);return l.urlParams=s,l.errorHandler=oS(t),l}function dS(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function hS(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=dS(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ZI(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=HI.getBlob(c,r,u);if(null===d)throw yI();const h={name:l.fullPath},f=AI(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new rS(f,"POST",sS(e,n),p);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=oS(t),m}class fS{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function pS(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(xL){iS(!1)}return iS(!!n&&-1!==(t||["active"]).indexOf(n)),n}const mS=262144;function gS(e,t,n,r,i,s,a,o){const l=new fS(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new dI(hI.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,h=d+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(d,h);if(null===m)throw yI();const g=t.maxUploadRetryTime,v=new rS(n,"POST",(function(e,n){const i=pS(e,["active","final"]),a=l.current+u,o=r.size();let c;return c="final"===i?sS(t,s)(e,n):null,new fS(a,o,"final"===i,c)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=o||null,v.errorHandler=oS(e),v}const vS={STATE_CHANGED:"state_changed"},yS={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bS(e){switch(e){case"running":case"pausing":case"canceling":return yS.RUNNING;case"paused":return yS.PAUSED;case"success":return yS.SUCCESS;case"canceled":return yS.CANCELED;default:return yS.ERROR}}class wS{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function _S(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let ES=null;class kS{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fI.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=fI.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=fI.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw kI("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kI("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kI("cannot .getStatus() before sending");try{return this.xhr_.status}catch(xL){return-1}}getResponse(){if(!this.sent_)throw kI("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kI("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class IS extends kS{initXhr(){this.xhr_.responseType="text"}}function SS(){return ES?ES():new IS}class xS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=XI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(hI.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(PI(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=gI()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(hI.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a=dS(t,r,i),o={name:a.fullPath},l=AI(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},u=ZI(a,n),d=e.maxUploadRetryTime,h=new rS(l,"POST",(function(e){let t;pS(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(xL){iS(!1)}return iS(xI(t)),t}),d);return h.urlParams=o,h.headers=c,h.body=u,h.errorHandler=oS(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,SS,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new rS(n,"POST",(function(e){const t=pS(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(xL){iS(!1)}n||iS(!1);const i=Number(n);return iS(!isNaN(i)),new fS(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=oS(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,SS,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=mS*this._chunkMultiplier,t=new fS(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=gS(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(xL){return this._error=xL,void this._transition("error")}const a=this._ref.storage._makeRequest(s,SS,r,i,!1);this._request=a,a.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(mS*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=cS(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,SS,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=hS(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,SS,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=vI(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=bS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new wS(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(bS(this._state)){case yS.SUCCESS:_S(this._resolve.bind(null,this.snapshot))();break;case yS.CANCELED:case yS.ERROR:_S(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(bS(this._state)){case yS.RUNNING:case yS.PAUSED:e.next&&_S(e.next.bind(e,this.snapshot))();break;case yS.SUCCESS:e.complete&&_S(e.complete.bind(e))();break;default:e.error&&_S(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class TS{constructor(e,t){this._service=e,this._location=t instanceof II?t:II.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new TS(e,t)}get root(){const e=new II(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WI(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new II(this._location.bucket,e);return new TS(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw _I(e)}}function CS(e){const t={prefixes:[],items:[]};return NS(e,t).then((()=>t))}async function NS(e,t,n){const r={pageToken:n},i=await AS(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await NS(e,t,i.nextPageToken)}function AS(e,t){null!=t&&"number"===typeof t.maxResults&&NI("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=uS(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,SS)}function RS(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=AI(t.fullServerUrl(),e.host,e._protocol),s=ZI(n,r),a=e.maxOperationRetryTime,o=new rS(i,"PATCH",sS(e,r),a);return o.headers={"Content-Type":"application/json; charset=utf-8"},o.body=s,o.errorHandler=lS(t),o}(e.storage,e._location,t,XI());return e.storage.makeRequestWithTokens(n,SS)}function PS(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=AI(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new rS(r,"GET",aS(e,n),i);return s.errorHandler=lS(t),s}(e.storage,e._location,XI());return e.storage.makeRequestWithTokens(t,SS).then((e=>{if(null===e)throw new dI(hI.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function OS(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=AI(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new rS(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=lS(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,SS)}function DS(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new II(e._location.bucket,n);return new TS(e.storage,r)}function LS(e,t){if(e instanceof jS){const n=e;if(null==n._bucket)throw new dI(hI.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uI+"' property when initializing the app?");const r=new TS(n,n._bucket);return null!=t?LS(r,t):r}return void 0!==t?DS(e,t):e}function MS(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof jS)return new TS(e,t);throw bI("To use ref(service, url), the first argument must be a Storage instance.")}return LS(e,t)}function FS(e,t){const n=null===t||void 0===t?void 0:t[uI];return null==n?null:II.makeFromBucketSpec(n,e)}class jS{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=cI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?II.makeFromBucketSpec(r,this._host):FS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=II.makeFromBucketSpec(this._url,e):this._bucket=FS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new TS(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new SI(wI());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=RI(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new OI(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const US="@firebase/storage",VS="0.12.1",zS="storage";function BS(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new xS(e,new HI(t),n)}(e=yn(e),t,n)}function qS(e){return function(e){e._throwIfRoot("getMetadata");const t=cS(e.storage,e._location,XI());return e.storage.makeRequestWithTokens(t,SS)}(e=yn(e))}function HS(e){return PS(e=yn(e))}function KS(e,t){return MS(e=yn(e),t)}function WS(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Jt(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function GS(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new jS(r,i,s,n,cr)}rr(new bn(zS,GS,"PUBLIC").setMultipleInstances(!0)),pr(US,VS,""),pr(US,VS,"esm2017");class QS{constructor(e,t){this._delegate=e,this.firebase=t,tr(e,new bn("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),fr(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jn;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jn;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){tr(this._delegate,e)}_addOrOverwriteComponent(e){nr(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const YS=new on("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const XS=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=ur(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(cn(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:pr,setLogLevel:gr,onLog:mr,apps:null,SDK_VERSION:cr,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(rr(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw YS.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&qt(a,e.serviceProps),r[s]=a,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!cn(n,e=e||Jn))throw YS.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(QS);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){qt(n,e)},createSubscribe:mn,ErrorFactory:on,deepExtend:qt}),n}(),JS=new Nn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){JS.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&JS.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $S=XS;function ZS(){return window}!function(e){pr("@firebase/app-compat","0.2.27",e)}();async function ex(e,t,n){var r;const{BuildInfo:i}=ZS();Xr(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Xr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return zi()?a.ibi=i.packageName:ji()?a.apn=i.packageName:qr(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,Uo(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function tx(e){const{cordova:t}=ZS();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const nx=20;class rx extends mo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function ix(e){const t=await ox()._get(lx(e));return t&&await ox()._remove(lx(e)),t}function sx(e,t){var n,r;const i=function(e){const t=cx(e),n=t.link?decodeURIComponent(t.link):void 0,r=cx(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return cx(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=cx(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(xL){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],o=a?Hr(a):null;return o?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ax(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<nx;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function ox(){return Ci(va)}function lx(e){return Ri("authEvent",e.config.apiKey,e.name)}function cx(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return fn(n.join("?"))}const ux=class{constructor(){this._redirectPersistence=ba,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fo,this._overrideRedirectResult=ao}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new rx(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){qr(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,a,o,l,c,u;const d=ZS();Qr("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Qr("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Qr("function"===typeof(null===(s=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Qr("function"===typeof(null===(l=null===(o=null===(a=null===d||void 0===d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Qr("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),ro.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:ax(),postBody:null,tenantId:e.tenantId,error:Hr(e,"no-auth-event")}}(e,n,r);await function(e,t){return ox()._set(lx(e),t)}(e,s);const a=await ex(e,s,t);return async function(e,t,n){const{cordova:r}=ZS();let i=()=>{};try{await new Promise(((s,a)=>{let o=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){o||(o=window.setTimeout((()=>{a(Hr(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),ji()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}}))}finally{i()}}(e,i,await tx(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=ZS(),n={};zi()?n.iosBundleId=t.packageName:ji()?n.androidPackageName=t.packageName:qr(e,"operation-not-supported-in-this-environment"),await yo(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=ZS(),s=setTimeout((async()=>{await ix(e),t.onEvent(dx())}),500),a=async n=>{clearTimeout(s);const r=await ix(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=sx(r,n.url)),t.onEvent(i||dx())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const o=r,l="".concat(i.packageName.toLowerCase(),"://");ZS().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"===typeof o)try{o(e)}catch(xL){console.error(xL)}}}};function dx(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Hr("no-auth-event")}}function hx(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function fx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return!("file:"!==hx()&&"ionic:"!==hx()&&"capacitor:"!==hx()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function px(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return nn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/Edge\/\d+/.test(e)}(e)}function mx(){try{const e=self.localStorage,t=_a();if(e)return e.setItem(t,"1"),e.removeItem(t),!px()||sn()}catch(xL){return gx()&&sn()}return!1}function gx(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function vx(){return("http:"===hx()||"https:"===hx()||en()||fx())&&!(tn()||Zt())&&mx()&&!gx()}function yx(){return fx()&&"undefined"!==typeof document}const bx={LOCAL:"local",NONE:"none",SESSION:"session"},wx=Qr,_x="persistence";async function Ex(e){await e._initializationPromise;const t=kx(),n=Ri(_x,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function kx(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(xL){return null}}const Ix=Qr;class Sx{constructor(){this.browserResolver=Ci(zo),this.cordovaResolver=Ci(ux),this.underlyingResolver=null,this._redirectPersistence=ba,this._completeRedirectFn=fo,this._overrideRedirectResult=ao}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return yx()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ix(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!yx()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function xx(e){return e.unwrap()}function Tx(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Rx(e,function(e,t){var n;const r=yn(e),i=t;return Qr(t.customData.operationType,r,"argument-error"),Qr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),da._fromError(r,i)}(e,t))}else if(r){const e=Cx(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Cx(e){const{_tokenResponse:t}=e instanceof an?e.customData:e;if(!t)return null;if(!(e instanceof an)&&"temporaryProof"in t&&"phoneNumber"in t)return Ga.credentialFromResult(e);const n=t.providerId;if(!n||n===Ar.PASSWORD)return null;let r;switch(n){case Ar.GOOGLE:r=Es;break;case Ar.FACEBOOK:r=_s;break;case Ar.GITHUB:r=ks;break;case Ar.TWITTER:r=xs;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:a,nonce:o}=t;return i||s||e||a?a?n.startsWith("saml.")?Is._create(n,a):fs._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new ws(n).credential({idToken:e,accessToken:i,rawNonce:o}):null}return e instanceof an?r.credentialFromError(e):r.credentialFromResult(e)}function Nx(e,t){return t.catch((t=>{throw t instanceof an&&Tx(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Cx(r)),additionalUserInfo:ca(e),user:Px.getOrCreate(n)};var r}))}async function Ax(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Nx(e,n.confirm(t))}}class Rx{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Nx(xx(this.auth),this.resolver.resolveSignIn(e))}}class Px{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=yn(e);return fa.has(t)||fa.set(t,ha._fromUser(t)),fa.get(t)}(e)}static getOrCreate(e){return Px.USER_MAP.has(e)||Px.USER_MAP.set(e,new Px(e)),Px.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Nx(this.auth,Us(this._delegate,e))}async linkWithPhoneNumber(e,t){return Ax(this.auth,async function(e,t,n){const r=yn(e);await Ls(!1,r,"phone");const i=await Wa(r.auth,t,yn(n));return new Ka(i,(e=>Us(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Nx(this.auth,async function(e,t,n){const r=yn(e);Wr(r.auth,t,ys);const i=Qa(r.auth,n);return new to(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Sx))}async linkWithRedirect(e){return await Ex(Gi(this.auth)),ho(this._delegate,e,Sx)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Nx(this.auth,Vs(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Ax(this.auth,async function(e,t,n){const r=yn(e),i=await Wa(r.auth,t,yn(n));return new Ka(i,(e=>Vs(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Nx(this.auth,async function(e,t,n){const r=yn(e);Wr(r.auth,t,ys);const i=Qa(r.auth,n);return new to(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Sx))}async reauthenticateWithRedirect(e){return await Ex(Gi(this.auth)),uo(this._delegate,e,Sx)}sendEmailVerification(e){return Zs(this._delegate,e)}async unlink(e){return await Os(this._delegate,e),this}updateEmail(e){return function(e,t){return na(yn(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return na(yn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Ds(yn(e),t)}(this._delegate,e)}updateProfile(e){return ta(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return ea(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Px.USER_MAP=new WeakMap;const Ox=Qr;class Dx{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Ox(n,"invalid-api-key",{appName:e.name}),Ox(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Sx:void 0;this._delegate=t.initialize({options:{persistence:Mx(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(jr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Px.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){ts(this._delegate,e,t)}applyActionCode(e){return Qs(this._delegate,e)}checkActionCode(e){return Ys(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await ss(yn(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ws(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Nx(this._delegate,Xs(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return $s(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=gs.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Ox(vx(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Gi(e)._initializationPromise,fo(e,t,!1)}(this._delegate,Sx);return e?Nx(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Gi(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Lx(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Lx(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Gi(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Qr(t.handleCodeInApp,r,"argument-error"),t&&Ks(r,e,t)}(i,n),await es(r,i,"getOobCode",us)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Gs(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){wx(Object.values(bx).includes(t),e,"invalid-persistence-type"),tn()?wx(t!==bx.SESSION,e,"unsupported-persistence-type"):Zt()?wx(t===bx.NONE,e,"unsupported-persistence-type"):gx()?wx(t===bx.NONE||t===bx.LOCAL&&sn(),e,"unsupported-persistence-type"):wx(t===bx.NONE||mx(),e,"unsupported-persistence-type")}(this._delegate,e),e){case bx.SESSION:t=ba;break;case bx.LOCAL:t=await Ci(Da)._isAvailable()?Da:va;break;case bx.NONE:t=Ai;break;default:return qr("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Nx(this._delegate,async function(e){var t;const n=Gi(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Cs({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ts(n,{returnSecureToken:!0}),i=await Cs._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Nx(this._delegate,js(this._delegate,e))}signInWithCustomToken(e){return Nx(this._delegate,zs(this._delegate,e))}signInWithEmailAndPassword(e,t){return Nx(this._delegate,Js(this._delegate,e,t))}signInWithEmailLink(e,t){return Nx(this._delegate,async function(e,t,n){const r=yn(e),i=vs.credentialWithLink(t,n||Jr());return Qr(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),js(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Ax(this._delegate,async function(e,t,n){const r=Gi(e),i=await Wa(r,t,yn(n));return new Ka(i,(e=>js(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Ox(vx(),this._delegate,"operation-not-supported-in-this-environment"),Nx(this._delegate,async function(e,t,n){const r=Gi(e);Wr(e,t,ys);const i=Qa(r,n);return new to(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Sx))}async signInWithRedirect(e){return Ox(vx(),this._delegate,"operation-not-supported-in-this-environment"),await Ex(this._delegate),co(this._delegate,e,Sx)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Ys(yn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Lx(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Px.getOrCreate(e)),error:t,complete:n}}function Mx(e,t){const n=function(e,t){const n=kx();if(!n)return[];const r=Ri(_x,e,t);switch(n.getItem(r)){case bx.NONE:return[Ai];case bx.LOCAL:return[Da,ba];case bx.SESSION:return[ba];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Da)||n.push(Da),"undefined"!==typeof window)for(const r of[va,ba])n.includes(r)||n.push(r);return n.includes(Ai)||n.push(Ai),n}Dx.Persistence=bx;class Fx{constructor(){this.providerId="phone",this._delegate=new Ga(xx($S.auth()))}static credential(e,t){return Ga.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Fx.PHONE_SIGN_IN_METHOD=Ga.PHONE_SIGN_IN_METHOD,Fx.PROVIDER_ID=Ga.PROVIDER_ID;const jx=Qr;class Ux{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$S.app();var r;jx(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Ha(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var Vx;(Vx=$S).INTERNAL.registerComponent(new bn("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Dx(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Rr,PASSWORD_RESET:Pr,RECOVER_EMAIL:Or,REVERT_SECOND_FACTOR_ADDITION:Dr,VERIFY_AND_CHANGE_EMAIL:Lr,VERIFY_EMAIL:Mr}},EmailAuthProvider:vs,FacebookAuthProvider:_s,GithubAuthProvider:ks,GoogleAuthProvider:Es,OAuthProvider:ws,SAMLAuthProvider:Ss,PhoneAuthProvider:Fx,PhoneMultiFactorGenerator:Ho,RecaptchaVerifier:Ux,TwitterAuthProvider:xs,Auth:Dx,AuthCredential:is,Error:an}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Vx.registerVersion("@firebase/auth-compat","0.5.2");function zx(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Nh("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Bx(){if("undefined"===typeof Uint8Array)throw new Nh("unimplemented","Uint8Arrays are not available in this environment.")}function qx(){if("undefined"==typeof atob)throw new Nh("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Hx{constructor(e){this._delegate=e}static fromBase64String(e){return qx(),new Hx(BE.fromBase64String(e))}static fromUint8Array(e){return Bx(),new Hx(BE.fromUint8Array(e))}toBase64(){return qx(),this._delegate.toBase64()}toUint8Array(){return Bx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Kx(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Wx{enableIndexedDbPersistence(e,t){return function(e,t){zE(e=yE(e,OE));const n=DE(e);if(n._uninitializedComponentsProvider)throw new Nh(Ch.FAILED_PRECONDITION,"SDK cache is already specified.");kh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new H_;return ME(n,i,new B_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){zE(e=yE(e,OE));const t=DE(e);if(t._uninitializedComponentsProvider)throw new Nh(Ch.FAILED_PRECONDITION,"SDK cache is already specified.");kh("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new H_;return ME(t,r,new q_(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Nh(Ch.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ah;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!hf.D())return Promise.resolve();const t=e+"main";await hf.delete(t)}(Sb(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Gx{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof _p||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||kh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};EE(this._delegate,e,t,n)}enableNetwork(){return jE(this._delegate)}disableNetwork(){return UE(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,pE("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return FE(this._delegate)}onSnapshotsInSync(e){return tI(this._delegate,e)}get app(){if(!this._appCompat)throw new Nh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new oT(this,xE(this._delegate,e))}catch(xL){throw Zx(xL,"collection()","Firestore.collection()")}}doc(e){try{return new $x(this,TE(this._delegate,e))}catch(xL){throw Zx(xL,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new iT(this,function(e,t){if(e=yE(e,_E),fE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Nh(Ch.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new kE(e,null,function(e){return new Im(Gh.emptyPath(),e)}(t))}(this._delegate,e))}catch(xL){throw Zx(xL,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=yE(e,OE);const r=Object.assign(Object.assign({},iI),n);return function(e){if(e.maxAttempts<1)throw new Nh(Ch.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Ah;return e.asyncQueue.enqueueAndForget((async()=>{const i=await aE(e);new Y_(e.asyncQueue,i,n,t,r).ja()})),r.promise}(DE(e),(n=>t(new oI(e,n))),r)}(this._delegate,(t=>e(new Yx(this,t))))}batch(){return DE(this._delegate),new Xx(new sI(this._delegate,(e=>nI(this._delegate,e))))}loadBundle(e){return function(e,t){const n=DE(e=yE(e,OE)),r=new PE;return uE(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return VE(this._delegate,e).then((e=>e?new iT(this,e):null))}}class Qx extends Mk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hx(new BE(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return $x.forKey(t,this.firestore,null)}}class Yx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Qx(e)}get(e){const t=lT(e);return this._delegate.get(t).then((e=>new nT(this._firestore,new Vk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=lT(e);return n?(zx("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=lT(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=lT(e);return this._delegate.delete(t),this}}class Xx{constructor(e){this._delegate=e}set(e,t,n){const r=lT(e);return n?(zx("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=lT(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=lT(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Jx{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new zk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rT(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Jx.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Jx(e,new Qx(e),t),r.set(t,i)),i}}Jx.INSTANCES=new WeakMap;class $x{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Qx(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Nh("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new $x(t,new IE(t._delegate,n,new Xh(e)))}static forKey(e,t,n){return new $x(t,new IE(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new oT(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new oT(this.firestore,xE(this._delegate,e))}catch(xL){throw Zx(xL,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=yn(e))instanceof IE&&CE(this._delegate,e)}set(e,t){t=zx("DocumentReference.set",t);try{return t?Xk(this._delegate,e,t):Xk(this._delegate,e)}catch(xL){throw Zx(xL,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Jk(this._delegate,e):Jk(this._delegate,e,t,...r)}catch(xL){throw Zx(xL,"updateDoc()","DocumentReference.update()")}}delete(){return $k(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=eT(t),i=tT(t,(e=>new nT(this.firestore,new Vk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return eI(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Gk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=yE(e,IE);const t=yE(e.firestore,OE);return lE(DE(t),e._key,{source:"server"}).then((n=>rI(t,e,n)))}(this._delegate):Kk(this._delegate),t.then((e=>new nT(this.firestore,new Vk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new $x(this.firestore,e?this._delegate.withConverter(Jx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Zx(e,t,n){return e.message=e.message.replace(t,n),e}function eT(e){for(const t of e)if("object"===typeof t&&!Kx(t))return t;return{}}function tT(e,t){var n,r;let i;return i=Kx(e[0])?e[0]:Kx(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class nT{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new $x(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Hk(this._delegate,e._delegate)}}class rT extends nT{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Sh(),t}}class iT{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Qx(e)}where(e,t,n){try{return new iT(this.firestore,Ik(this._delegate,xk(e,t,n)))}catch(xL){throw Zx(xL,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new iT(this.firestore,Ik(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=wk("orderBy",e);return Ck._create(n,t)}(e,t)))}catch(xL){throw Zx(xL,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new iT(this.firestore,Ik(this._delegate,(bE("limit",t=e),Nk._create("limit",t,"F"))))}catch(t){throw Zx(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new iT(this.firestore,Ik(this._delegate,(bE("limitToLast",t=e),Nk._create("limitToLast",t,"L"))))}catch(t){throw Zx(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new iT(this.firestore,Ik(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ak._create("startAt",t,!0)}(...arguments)))}catch(xL){throw Zx(xL,"startAt()","Query.startAt()")}}startAfter(){try{return new iT(this.firestore,Ik(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ak._create("startAfter",t,!1)}(...arguments)))}catch(xL){throw Zx(xL,"startAfter()","Query.startAfter()")}}endBefore(){try{return new iT(this.firestore,Ik(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Rk._create("endBefore",t,!1)}(...arguments)))}catch(xL){throw Zx(xL,"endBefore()","Query.endBefore()")}}endAt(){try{return new iT(this.firestore,Ik(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Rk._create("endAt",t,!0)}(...arguments)))}catch(xL){throw Zx(xL,"endAt()","Query.endAt()")}}isEqual(e){return NE(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Yk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=yE(e,kE);const t=yE(e.firestore,OE),n=DE(t),r=new Wk(t);return cE(n,e._query,{source:"server"}).then((n=>new Bk(t,r,e,n)))}(this._delegate):Qk(this._delegate),t.then((e=>new aT(this.firestore,new Bk(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=eT(t),i=tT(t,(e=>new aT(this.firestore,new Bk(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return eI(this._delegate,r,i)}withConverter(e){return new iT(this.firestore,e?this._delegate.withConverter(Jx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class sT{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new rT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class aT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new iT(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new rT(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new sT(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new rT(this._firestore,n))}))}isEqual(e){return Hk(this._delegate,e._delegate)}}class oT extends iT{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $x(this.firestore,e):null}doc(e){try{return new $x(this.firestore,void 0===e?TE(this._delegate):TE(this._delegate,e))}catch(xL){throw Zx(xL,"doc()","CollectionReference.doc()")}}add(e){return Zk(this._delegate,e).then((e=>new $x(this.firestore,e)))}isEqual(e){return CE(this._delegate,e._delegate)}withConverter(e){return new oT(this.firestore,e?this._delegate.withConverter(Jx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function lT(e){return yE(e,IE)}class cT{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new qE(...t)}static documentId(){return new cT(Yh.keyField().canonicalString())}isEqual(e){return(e=yn(e))instanceof qE&&this._delegate._internalPath.isEqual(e._internalPath)}}class uT{constructor(e){this._delegate=e}static serverTimestamp(){const e=lI();return e._methodName="FieldValue.serverTimestamp",new uT(e)}static delete(){const e=new ek("deleteField");return e._methodName="FieldValue.delete",new uT(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rk("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new uT(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ik("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new uT(e)}static increment(e){const t=new sk("increment",e);return t._methodName="FieldValue.increment",new uT(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const dT={Firestore:Gx,GeoPoint:KE,Timestamp:Hh,Blob:Hx,Transaction:Yx,WriteBatch:Xx,DocumentReference:$x,DocumentSnapshot:nT,Query:iT,QueryDocumentSnapshot:rT,QuerySnapshot:aT,CollectionReference:oT,FieldPath:cT,FieldValue:uT,setLogLevel:function(e){var t;t=e,bh.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new bn("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},dT)))}(e,((e,t)=>new Gx(e,t,new Wx))),e.registerVersion("@firebase/firestore-compat","0.3.25")}($S);class hT{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class fT{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new hT(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new hT(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new hT(e,this,this._ref)):{next:t.next?e=>t.next(new hT(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class pT{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new mT(e,this._service)))}get items(){return this._delegate.items.map((e=>new mT(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class mT{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return DS(e,t)}(this._delegate,e);return new mT(t,this.storage)}get root(){return new mT(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new mT(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new fT(BS(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jI.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=VI(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new fT(new xS(this._delegate,new HI(r.data,!0),i),this)}listAll(){return function(e){return CS(e=yn(e))}(this._delegate).then((e=>new pT(e,this.storage)))}list(e){return function(e,t){return AS(e=yn(e),t)}(this._delegate,e||void 0).then((e=>new pT(e,this.storage)))}getMetadata(){return qS(this._delegate)}updateMetadata(e){return function(e,t){return RS(e=yn(e),t)}(this._delegate,e)}getDownloadURL(){return HS(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return OS(e=yn(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw _I(e)}}class gT{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(vT(e))throw bI("ref() expected a child path but got a URL, use refFromURL instead.");return new mT(KS(this._delegate,e),this)}refFromURL(e){if(!vT(e))throw bI("refFromURL() expected a full URL but got a child path, use ref() instead.");try{II.makeFromUrl(e,this._delegate.host)}catch(xL){throw bI("refFromUrl() expected a valid full URL but got an invalid one.")}return new mT(KS(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};WS(this._delegate,e,t,n)}}function vT(e){return/^[A-Za-z]+:\/\//.test(e)}function yT(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new gT(r,i)}!function(e){const t={TaskState:yS,TaskEvent:vS,StringFormat:jI,Storage:gT,Reference:mT};e.INTERNAL.registerComponent(new bn("storage-compat",yT,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.4")}($S);const bT=ur({apiKey:"AIzaSyDLHwvXSPZmINzCgJPYeZp77pwQx8HT6Nc",authDomain:"my-dropbox-36ff2.firebaseapp.com",projectId:"my-dropbox-36ff2",storageBucket:"my-dropbox-36ff2.appspot.com",messagingSenderId:"939769754858",appId:"1:939769754858:web:8e4179407bd89e78d85393"}),wT=function(e,t){const n="string"==typeof e?e:t||"(default)",r=ir("object"==typeof e?e:dr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Gt("firestore");e&&EE(r,...e)}return r}(),_T={folders:xE(wT,"folders"),files:xE(wT,"files"),formatDoc:e=>({id:e.id,...e.data()}),getCurrentTimestamp:lI},ET=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr(),t=arguments.length>1?arguments[1]:void 0;e=yn(e);const n=ir(e,zS).getImmediate({identifier:t}),r=Gt("storage");return r&&WS(n,...r),n}(),kT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr();const t=ir(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=ir(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(un(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;qr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:zo,persistence:[Da,va,ba]}),r=Yt("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Qo)return;const r=null===t||void 0===t?void 0:t.token;Yo!==r&&(Yo=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){yn(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){yn(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=Wt("auth");return s&&ts(n,"http://".concat(s)),n}(bT),IT=t.createContext();function ST(){return(0,t.useContext)(IT)}function xT(e){let{children:n}=e;const[r,i]=(0,t.useState)(),[s,a]=(0,t.useState)(!0);(0,t.useEffect)((()=>{const e=function(e,t,n,r){return yn(e).onAuthStateChanged(t,n,r)}(kT,(e=>{i(e),a(!1)}));return e}),[]);const o={currentUser:r,login:function(e,t){return Js(kT,e,t)},signup:function(e,t){return Xs(kT,e,t)},logout:function(){return function(e){return yn(e).signOut()}(kT)},resetPassword:function(e){return Gs(kT,e)},updateEmail:function(e){return r.updateEmail(e)},updatePassword:function(e){return r.updatePassword(e)}};return(0,l.jsx)(IT.Provider,{value:o,children:!s&&n})}function TT(){return TT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TT.apply(this,arguments)}var CT;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(CT||(CT={}));const NT="popstate";function AT(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function RT(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(xL){}}}function PT(e,t){return{usr:e.state,key:e.key,idx:t}}function OT(e,t,n,r){return void 0===n&&(n=null),TT({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?LT(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function DT(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function LT(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function MT(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=CT.Pop,l=null,c=u();function u(){return(a.state||{idx:null}).idx}function d(){o=CT.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:DT(e);return AT(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,a.replaceState(TT({},a.state,{idx:c}),""));let f={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(NT,d),l=e,()=>{i.removeEventListener(NT,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=CT.Push;let r=OT(f.location,e,t);n&&n(r,e),c=u()+1;let d=PT(r,c),h=f.createHref(r);try{a.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}s&&l&&l({action:o,location:f.location,delta:1})},replace:function(e,t){o=CT.Replace;let r=OT(f.location,e,t);n&&n(r,e),c=u();let i=PT(r,c),d=f.createHref(r);a.replaceState(i,"",d),s&&l&&l({action:o,location:f.location,delta:0})},go:e=>a.go(e)};return f}var FT;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(FT||(FT={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function jT(e,t,n){void 0===n&&(n="/");let r=$T(("string"===typeof t?LT(t):t).pathname||"/",n);if(null==r)return null;let i=UT(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a)s=YT(i[a],JT(r));return s}function UT(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(AT(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=rC([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(AT(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),UT(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:QT(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of VT(e.path))i(e,t,r);else i(e,t)})),t}function VT(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=VT(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const zT=/^:[\w-]+$/,BT=3,qT=2,HT=1,KT=10,WT=-2,GT=e=>"*"===e;function QT(e,t){let n=e.split("/"),r=n.length;return n.some(GT)&&(r+=WT),t&&(r+=qT),n.filter((e=>!GT(e))).reduce(((e,t)=>e+(zT.test(t)?BT:""===t?HT:KT)),r)}function YT(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=XT({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:rC([i,c.pathname]),pathnameBase:iC(rC([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=rC([i,c.pathnameBase]))}return s}function XT(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);RT("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return RT(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function JT(e){try{return decodeURI(e)}catch(t){return RT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function $T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ZT(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function eC(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function tC(e,t){let n=eC(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function nC(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=LT(e):(i=TT({},e),AT(!i.pathname||!i.pathname.includes("?"),ZT("?","pathname","search",i)),AT(!i.pathname||!i.pathname.includes("#"),ZT("#","pathname","hash",i)),AT(!i.search||!i.search.includes("#"),ZT("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?LT(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:sC(r),hash:aC(i)}}(i,s),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const rC=e=>e.join("/").replace(/\/\/+/g,"/"),iC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sC=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",aC=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function oC(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const lC=["post","put","patch","delete"],cC=(new Set(lC),["get",...lC]);new Set(cC),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function uC(){return uC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uC.apply(this,arguments)}const dC=t.createContext(null);const hC=t.createContext(null);const fC=t.createContext(null);const pC=t.createContext(null);const mC=t.createContext({outlet:null,matches:[],isDataRoute:!1});const gC=t.createContext(null);function vC(){return null!=t.useContext(pC)}function yC(){return vC()||AT(!1),t.useContext(pC).location}function bC(e){t.useContext(fC).static||t.useLayoutEffect(e)}function wC(){let{isDataRoute:e}=t.useContext(mC);return e?function(){let{router:e}=AC(CC.UseNavigateStable),n=PC(NC.UseNavigateStable),r=t.useRef(!1);bC((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,uC({fromRouteId:n},i)))}),[e,n]);return i}():function(){vC()||AT(!1);let e=t.useContext(dC),{basename:n,future:r,navigator:i}=t.useContext(fC),{matches:s}=t.useContext(mC),{pathname:a}=yC(),o=JSON.stringify(tC(s,r.v7_relativeSplatPath)),l=t.useRef(!1);bC((()=>{l.current=!0}));let c=t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let s=nC(t,JSON.parse(o),a,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:rC([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,o,a,e]);return c}()}function _C(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(fC),{matches:s}=t.useContext(mC),{pathname:a}=yC(),o=JSON.stringify(tC(s,i.v7_relativeSplatPath));return t.useMemo((()=>nC(e,JSON.parse(o),a,"path"===r)),[e,o,a,r])}function EC(e,n,r,i){vC()||AT(!1);let{navigator:s}=t.useContext(fC),{matches:a}=t.useContext(mC),o=a[a.length-1],l=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,d=yC();if(n){var h;let e="string"===typeof n?LT(n):n;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||AT(!1),u=e}else u=d;let f=u.pathname||"/",p=jT(e,{pathname:"/"===c?f:f.slice(c.length)||"/"});let m=TC(p&&p.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:rC([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:rC([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,i);return n&&m?t.createElement(pC.Provider,{value:{location:uC({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:CT.Pop}},m):m}function kC(){let e=function(){var e;let n=t.useContext(gC),r=RC(NC.UseRouteError),i=PC(NC.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=oC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const IC=t.createElement(kC,null);class SC extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(mC.Provider,{value:this.props.routeContext},t.createElement(gC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xC(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(dC);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(mC.Provider,{value:n},i)}function TC(e,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}let o=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||AT(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,i,s)=>{let a,d=!1,h=null,f=null;var p;r&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||IC,c&&(u<0&&0===s?(p="route-fallback",!1||OC[p]||(OC[p]=!0),d=!0,f=null):u===s&&(d=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(o.slice(0,s+1)),g=()=>{let n;return n=a?h:d?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(xC,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(SC,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var CC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(CC||{}),NC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(NC||{});function AC(e){let n=t.useContext(dC);return n||AT(!1),n}function RC(e){let n=t.useContext(hC);return n||AT(!1),n}function PC(e){let n=function(e){let n=t.useContext(mC);return n||AT(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||AT(!1),r.route.id}const OC={};r.startTransition;function DC(e){let{to:n,replace:r,state:i,relative:s}=e;vC()||AT(!1);let{future:a,static:o}=t.useContext(fC),{matches:l}=t.useContext(mC),{pathname:c}=yC(),u=wC(),d=nC(n,tC(l,a.v7_relativeSplatPath),c,"path"===s),h=JSON.stringify(d);return t.useEffect((()=>u(JSON.parse(h),{replace:r,state:i,relative:s})),[u,h,s,r,i]),null}function LC(e){AT(!1)}function MC(e){let{basename:n="/",children:r=null,location:i,navigationType:s=CT.Pop,navigator:a,static:o=!1,future:l}=e;vC()&&AT(!1);let c=n.replace(/^\/*/,"/"),u=t.useMemo((()=>({basename:c,navigator:a,static:o,future:uC({v7_relativeSplatPath:!1},l)})),[c,l,a,o]);"string"===typeof i&&(i=LT(i));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=i,g=t.useMemo((()=>{let e=$T(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:s}}),[c,d,h,f,p,m,s]);return null==g?null:t.createElement(fC.Provider,{value:u},t.createElement(pC.Provider,{children:r,value:g}))}function FC(e){let{children:t,location:n}=e;return EC(jC(t),n)}new Promise((()=>{}));t.Component;function jC(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,jC(e.props.children,s));e.type!==LC&&AT(!1),e.props.index&&e.props.children&&AT(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=jC(e.props.children,s)),r.push(a)})),r}function UC(){return UC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UC.apply(this,arguments)}function VC(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const zC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(xL){}new Map;const BC=r.startTransition;s.flushSync,r.useId;function qC(e){let{basename:n,children:r,future:i,window:s}=e,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),MT((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return OT("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:DT(t)}),null,e)}({window:s,v5Compat:!0}));let o=a.current,[l,c]=t.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},d=t.useCallback((e=>{u&&BC?BC((()=>c(e))):c(e)}),[c,u]);return t.useLayoutEffect((()=>o.listen(d)),[o,d]),t.createElement(MC,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o,future:i})}const HC="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,KC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WC=t.forwardRef((function(e,n){let r,{onClick:i,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=VC(e,zC),{basename:p}=t.useContext(fC),m=!1;if("string"===typeof u&&KC.test(u)&&(r=u,HC))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=$T(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(xL){}let g=function(e,n){let{relative:r}=void 0===n?{}:n;vC()||AT(!1);let{basename:i,navigator:s}=t.useContext(fC),{hash:a,pathname:o,search:l}=_C(e,{relative:r}),c=o;return"/"!==i&&(c="/"===o?i:rC([i,o])),s.createHref({pathname:c,search:l,hash:a})}(u,{relative:s}),v=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l}=void 0===n?{}:n,c=wC(),u=yC(),d=_C(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:DT(u)===DT(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l})}}),[u,c,d,i,s,r,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:h});return t.createElement("a",UC({},f,{href:r||g,onClick:m||a?i:function(e){i&&i(e),e.defaultPrevented||v(e)},ref:n,target:c}))}));var GC,QC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(GC||(GC={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(QC||(QC={}));const YC=t.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:i="div",className:s,...a}=e;const c=p(n,"container"),u="string"===typeof r?"-".concat(r):"-fluid";return(0,l.jsx)(i,{ref:t,...a,className:o()(s,r?"".concat(c).concat(u):c)})}));YC.displayName="Container";const XC=YC;function JC(e){let{children:t}=e;return(0,l.jsx)(XC,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:(0,l.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:t})})}function $C(){const e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),{signup:i}=ST(),[s,a]=(0,t.useState)(""),[o,c]=(0,t.useState)(!1),u=wC();return(0,l.jsxs)(JC,{children:[(0,l.jsx)(U,{children:(0,l.jsxs)(U.Body,{children:[(0,l.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),s&&(0,l.jsx)(et,{variant:"danger",children:s}),(0,l.jsxs)(Lt,{onSubmit:async function(t){if(t.preventDefault(),n.current.value!==r.current.value)return a("Passwords do not match");try{a(""),c(!0),await i(e.current.value,n.current.value),u("/")}catch{a("Failed to create an account")}c(!1)},children:[(0,l.jsxs)(Lt.Group,{id:"email",children:[(0,l.jsx)(Lt.Label,{children:"Email"}),(0,l.jsx)(Lt.Control,{type:"email",ref:e,required:!0})]}),(0,l.jsxs)(Lt.Group,{id:"password",children:[(0,l.jsx)(Lt.Label,{children:"Password"}),(0,l.jsx)(Lt.Control,{type:"password",ref:n,required:!0})]}),(0,l.jsxs)(Lt.Group,{id:"password-confirm",children:[(0,l.jsx)(Lt.Label,{children:"Password Confirmation"}),(0,l.jsx)(Lt.Control,{type:"password",ref:r,required:!0})]}),(0,l.jsx)(Ft,{disabled:o,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),(0,l.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",(0,l.jsx)(WC,{to:"/login",children:"Log In"})]})]})}function ZC(){const[e,n]=(0,t.useState)(""),{currentUser:r,logout:i}=ST(),s=wC();return(0,l.jsxs)(JC,{children:[(0,l.jsx)(U,{children:(0,l.jsxs)(U.Body,{children:[(0,l.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),e&&(0,l.jsx)(et,{variant:"danger",children:e}),(0,l.jsx)("strong",{children:"Email:"})," ",r.email,(0,l.jsx)(WC,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})}),(0,l.jsx)("div",{className:"w-100 text-center mt-2",children:(0,l.jsx)(Ft,{variant:"link",onClick:async function(){n("");try{await i(),s("/login")}catch{n("Failed to log out")}},children:"Log Out"})})]})}function eN(){const e=(0,t.useRef)(),n=(0,t.useRef)(),{login:r}=ST(),[i,s]=(0,t.useState)(""),[a,o]=(0,t.useState)(!1),c=wC();return(0,l.jsxs)(JC,{children:[(0,l.jsx)(U,{children:(0,l.jsxs)(U.Body,{children:[(0,l.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),i&&(0,l.jsx)(et,{variant:"danger",children:i}),(0,l.jsxs)(Lt,{onSubmit:async function(t){t.preventDefault();try{s(""),o(!0),await r(e.current.value,n.current.value),c("/")}catch{s("Failed to log in")}o(!1)},children:[(0,l.jsxs)(Lt.Group,{id:"email",children:[(0,l.jsx)(Lt.Label,{children:"Email"}),(0,l.jsx)(Lt.Control,{type:"email",ref:e,required:!0})]}),(0,l.jsxs)(Lt.Group,{id:"password",children:[(0,l.jsx)(Lt.Label,{children:"Password"}),(0,l.jsx)(Lt.Control,{type:"password",ref:n,required:!0})]}),(0,l.jsx)(Ft,{disabled:a,className:"w-100",type:"submit",children:"Log In"})]}),(0,l.jsx)("div",{className:"w-100 text-center mt-3",children:(0,l.jsx)(WC,{to:"/forgot-password",children:"Forgot Password?"})})]})}),(0,l.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",(0,l.jsx)(WC,{to:"/signup",children:"Sign Up"})]})]})}function tN(e){let{children:t}=e;const{currentUser:n}=ST();return n?t:(0,l.jsx)(DC,{to:"/login",replace:!0})}function nN(){const e=(0,t.useRef)(),{resetPassword:n}=ST(),[r,i]=(0,t.useState)(""),[s,a]=(0,t.useState)(""),[o,c]=(0,t.useState)(!1);return(0,l.jsxs)(JC,{children:[(0,l.jsx)(U,{children:(0,l.jsxs)(U.Body,{children:[(0,l.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),r&&(0,l.jsx)(et,{variant:"danger",children:r}),s&&(0,l.jsx)(et,{variant:"success",children:s}),(0,l.jsxs)(Lt,{onSubmit:async function(t){t.preventDefault();try{a(""),i(""),c(!0),await n(e.current.value),a("Check your inbox for further instructions")}catch{i("Failed to reset password")}c(!1)},children:[(0,l.jsxs)(Lt.Group,{id:"email",children:[(0,l.jsx)(Lt.Label,{children:"Email"}),(0,l.jsx)(Lt.Control,{type:"email",ref:e,required:!0})]}),(0,l.jsx)(Ft,{disabled:o,className:"w-100",type:"submit",children:"Reset Password"})]}),(0,l.jsx)("div",{className:"w-100 text-center mt-3",children:(0,l.jsx)(WC,{to:"/login",children:"Login"})})]})}),(0,l.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",(0,l.jsx)(WC,{to:"/signup",children:"Sign Up"})]})]})}function rN(){const e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),{currentUser:i,updatePassword:s,updateEmail:a}=ST(),[o,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),h=wC();return(0,l.jsxs)(JC,{children:[(0,l.jsx)(U,{children:(0,l.jsxs)(U.Body,{children:[(0,l.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),o&&(0,l.jsx)(et,{variant:"danger",children:o}),(0,l.jsxs)(Lt,{onSubmit:function(t){if(t.preventDefault(),n.current.value!==r.current.value)return c("Passwords do not match");const o=[];d(!0),c(""),e.current.value!==i.email&&o.push(a(e.current.value)),n.current.value&&o.push(s(n.current.value)),Promise.all(o).then((()=>{h("/")})).catch((()=>{c("Failed to update account")})).finally((()=>{d(!1)}))},children:[(0,l.jsxs)(Lt.Group,{id:"email",children:[(0,l.jsx)(Lt.Label,{children:"Email"}),(0,l.jsx)(Lt.Control,{type:"email",ref:e,required:!0,defaultValue:i.email})]}),(0,l.jsxs)(Lt.Group,{id:"password",children:[(0,l.jsx)(Lt.Label,{children:"Password"}),(0,l.jsx)(Lt.Control,{type:"password",ref:n,placeholder:"Leave blank to keep the same"})]}),(0,l.jsxs)(Lt.Group,{id:"password-confirm",children:[(0,l.jsx)(Lt.Label,{children:"Password Confirmation"}),(0,l.jsx)(Lt.Control,{type:"password",ref:r,placeholder:"Leave blank to keep the same"})]}),(0,l.jsx)(Ft,{disabled:u,className:"w-100",type:"submit",children:"Update"})]})]})}),(0,l.jsx)("div",{className:"w-100 text-center mt-2",children:(0,l.jsx)(WC,{to:"/user",children:"Cancel"})})]})}const iN={SELECT_FOLDER:"select-folder",UPDATE_FOLDER:"update-folder",SET_CHILD_FOLDERS:"set-child-folders",SET_CHILD_FILES:"set-child-files"},sN={name:"Root",id:null,path:[]};function aN(e,t){let{type:n,payload:r}=t;switch(n){case iN.SELECT_FOLDER:return{folderId:r.folderId,folder:r.folder,childFiles:[],childFolders:[]};case iN.UPDATE_FOLDER:return{...e,folder:r.folder};case iN.SET_CHILD_FOLDERS:return{...e,childFolders:r.childFolders};case iN.SET_CHILD_FILES:return{...e,childFiles:r.childFiles};default:return e}}var oN;function lN(e){if((!oN&&0!==oN||e)&&Ne){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),oN=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return oN}function cN(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}function uN(e){void 0===e&&(e=Ee());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(xL){return e.body}}function dN(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}const hN="data-rr-ui-";function fN(e){return"".concat(hN).concat(e)}const pN=fN("modal-open");const mN=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(Ce(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(pN,""),Ce(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(pN),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},gN=(0,t.createContext)(Ne?window:void 0);gN.Provider;function vN(){return(0,t.useContext)(gN)}const yN=(e,t)=>Ne?null==e?(t||Ee()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const bN=function(e){let{children:n,in:r,onExited:i,mountOnEnter:s,unmountOnExit:a}=e;const o=(0,t.useRef)(null),l=(0,t.useRef)(r),c=Y(i);(0,t.useEffect)((()=>{r?l.current=!0:c(o.current)}),[r,c]);const u=Be(o,n.ref),d=(0,t.cloneElement)(n,{ref:u});return r?d:a||!l.current&&s?null:d};function wN(e){let{children:n,in:r,onExited:i,onEntered:s,transition:a}=e;const[o,l]=(0,t.useState)(!r);r&&o&&l(!1);const c=function(e){let{in:n,onTransition:r}=e;const i=(0,t.useRef)(null),s=(0,t.useRef)(!0),a=Y(r);return te((()=>{if(!i.current)return;let e=!1;return a({in:n,element:i.current,initial:s.current,isStale:()=>e}),()=>{e=!0}}),[n,a]),te((()=>(s.current=!1,()=>{s.current=!0})),[]),i}({in:!!r,onTransition:e=>{Promise.resolve(a(e)).then((()=>{e.isStale()||(e.in?null==s||s(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),u=Be(c,n.ref);return o&&!r?null:(0,t.cloneElement)(n,{ref:u})}function _N(e,t,n){return e?(0,l.jsx)(e,Object.assign({},n)):t?(0,l.jsx)(wN,Object.assign({},n,{transition:t})):(0,l.jsx)(bN,Object.assign({},n))}const EN=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let kN;function IN(e){const n=vN(),r=e||function(e){return kN||(kN=new mN({ownerDocument:null==e?void 0:e.document})),kN}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,t.useCallback)((e=>{i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{i.current.backdrop=e}),[])})}const SN=(0,t.forwardRef)(((e,n)=>{let{show:r=!1,role:s="dialog",className:a,style:o,children:c,backdrop:u=!0,keyboard:d=!0,onBackdropClick:h,onEscapeKeyDown:f,transition:p,runTransition:m,backdropTransition:g,runBackdropTransition:v,autoFocus:y=!0,enforceFocus:b=!0,restoreFocus:w=!0,restoreFocusOptions:_,renderDialog:E,renderBackdrop:k=(e=>(0,l.jsx)("div",Object.assign({},e))),manager:I,container:S,onShow:x,onHide:T=(()=>{}),onExit:C,onExited:N,onExiting:A,onEnter:R,onEntering:P,onEntered:O}=e,D=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,EN);const L=vN(),M=function(e,n){const r=vN(),[i,s]=(0,t.useState)((()=>yN(e,null==r?void 0:r.document)));if(!i){const t=yN(e);t&&s(t)}return(0,t.useEffect)((()=>{n&&i&&n(i)}),[n,i]),(0,t.useEffect)((()=>{const t=yN(e);t!==i&&s(t)}),[e,i]),i}(S),F=IN(I),j=Z(),U=function(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}(r),[V,z]=(0,t.useState)(!r),B=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>F),[F]),Ne&&!U&&r&&(B.current=uN(null==L?void 0:L.document)),r&&V&&z(!1);const q=Y((()=>{if(F.add(),X.current=Le(document,"keydown",G),Q.current=Le(document,"focus",(()=>setTimeout(K)),!0),x&&x(),y){var e,t;const n=uN(null!=(e=null==(t=F.dialog)?void 0:t.ownerDocument)?e:null==L?void 0:L.document);F.dialog&&n&&!dN(F.dialog,n)&&(B.current=n,F.dialog.focus())}})),H=Y((()=>{var e;(F.remove(),null==X.current||X.current(),null==Q.current||Q.current(),w)&&(null==(e=B.current)||null==e.focus||e.focus(_),B.current=null)}));(0,t.useEffect)((()=>{r&&M&&q()}),[r,M,q]),(0,t.useEffect)((()=>{V&&H()}),[V,H]),cN((()=>{H()}));const K=Y((()=>{if(!b||!j()||!F.isTopModal())return;const e=uN(null==L?void 0:L.document);F.dialog&&e&&!dN(F.dialog,e)&&F.dialog.focus()})),W=Y((e=>{e.target===e.currentTarget&&(null==h||h(e),!0===u&&T())})),G=Y((e=>{d&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&F.isTopModal()&&(null==f||f(e),e.defaultPrevented||T())})),Q=(0,t.useRef)(),X=(0,t.useRef)();if(!M)return null;const J=Object.assign({role:s,ref:F.setDialogRef,"aria-modal":"dialog"===s||void 0},D,{style:o,className:a,tabIndex:-1});let $=E?E(J):(0,l.jsx)("div",Object.assign({},J,{children:t.cloneElement(c,{role:"document"})}));$=_N(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:C,onExiting:A,onExited:function(){z(!0),null==N||N(...arguments)},onEnter:R,onEntering:P,onEntered:O,children:$});let ee=null;return u&&(ee=k({ref:F.setBackdropRef,onClick:W}),ee=_N(g,v,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ee})),(0,l.jsx)(l.Fragment,{children:i.createPortal((0,l.jsxs)(l.Fragment,{children:[ee,$]}),M)})}));SN.displayName="Modal";const xN=Object.assign(SN,{Manager:mN});var TN=Function.prototype.bind.call(Function.prototype.call,[].slice);function CN(e,t){return TN(e.querySelectorAll(t))}function NN(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const AN=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",RN=".sticky-top",PN=".navbar-toggler";class ON extends mN{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,Ce(t,{[e]:"".concat(parseFloat(Ce(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Ce(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";CN(t,AN).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth))),CN(t,RN).forEach((t=>this.adjustAndStore(s,t,-e.scrollBarWidth))),CN(t,PN).forEach((t=>this.adjustAndStore(s,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=NN(n.className,r):n.setAttribute("class",NN(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";CN(t,AN).forEach((e=>this.restore(i,e))),CN(t,RN).forEach((e=>this.restore(s,e))),CN(t,PN).forEach((e=>this.restore(s,e)))}}let DN;function LN(e){return DN||(DN=new ON(e)),DN}const MN=ON,FN=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=p(r,"modal-body"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));FN.displayName="ModalBody";const jN=FN,UN=t.createContext({onHide(){}}),VN=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:s,size:a,fullscreen:c,children:u,scrollable:d,...h}=e;n=p(n,"modal");const f="".concat(n,"-dialog"),m="string"===typeof c?"".concat(n,"-fullscreen-").concat(c):"".concat(n,"-fullscreen");return(0,l.jsx)("div",{...h,ref:t,className:o()(f,r,a&&"".concat(n,"-").concat(a),s&&"".concat(f,"-centered"),d&&"".concat(f,"-scrollable"),c&&m),children:(0,l.jsx)("div",{className:o()("".concat(n,"-content"),i),children:u})})}));VN.displayName="ModalDialog";const zN=VN,BN=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=p(r,"modal-footer"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));BN.displayName="ModalFooter";const qN=BN,HN=t.forwardRef(((e,n)=>{let{closeLabel:r="Close",closeVariant:i,closeButton:s=!1,onHide:a,children:o,...c}=e;const u=(0,t.useContext)(UN),d=Y((()=>{null==u||u.onHide(),null==a||a()}));return(0,l.jsxs)("div",{ref:n,...c,children:[o,s&&(0,l.jsx)($e,{"aria-label":r,variant:i,onClick:d})]})})),KN=HN,WN=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:s=!1,...a}=e;return n=p(n,"modal-header"),(0,l.jsx)(KN,{ref:t,...a,className:o()(r,n),closeLabel:i,closeButton:s})}));WN.displayName="ModalHeader";const GN=WN,QN=N("h4"),YN=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=QN,...s}=e;return r=p(r,"modal-title"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));YN.displayName="ModalTitle";const XN=YN;function JN(e){return(0,l.jsx)(Ge,{...e,timeout:null})}function $N(e){return(0,l.jsx)(Ge,{...e,timeout:null})}const ZN=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,style:s,dialogClassName:a,contentClassName:c,children:u,dialogAs:h=zN,"data-bs-theme":f,"aria-labelledby":m,"aria-describedby":g,"aria-label":v,show:y=!1,animation:b=!0,backdrop:w=!0,keyboard:_=!0,onEscapeKeyDown:E,onShow:k,onHide:I,container:S,autoFocus:x=!0,enforceFocus:T=!0,restoreFocus:C=!0,restoreFocusOptions:N,onEntered:A,onExit:R,onExiting:P,onEnter:O,onEntering:D,onExited:L,backdropClassName:M,manager:F,...j}=e;const[U,V]=(0,t.useState)({}),[z,B]=(0,t.useState)(!1),q=(0,t.useRef)(!1),H=(0,t.useRef)(!1),K=(0,t.useRef)(null),[W,G]=(0,t.useState)(null),Q=Be(n,G),X=Y(I),J=function(){const{dir:e}=(0,t.useContext)(d);return"rtl"===e}();r=p(r,"modal");const $=(0,t.useMemo)((()=>({onHide:X})),[X]);function Z(){return F||LN({isRTL:J})}function ee(e){if(!Ne)return;const t=Z().getScrollbarWidth()>0,n=e.scrollHeight>Ee(e).documentElement.clientHeight;V({paddingRight:t&&!n?lN():void 0,paddingLeft:!t&&n?lN():void 0})}const te=Y((()=>{W&&ee(W.dialog)}));cN((()=>{De(window,"resize",te),null==K.current||K.current()}));const ne=()=>{q.current=!0},re=e=>{q.current&&W&&e.target===W.dialog&&(H.current=!0),q.current=!1},ie=()=>{B(!0),K.current=Fe(W.dialog,(()=>{B(!1)}))},se=e=>{"static"!==w?H.current||e.target!==e.currentTarget?H.current=!1:null==I||I():(e=>{e.target===e.currentTarget&&ie()})(e)},ae=(0,t.useCallback)((e=>(0,l.jsx)("div",{...e,className:o()("".concat(r,"-backdrop"),M,!b&&"show")})),[b,M,r]),oe={...s,...U};oe.display="block";return(0,l.jsx)(UN.Provider,{value:$,children:(0,l.jsx)(xN,{show:y,ref:Q,backdrop:w,container:S,keyboard:!0,autoFocus:x,enforceFocus:T,restoreFocus:C,restoreFocusOptions:N,onEscapeKeyDown:e=>{_?null==E||E(e):(e.preventDefault(),"static"===w&&ie())},onShow:k,onHide:I,onEnter:(e,t)=>{e&&ee(e),null==O||O(e,t)},onEntering:(e,t)=>{null==D||D(e,t),Oe(window,"resize",te)},onEntered:A,onExit:e=>{null==K.current||K.current(),null==R||R(e)},onExiting:P,onExited:e=>{e&&(e.style.display=""),null==L||L(e),De(window,"resize",te)},manager:Z(),transition:b?JN:void 0,backdropTransition:b?$N:void 0,renderBackdrop:ae,renderDialog:e=>(0,l.jsx)("div",{role:"dialog",...e,style:oe,className:o()(i,r,z&&"".concat(r,"-static"),!b&&"show"),onClick:w?se:void 0,onMouseUp:re,"data-bs-theme":f,"aria-label":v,"aria-labelledby":m,"aria-describedby":g,children:(0,l.jsx)(h,{...j,onMouseDown:ne,className:a,contentClassName:c,children:u})})})})}));ZN.displayName="Modal";const eA=Object.assign(ZN,{Body:jN,Header:GN,Title:XN,Footer:qN,Dialog:zN,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tA(Object(n),!0).forEach((function(t){sA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rA(e){return rA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rA(e)}function iA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);a=!0);}catch(l){o=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(o)throw i}}return s}(e,t)||lA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oA(e){return function(e){if(Array.isArray(e))return cA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lA(e,t){if(e){if("string"===typeof e)return cA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cA(e,t):void 0}}function cA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uA=function(){},dA={},hA={},fA=null,pA={mark:uA,measure:uA};try{"undefined"!==typeof window&&(dA=window),"undefined"!==typeof document&&(hA=document),"undefined"!==typeof MutationObserver&&(fA=MutationObserver),"undefined"!==typeof performance&&(pA=performance)}catch(xL){}var mA,gA,vA,yA,bA,wA=(dA.navigator||{}).userAgent,_A=void 0===wA?"":wA,EA=dA,kA=hA,IA=fA,SA=pA,xA=(EA.document,!!kA.documentElement&&!!kA.head&&"function"===typeof kA.addEventListener&&"function"===typeof kA.createElement),TA=~_A.indexOf("MSIE")||~_A.indexOf("Trident/"),CA="___FONT_AWESOME___",NA=16,AA="fa",RA="svg-inline--fa",PA="data-fa-i2svg",OA="data-fa-pseudo-element",DA="data-fa-pseudo-element-pending",LA="data-prefix",MA="data-icon",FA="fontawesome-i2svg",jA="async",UA=["HTML","HEAD","STYLE","SCRIPT"],VA=function(){try{return!0}catch(xL){return!1}}(),zA="classic",BA="sharp",qA=[zA,BA];function HA(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[zA]}})}var KA=HA((sA(mA={},zA,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),sA(mA,BA,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),mA)),WA=HA((sA(gA={},zA,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),sA(gA,BA,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),gA)),GA=HA((sA(vA={},zA,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),sA(vA,BA,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),vA)),QA=HA((sA(yA={},zA,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),sA(yA,BA,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),yA)),YA=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,XA="fa-layers-text",JA=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,$A=HA((sA(bA={},zA,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),sA(bA,BA,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),bA)),ZA=[1,2,3,4,5,6,7,8,9,10],eR=ZA.concat([11,12,13,14,15,16,17,18,19,20]),tR=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],nR={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},rR=new Set;Object.keys(WA[zA]).map(rR.add.bind(rR)),Object.keys(WA[BA]).map(rR.add.bind(rR));var iR=[].concat(qA,oA(rR),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",nR.GROUP,nR.SWAP_OPACITY,nR.PRIMARY,nR.SECONDARY]).concat(ZA.map((function(e){return"".concat(e,"x")}))).concat(eR.map((function(e){return"w-".concat(e)}))),sR=EA.FontAwesomeConfig||{};if(kA&&"function"===typeof kA.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=aA(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=kA.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(sR[r]=i)}))}var aR={styleDefault:"solid",familyDefault:"classic",cssPrefix:AA,replacementClass:RA,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};sR.familyPrefix&&(sR.cssPrefix=sR.familyPrefix);var oR=nA(nA({},aR),sR);oR.autoReplaceSvg||(oR.observeMutations=!1);var lR={};Object.keys(aR).forEach((function(e){Object.defineProperty(lR,e,{enumerable:!0,set:function(t){oR[e]=t,cR.forEach((function(e){return e(lR)}))},get:function(){return oR[e]}})})),Object.defineProperty(lR,"familyPrefix",{enumerable:!0,set:function(e){oR.cssPrefix=e,cR.forEach((function(e){return e(lR)}))},get:function(){return oR.cssPrefix}}),EA.FontAwesomeConfig=lR;var cR=[];var uR=NA,dR={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var hR="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function fR(){for(var e=12,t="";e-- >0;)t+=hR[62*Math.random()|0];return t}function pR(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function mR(e){return e.classList?pR(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function gR(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function vR(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function yR(e){return e.size!==dR.size||e.x!==dR.x||e.y!==dR.y||e.rotate!==dR.rotate||e.flipX||e.flipY}var bR=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function wR(){var e=AA,t=RA,n=lR.cssPrefix,r=lR.replacementClass,i=bR;if(n!==e||r!==t){var s=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(o,".".concat(r))}return i}var _R=!1;function ER(){lR.autoAddCss&&!_R&&(!function(e){if(e&&xA){var t=kA.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=kA.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=s)}kA.head.insertBefore(t,r)}}(wR()),_R=!0)}var kR={mixout:function(){return{dom:{css:wR,insertCss:ER}}},hooks:function(){return{beforeDOMElementCreation:function(){ER()},beforeI2svg:function(){ER()}}}},IR=EA||{};IR[CA]||(IR[CA]={}),IR[CA].styles||(IR[CA].styles={}),IR[CA].hooks||(IR[CA].hooks={}),IR[CA].shims||(IR[CA].shims=[]);var SR=IR[CA],xR=[],TR=!1;function CR(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,s=void 0===i?[]:i;return"string"===typeof e?gR(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(gR(e[n]),'" ')}),"").trim()}(r),">").concat(s.map(CR).join(""),"</").concat(t,">")}function NR(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}xA&&((TR=(kA.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(kA.readyState))||kA.addEventListener("DOMContentLoaded",(function e(){kA.removeEventListener("DOMContentLoaded",e),TR=1,xR.map((function(e){return e()}))})));var AR=function(e,t,n,r){var i,s,a,o=Object.keys(e),l=o.length,c=void 0!==r?function(e,t){return function(n,r,i,s){return e.call(t,n,r,i,s)}}(t,r):t;for(void 0===n?(i=1,a=e[o[0]]):(i=0,a=n);i<l;i++)a=c(a,e[s=o[i]],s,e);return a};function RR(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=e.charCodeAt(n++);56320==(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function PR(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function OR(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=PR(t);"function"!==typeof SR.hooks.addPack||r?SR.styles[e]=nA(nA({},SR.styles[e]||{}),i):SR.hooks.addPack(e,PR(t)),"fas"===e&&OR("fa",t)}var DR,LR,MR,FR=SR.styles,jR=SR.shims,UR=(sA(DR={},zA,Object.values(GA[zA])),sA(DR,BA,Object.values(GA[BA])),DR),VR=null,zR={},BR={},qR={},HR={},KR={},WR=(sA(LR={},zA,Object.keys(KA[zA])),sA(LR,BA,Object.keys(KA[BA])),LR);function GR(e,t){var n,r=t.split("-"),i=r[0],s=r.slice(1).join("-");return i!==e||""===s||(n=s,~iR.indexOf(n))?null:s}var QR=function(){var e=function(e){return AR(FR,(function(t,n,r){return t[r]=AR(n,e,{}),t}),{})};zR=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),BR=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),KR=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in FR||lR.autoFetchSvg,n=AR(jR,(function(e,n){var r=n[0],i=n[1],s=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:s}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:s}),e}),{names:{},unicodes:{}});qR=n.names,HR=n.unicodes,VR=eP(lR.styleDefault,{family:lR.familyDefault})};function YR(e,t){return(zR[e]||{})[t]}function XR(e,t){return(KR[e]||{})[t]}function JR(e){return qR[e]||{prefix:null,iconName:null}}function $R(){return VR}!function(e){cR.push(e)}((function(e){VR=eP(e.styleDefault,{family:lR.familyDefault})})),QR();var ZR=function(){return{prefix:null,iconName:null,rest:[]}};function eP(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?zA:t,r=KA[n][e],i=WA[n][e]||WA[n][r],s=e in SR.styles?e:null;return i||s||null}var tP=(sA(MR={},zA,Object.keys(GA[zA])),sA(MR,BA,Object.keys(GA[BA])),MR);function nP(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==n&&n,i=(sA(t={},zA,"".concat(lR.cssPrefix,"-").concat(zA)),sA(t,BA,"".concat(lR.cssPrefix,"-").concat(BA)),t),s=null,a=zA;(e.includes(i[zA])||e.some((function(e){return tP[zA].includes(e)})))&&(a=zA),(e.includes(i[BA])||e.some((function(e){return tP[BA].includes(e)})))&&(a=BA);var o=e.reduce((function(e,t){var n=GR(lR.cssPrefix,t);if(FR[t]?(t=UR[a].includes(t)?QA[a][t]:t,s=t,e.prefix=t):WR[a].indexOf(t)>-1?(s=t,e.prefix=eP(t,{family:a})):n?e.iconName=n:t!==lR.replacementClass&&t!==i[zA]&&t!==i[BA]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var o="fa"===s?JR(e.iconName):{},l=XR(e.prefix,e.iconName);o.prefix&&(s=null),e.iconName=o.iconName||l||e.iconName,e.prefix=o.prefix||e.prefix,"far"!==e.prefix||FR.far||!FR.fas||lR.autoFetchSvg||(e.prefix="fas")}return e}),ZR());return(e.includes("fa-brands")||e.includes("fab"))&&(o.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(o.prefix="fad"),o.prefix||a!==BA||!FR.fass&&!lR.autoFetchSvg||(o.prefix="fass",o.iconName=XR(o.prefix,o.iconName)||o.iconName),"fa"!==o.prefix&&"fa"!==s||(o.prefix=$R()||"fas"),o}var rP=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=nA(nA({},e.definitions[t]||{}),i[t]),OR(t,i[t]);var n=GA[zA][t];n&&OR(n,i[t]),QR()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,s=r.iconName,a=r.icon,o=a[2];e[i]||(e[i]={}),o.length>0&&o.forEach((function(t){"string"===typeof t&&(e[i][t]=a)})),e[i][s]=a})),e}}],n&&iA(t.prototype,n),r&&iA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),iP=[],sP={},aP={},oP=Object.keys(aP);function lP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(sP[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function cP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(sP[e]||[]).forEach((function(e){e.apply(null,n)}))}function uP(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return aP[e]?aP[e].apply(null,t):void 0}function dP(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||$R();if(t)return t=XR(n,t)||t,NR(hP.definitions,n,t)||NR(SR.styles,n,t)}var hP=new rP,fP={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xA?(cP("beforeI2svg",e),uP("pseudoElements2svg",e),uP("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===lR.autoReplaceSvg&&(lR.autoReplaceSvg=!0),lR.observeMutations=!0,e=function(){gP({autoReplaceSvgRoot:n}),cP("watch",t)},xA&&(TR?setTimeout(e,0):xR.push(e))}},pP={icon:function(e){if(null===e)return null;if("object"===rA(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:XR(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=eP(e[0]);return{prefix:n,iconName:XR(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(lR.cssPrefix,"-"))>-1||e.match(YA))){var r=nP(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||$R(),iconName:XR(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=$R();return{prefix:i,iconName:XR(i,e)||e}}}},mP={noAuto:function(){lR.autoReplaceSvg=!1,lR.observeMutations=!1,cP("noAuto")},config:lR,dom:fP,parse:pP,library:hP,findIconDefinition:dP,toHtml:CR},gP=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?kA:e;(Object.keys(SR.styles).length>0||lR.autoFetchSvg)&&xA&&lR.autoReplaceSvg&&mP.dom.i2svg({node:t})};function vP(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return CR(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(xA){var t=kA.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function yP(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,s=e.iconName,a=e.transform,o=e.symbol,l=e.title,c=e.maskId,u=e.titleId,d=e.extra,h=e.watchable,f=void 0!==h&&h,p=r.found?r:n,m=p.width,g=p.height,v="fak"===i,y=[lR.replacementClass,s?"".concat(lR.cssPrefix,"-").concat(s):""].filter((function(e){return-1===d.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(d.classes).join(" "),b={children:[],attributes:nA(nA({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:y,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},w=v&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};f&&(b.attributes[PA]=""),l&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(u||fR())},children:[l]}),delete b.attributes.title);var _=nA(nA({},b),{},{prefix:i,iconName:s,main:n,mask:r,maskId:c,transform:a,symbol:o,styles:nA(nA({},w),d.styles)}),E=r.found&&n.found?uP("generateAbstractMask",_)||{children:[],attributes:{}}:uP("generateAbstractIcon",_)||{children:[],attributes:{}},k=E.children,I=E.attributes;return _.children=k,_.attributes=I,o?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,s=e.symbol,a=!0===s?"".concat(t,"-").concat(lR.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:nA(nA({},i),{},{id:a}),children:r}]}]}(_):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,s=e.styles,a=e.transform;if(yR(a)&&n.found&&!r.found){var o={x:n.width/n.height/2,y:.5};i.style=vR(nA(nA({},s),{},{"transform-origin":"".concat(o.x+a.x/16,"em ").concat(o.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(_)}function bP(e){var t=e.content,n=e.width,r=e.height,i=e.transform,s=e.title,a=e.extra,o=e.watchable,l=void 0!==o&&o,c=nA(nA(nA({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});l&&(c[PA]="");var u=nA({},a.styles);yR(i)&&(u.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?NA:n,i=e.height,s=void 0===i?NA:i,a=e.startCentered,o=void 0!==a&&a,l="";return l+=o&&TA?"translate(".concat(t.x/uR-r/2,"em, ").concat(t.y/uR-s/2,"em) "):o?"translate(calc(-50% + ".concat(t.x/uR,"em), calc(-50% + ").concat(t.y/uR,"em)) "):"translate(".concat(t.x/uR,"em, ").concat(t.y/uR,"em) "),l+="scale(".concat(t.size/uR*(t.flipX?-1:1),", ").concat(t.size/uR*(t.flipY?-1:1),") "),l+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=vR(u);d.length>0&&(c.style=d);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),s&&h.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),h}var wP=SR.styles;function _P(e){var t=e[0],n=e[1],r=aA(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(lR.cssPrefix,"-").concat(nR.GROUP)},children:[{tag:"path",attributes:{class:"".concat(lR.cssPrefix,"-").concat(nR.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(lR.cssPrefix,"-").concat(nR.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var EP={found:!1,width:512,height:512};function kP(e,t){var n=t;return"fa"===t&&null!==lR.styleDefault&&(t=$R()),new Promise((function(r,i){uP("missingIconAbstract");if("fa"===n){var s=JR(e)||{};e=s.iconName||e,t=s.prefix||t}if(e&&t&&wP[t]&&wP[t][e])return r(_P(wP[t][e]));!function(e,t){VA||lR.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(nA(nA({},EP),{},{icon:lR.showMissingIcons&&e&&uP("missingIconAbstract")||{}}))}))}var IP=function(){},SP=lR.measurePerformance&&SA&&SA.mark&&SA.measure?SA:{mark:IP,measure:IP},xP='FA "6.5.1"',TP=function(e){SP.mark("".concat(xP," ").concat(e," ends")),SP.measure("".concat(xP," ").concat(e),"".concat(xP," ").concat(e," begins"),"".concat(xP," ").concat(e," ends"))},CP={begin:function(e){return SP.mark("".concat(xP," ").concat(e," begins")),function(){return TP(e)}},end:TP},NP=function(){};function AP(e){return"string"===typeof(e.getAttribute?e.getAttribute(PA):null)}function RP(e){return kA.createElementNS("http://www.w3.org/2000/svg",e)}function PP(e){return kA.createElement(e)}function OP(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?RP:PP:t;if("string"===typeof e)return kA.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(OP(e,{ceFn:n}))})),r}var DP={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(OP(e),t)})),null===t.getAttribute(PA)&&lR.keepOriginalSource){var n=kA.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~mR(t).indexOf(lR.replacementClass))return DP.replace(e);var r=new RegExp("".concat(lR.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===lR.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var s=n.map((function(e){return CR(e)})).join("\n");t.setAttribute(PA,""),t.innerHTML=s}};function LP(e){e()}function MP(e,t){var n="function"===typeof t?t:NP;if(0===e.length)n();else{var r=LP;lR.mutateApproach===jA&&(r=EA.requestAnimationFrame||LP),r((function(){var t=!0===lR.autoReplaceSvg?DP.replace:DP[lR.autoReplaceSvg]||DP.replace,r=CP.begin("mutate");e.map(t),r(),n()}))}}var FP=!1;function jP(){FP=!0}function UP(){FP=!1}var VP=null;function zP(e){if(IA&&lR.observeMutations){var t=e.treeCallback,n=void 0===t?NP:t,r=e.nodeCallback,i=void 0===r?NP:r,s=e.pseudoElementsCallback,a=void 0===s?NP:s,o=e.observeMutationsRoot,l=void 0===o?kA:o;VP=new IA((function(e){if(!FP){var t=$R();pR(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!AP(e.addedNodes[0])&&(lR.searchPseudoElements&&a(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&lR.searchPseudoElements&&a(e.target.parentNode),"attributes"===e.type&&AP(e.target)&&~tR.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(LA):null,n=e.getAttribute?e.getAttribute(MA):null;return t&&n}(e.target)){var r=nP(mR(e.target)),s=r.prefix,o=r.iconName;e.target.setAttribute(LA,s||t),o&&e.target.setAttribute(MA,o)}else(l=e.target)&&l.classList&&l.classList.contains&&l.classList.contains(lR.replacementClass)&&i(e.target);var l}))}})),xA&&VP.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function BP(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=nP(mR(e));return i.prefix||(i.prefix=$R()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(BR[e]||{})[t]}(i.prefix,e.innerText)||YR(i.prefix,RR(e.innerText))),!i.iconName&&lR.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function qP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=BP(e),r=n.iconName,i=n.prefix,s=n.rest,a=function(e){var t=pR(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return lR.autoA11y&&(n?t["aria-labelledby"]="".concat(lR.replacementClass,"-title-").concat(r||fR()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),o=lP("parseNodeAttributes",{},e),l=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return nA({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:dR,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:a}},o)}var HP=SR.styles;function KP(e){var t="nest"===lR.autoReplaceSvg?qP(e,{styleParser:!1}):qP(e);return~t.extra.classes.indexOf(XA)?uP("generateLayersText",e,t):uP("generateSvgReplacementMutation",e,t)}var WP=new Set;function GP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!xA)return Promise.resolve();var n=kA.documentElement.classList,r=function(e){return n.add("".concat(FA,"-").concat(e))},i=function(e){return n.remove("".concat(FA,"-").concat(e))},s=lR.autoFetchSvg?WP:qA.map((function(e){return"fa-".concat(e)})).concat(Object.keys(HP));s.includes("fa")||s.push("fa");var a=[".".concat(XA,":not([").concat(PA,"])")].concat(s.map((function(e){return".".concat(e,":not([").concat(PA,"])")}))).join(", ");if(0===a.length)return Promise.resolve();var o=[];try{o=pR(e.querySelectorAll(a))}catch(xL){}if(!(o.length>0))return Promise.resolve();r("pending"),i("complete");var l=CP.begin("onTree"),c=o.reduce((function(e,t){try{var n=KP(t);n&&e.push(n)}catch(xL){VA||"MissingIcon"===xL.name&&console.error(xL)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){MP(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),l(),e()}))})).catch((function(e){l(),n(e)}))}))}function QP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;KP(e).then((function(e){e&&MP([e],t)}))}qA.map((function(e){WP.add("fa-".concat(e))})),Object.keys(KA[zA]).map(WP.add.bind(WP)),Object.keys(KA[BA]).map(WP.add.bind(WP)),WP=oA(WP);var YP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?dR:n,i=t.symbol,s=void 0!==i&&i,a=t.mask,o=void 0===a?null:a,l=t.maskId,c=void 0===l?null:l,u=t.title,d=void 0===u?null:u,h=t.titleId,f=void 0===h?null:h,p=t.classes,m=void 0===p?[]:p,g=t.attributes,v=void 0===g?{}:g,y=t.styles,b=void 0===y?{}:y;if(e){var w=e.prefix,_=e.iconName,E=e.icon;return vP(nA({type:"icon"},e),(function(){return cP("beforeDOMElementCreation",{iconDefinition:e,params:t}),lR.autoA11y&&(d?v["aria-labelledby"]="".concat(lR.replacementClass,"-title-").concat(f||fR()):(v["aria-hidden"]="true",v.focusable="false")),yP({icons:{main:_P(E),mask:o?_P(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:_,transform:nA(nA({},dR),r),symbol:s,title:d,maskId:c,titleId:f,extra:{attributes:v,styles:b,classes:m}})}))}},XP={mixout:function(){return{icon:(e=YP,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:dP(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:dP(i||{})),e(r,nA(nA({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=GP,e.nodeCallback=QP,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?kA:t,r=e.callback;return GP(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,s=t.prefix,a=t.transform,o=t.symbol,l=t.mask,c=t.maskId,u=t.extra;return new Promise((function(t,d){Promise.all([kP(n,s),l.iconName?kP(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(l){var d=aA(l,2),h=d[0],f=d[1];t([e,yP({icons:{main:h,mask:f},prefix:s,iconName:n,transform:a,symbol:o,maskId:c,title:r,titleId:i,extra:u,watchable:!0})])})).catch(d)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,s=e.transform,a=vR(e.styles);return a.length>0&&(r.style=a),yR(s)&&(t=uP("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},JP={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return vP({type:"layer"},(function(){cP("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(lR.cssPrefix,"-layers")].concat(oA(r)).join(" ")},children:n}]}))}}}},$P={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,s=void 0===i?[]:i,a=t.attributes,o=void 0===a?{}:a,l=t.styles,c=void 0===l?{}:l;return vP({type:"counter",content:e},(function(){return cP("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,i=nA(nA(nA({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=vR(r.styles);s.length>0&&(i.style=s);var a=[];return a.push({tag:"span",attributes:i,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:e.toString(),title:r,extra:{attributes:o,styles:c,classes:["".concat(lR.cssPrefix,"-layers-counter")].concat(oA(s))}})}))}}}},ZP={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?dR:n,i=t.title,s=void 0===i?null:i,a=t.classes,o=void 0===a?[]:a,l=t.attributes,c=void 0===l?{}:l,u=t.styles,d=void 0===u?{}:u;return vP({type:"text",content:e},(function(){return cP("beforeDOMElementCreation",{content:e,params:t}),bP({content:e,transform:nA(nA({},dR),r),title:s,extra:{attributes:c,styles:d,classes:["".concat(lR.cssPrefix,"-layers-text")].concat(oA(o))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,s=null,a=null;if(TA){var o=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();s=l.width/o,a=l.height/o}return lR.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,bP({content:e.innerHTML,width:s,height:a,transform:r,title:n,extra:i,watchable:!0})])}}},eO=new RegExp('"',"ug"),tO=[1105920,1112319];function nO(e,t){var n="".concat(DA).concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var s=pR(e.children).filter((function(e){return e.getAttribute(OA)===t}))[0],a=EA.getComputedStyle(e,t),o=a.getPropertyValue("font-family").match(JA),l=a.getPropertyValue("font-weight"),c=a.getPropertyValue("content");if(s&&!o)return e.removeChild(s),r();if(o&&"none"!==c&&""!==c){var u=a.getPropertyValue("content"),d=~["Sharp"].indexOf(o[2])?BA:zA,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(o[2])?WA[d][o[2].toLowerCase()]:$A[d][l],f=function(e){var t=e.replace(eO,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=tO[0]&&n<=tO[1],i=2===t.length&&t[0]===t[1];return{value:RR(i?t[0]:t),isSecondary:r||i}}(u),p=f.value,m=f.isSecondary,g=o[0].startsWith("FontAwesome"),v=YR(h,p),y=v;if(g){var b=function(e){var t=HR[e],n=YR("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(p);b.iconName&&b.prefix&&(v=b.iconName,h=b.prefix)}if(!v||m||s&&s.getAttribute(LA)===h&&s.getAttribute(MA)===y)r();else{e.setAttribute(n,y),s&&e.removeChild(s);var w={iconName:null,title:null,titleId:null,prefix:null,transform:dR,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},_=w.extra;_.attributes[OA]=t,kP(v,h).then((function(i){var s=yP(nA(nA({},w),{},{icons:{main:i,mask:ZR()},prefix:h,iconName:y,extra:_,watchable:!0})),a=kA.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(a,e.firstChild):e.appendChild(a),a.outerHTML=s.map((function(e){return CR(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function rO(e){return Promise.all([nO(e,"::before"),nO(e,"::after")])}function iO(e){return e.parentNode!==document.head&&!~UA.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(OA)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function sO(e){if(xA)return new Promise((function(t,n){var r=pR(e.querySelectorAll("*")).filter(iO).map(rO),i=CP.begin("searchPseudoElements");jP(),Promise.all(r).then((function(){i(),UP(),t()})).catch((function(){i(),UP(),n()}))}))}var aO=!1,oO=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},lO={mixout:function(){return{parse:{transform:function(e){return oO(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=oO(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,s={transform:"translate(".concat(r/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),o="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:s,inner:{transform:"".concat(a," ").concat(o," ").concat(l)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:nA({},c.outer),children:[{tag:"g",attributes:nA({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:nA(nA({},t.icon.attributes),c.path)}]}]}}}},cO={x:0,y:0,width:"100%",height:"100%"};function uO(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var dO={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?nP(n.split(" ").map((function(e){return e.trim()}))):ZR();return r.prefix||(r.prefix=$R()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,s=e.mask,a=e.maskId,o=e.transform,l=i.width,c=i.icon,u=s.width,d=s.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(a," ").concat(o)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:o,containerWidth:u,iconWidth:l}),f={tag:"rect",attributes:nA(nA({},cO),{},{fill:"white"})},p=c.children?{children:c.children.map(uO)}:{},m={tag:"g",attributes:nA({},h.inner),children:[uO(nA({tag:c.tag,attributes:nA(nA({},c.attributes),h.path)},p))]},g={tag:"g",attributes:nA({},h.outer),children:[m]},v="mask-".concat(a||fR()),y="clip-".concat(a||fR()),b={tag:"mask",attributes:nA(nA({},cO),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,g]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=d,"g"===t.tag?t.children:[t])},b]};return n.push(w,{tag:"rect",attributes:nA({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(v,")")},cO)}),{children:n,attributes:r}}}},hO={provides:function(e){var t=!1;EA.matchMedia&&(t=EA.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:nA(nA({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=nA(nA({},r),{},{attributeName:"opacity"}),s={tag:"circle",attributes:nA(nA({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||s.children.push({tag:"animate",attributes:nA(nA({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:nA(nA({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(s),e.push({tag:"path",attributes:nA(nA({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:nA(nA({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:nA(nA({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:nA(nA({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;iP=e,sP={},Object.keys(aP).forEach((function(e){-1===oP.indexOf(e)&&delete aP[e]})),iP.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===rA(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){sP[e]||(sP[e]=[]),sP[e].push(r[e])}))}e.provides&&e.provides(aP)}))}([kR,XP,JP,$P,ZP,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=sO,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?kA:t;lR.searchPseudoElements&&sO(n)}}},{mixout:function(){return{dom:{unwatch:function(){jP(),aO=!0}}}},hooks:function(){return{bootstrap:function(){zP(lP("mutationObserverCallbacks",{}))},noAuto:function(){VP&&VP.disconnect()},watch:function(e){var t=e.observeMutationsRoot;aO?UP():zP(lP("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},lO,dO,hO,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:mP});var fO=mP.parse,pO=mP.icon;function mO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mO(Object(n),!0).forEach((function(t){yO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vO(e){return vO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vO(e)}function yO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wO(e){return function(e){if(Array.isArray(e))return _O(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return _O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EO(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var kO=["style"];var IO=!1;try{IO=!0}catch(xL){}function SO(e){return e&&"object"===vO(e)&&e.prefix&&e.iconName&&e.icon?e:fO.icon?fO.icon(e):null===e?null:e&&"object"===vO(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function xO(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?yO({},e,t):{}}var TO=t.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,s=e.className,a=e.title,o=e.titleId,l=e.maskId,c=SO(n),u=xO("classes",[].concat(wO(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,s=e.bounce,a=e.shake,o=e.flash,l=e.spin,c=e.spinPulse,u=e.spinReverse,d=e.pulse,h=e.fixedWidth,f=e.inverse,p=e.border,m=e.listItem,g=e.flip,v=e.size,y=e.rotation,b=e.pull,w=(yO(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":a,"fa-flash":o,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":d,"fa-fw":h,"fa-inverse":f,"fa-border":p,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(v),"undefined"!==typeof v&&null!==v),yO(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),yO(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),yO(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(e)),wO(s.split(" ")))),d=xO("transform","string"===typeof e.transform?fO.transform(e.transform):e.transform),h=xO("mask",SO(r)),f=pO(c,gO(gO(gO(gO({},u),d),h),{},{symbol:i,title:a,titleId:o,maskId:l}));if(!f)return function(){var e;!IO&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=f.abstract,m={ref:t};return Object.keys(e).forEach((function(t){TO.defaultProps.hasOwnProperty(t)||(m[t]=e[t])})),NO(p[0],m)}));TO.displayName="FontAwesomeIcon",TO.propTypes={beat:Ye().bool,border:Ye().bool,beatFade:Ye().bool,bounce:Ye().bool,className:Ye().string,fade:Ye().bool,flash:Ye().bool,mask:Ye().oneOfType([Ye().object,Ye().array,Ye().string]),maskId:Ye().string,fixedWidth:Ye().bool,inverse:Ye().bool,flip:Ye().oneOf([!0,!1,"horizontal","vertical","both"]),icon:Ye().oneOfType([Ye().object,Ye().array,Ye().string]),listItem:Ye().bool,pull:Ye().oneOf(["right","left"]),pulse:Ye().bool,rotation:Ye().oneOf([0,90,180,270]),shake:Ye().bool,size:Ye().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Ye().bool,spinPulse:Ye().bool,spinReverse:Ye().bool,symbol:Ye().oneOfType([Ye().bool,Ye().string]),title:Ye().string,titleId:Ye().string,transform:Ye().oneOfType([Ye().string,Ye().object]),swapOpacity:Ye().bool},TO.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var CO,NO=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),s=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=function(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=EO(t.slice(0,r)),s=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=s:e[i]=s,e}),{})}(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[EO(t)]=r}return e}),{attrs:{}}),a=r.style,o=void 0===a?{}:a,l=bO(r,kO);return s.attrs.style=gO(gO({},s.attrs.style),o),t.apply(void 0,[n.tag,gO(gO({},s.attrs),l)].concat(wO(i)))}.bind(null,t.createElement),AO={prefix:"fas",iconName:"folder-plus",icon:[512,512,[],"f65e","M512 416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H192c20.1 0 39.1 9.5 51.2 25.6l19.2 25.6c6 8.1 15.5 12.8 25.6 12.8H448c35.3 0 64 28.7 64 64V416zM232 376c0 13.3 10.7 24 24 24s24-10.7 24-24V312h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V200c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"]},RO={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H288c-10.1 0-19.6-4.7-25.6-12.8L243.2 57.6C231.1 41.5 212.1 32 192 32H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z"]},PO={prefix:"fas",iconName:"file-arrow-up",icon:[384,512,["file-upload"],"f574","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM216 408c0 13.3-10.7 24-24 24s-24-10.7-24-24V305.9l-31 31c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l72-72c9.4-9.4 24.6-9.4 33.9 0l72 72c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-31-31V408z"]},OO=PO,DO={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},LO={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"]},MO={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"]};function FO(e){let{currentFolder:n}=e;const[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)(""),{currentUser:o}=ST();function c(){i(!1)}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Ft,{onClick:function(){i(!0)},variant:"outline-success",size:"sm",children:(0,l.jsx)(TO,{icon:AO})}),(0,l.jsx)(eA,{show:r,onHide:c,children:(0,l.jsxs)(Lt,{onSubmit:function(e){if(e.preventDefault(),null==n)return;const t=[...n.path];n!==sN&&t.push({name:n.name,id:n.id}),Zk(_T.folders,{name:s,parentId:n.id,userId:o.uid,path:t,createdAt:_T.getCurrentTimestamp()}),a(""),c()},children:[(0,l.jsx)(eA.Body,{children:(0,l.jsxs)(Lt.Group,{children:[(0,l.jsx)(Lt.Label,{children:"Folder Name"}),(0,l.jsx)(Lt.Control,{type:"text",required:!0,value:s,onChange:e=>a(e.target.value)})]})}),(0,l.jsxs)(eA.Footer,{children:[(0,l.jsx)(Ft,{variant:"secondary",onClick:c,children:"Close"}),(0,l.jsx)(Ft,{variant:"success",type:"submit",children:"Add Folder"})]})]})})]})}var jO=new Uint8Array(16);function UO(){if(!CO&&!(CO="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return CO(jO)}const VO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const zO=function(e){return"string"===typeof e&&VO.test(e)};for(var BO=[],qO=0;qO<256;++qO)BO.push((qO+256).toString(16).substr(1));const HO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(BO[e[t+0]]+BO[e[t+1]]+BO[e[t+2]]+BO[e[t+3]]+"-"+BO[e[t+4]]+BO[e[t+5]]+"-"+BO[e[t+6]]+BO[e[t+7]]+"-"+BO[e[t+8]]+BO[e[t+9]]+"-"+BO[e[t+10]]+BO[e[t+11]]+BO[e[t+12]]+BO[e[t+13]]+BO[e[t+14]]+BO[e[t+15]]).toLowerCase();if(!zO(n))throw TypeError("Stringified UUID is invalid");return n};const KO=function(e,t,n){var r=(e=e||{}).random||(e.rng||UO)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return HO(r)},WO=2**31-1;function GO(e,t,n){const r=n-Date.now();e.current=r<=WO?setTimeout(t,r):setTimeout((()=>GO(e,t,n)),WO)}function QO(){const e=Z(),n=(0,t.useRef)();return cN((()=>clearTimeout(n.current))),(0,t.useMemo)((()=>{const t=()=>clearTimeout(n.current);return{set:function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e()&&(t(),i<=WO?n.current=setTimeout(r,i):GO(n,r,Date.now()+i))},clear:t,handleRef:n}}),[])}const YO={[ge]:"showing",[ye]:"showing show"},XO=t.forwardRef(((e,t)=>(0,l.jsx)(Ge,{...e,ref:t,transitionClasses:YO})));XO.displayName="ToastFade";const JO=XO,$O=t.createContext({onClose(){}}),ZO=t.forwardRef(((e,n)=>{let{bsPrefix:r,closeLabel:i="Close",closeVariant:s,closeButton:a=!0,className:c,children:u,...d}=e;r=p(r,"toast-header");const h=(0,t.useContext)($O),f=Y((e=>{null==h||null==h.onClose||h.onClose(e)}));return(0,l.jsxs)("div",{ref:n,...d,className:o()(r,c),children:[u,a&&(0,l.jsx)($e,{"aria-label":i,variant:s,onClick:f,"data-dismiss":"toast"})]})}));ZO.displayName="ToastHeader";const eD=ZO,tD=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=p(r,"toast-body"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));tD.displayName="ToastBody";const nD=tD,rD=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,transition:s=JO,show:a=!0,animation:c=!0,delay:u=5e3,autohide:d=!1,onClose:h,onEntered:f,onExit:m,onExiting:g,onEnter:v,onEntering:y,onExited:b,bg:w,..._}=e;r=p(r,"toast");const E=(0,t.useRef)(u),k=(0,t.useRef)(h);(0,t.useEffect)((()=>{E.current=u,k.current=h}),[u,h]);const I=QO(),S=!(!d||!a),x=(0,t.useCallback)((()=>{S&&(null==k.current||k.current())}),[S]);(0,t.useEffect)((()=>{I.set(x,E.current)}),[I,x]);const T=(0,t.useMemo)((()=>({onClose:h})),[h]),C=!(!s||!c),N=(0,l.jsx)("div",{..._,ref:n,className:o()(r,i,w&&"bg-".concat(w),!C&&(a?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return(0,l.jsx)($O.Provider,{value:T,children:C&&s?(0,l.jsx)(s,{in:a,onEnter:v,onEntering:y,onEntered:f,onExit:m,onExiting:g,onExited:b,unmountOnExit:!0,children:N}):N})}));rD.displayName="Toast";const iD=Object.assign(rD,{Body:nD,Header:eD}),sD=1e3;function aD(e,t,n){const r=(e-t)/(n-t)*100;return Math.round(r*sD)/sD}function oD(e,t){let{min:n,now:r,max:i,label:s,visuallyHidden:a,striped:c,animated:u,className:d,style:h,variant:f,bsPrefix:p,...m}=e;return(0,l.jsx)("div",{ref:t,...m,role:"progressbar",className:o()(d,"".concat(p,"-bar"),{["bg-".concat(f)]:f,["".concat(p,"-bar-animated")]:u,["".concat(p,"-bar-striped")]:u||c}),style:{width:"".concat(aD(r,n,i),"%"),...h},"aria-valuenow":r,"aria-valuemin":n,"aria-valuemax":i,children:a?(0,l.jsx)("span",{className:"visually-hidden",children:s}):s})}const lD=t.forwardRef(((e,n)=>{let{isChild:r=!1,...i}=e;const s={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...i};if(s.bsPrefix=p(s.bsPrefix,"progress"),r)return oD(s,n);const{min:a,now:c,max:u,label:d,visuallyHidden:h,striped:f,animated:m,bsPrefix:g,variant:v,className:y,children:b,...w}=s;return(0,l.jsx)("div",{ref:n,...w,className:o()(y,g),children:b?ct(b,(e=>(0,t.cloneElement)(e,{isChild:!0}))):oD({min:a,now:c,max:u,label:d,visuallyHidden:h,striped:f,animated:m,bsPrefix:g,variant:v},n)})}));lD.displayName="ProgressBar";const cD=lD;function uD(e){let{currentFolder:n}=e;const[r,s]=(0,t.useState)([]),{currentUser:a}=ST();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("label",{className:"btn btn-outline-success btn-sm m-0 mr-2",children:[(0,l.jsx)(TO,{icon:OO}),(0,l.jsx)("input",{type:"file",onChange:function(e){const t=e.target.files[0];if(!n||!t)return;const r=KO();s((e=>[...e,{id:r,name:t.name,progress:0,error:!1}]));const i=n===sN?"".concat(n.path.join("/"),"/").concat(t.name):"".concat(n.path.join("/"),"/").concat(n.name,"/").concat(t.name),o=BS(KS(ET,"/files/".concat(a.uid,"/").concat(i)),t);o.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes;s((e=>e.map((e=>e.id===r?{...e,progress:t}:e))))}),(()=>{s((e=>e.map((e=>e.id===r?{...e,error:!0}:e))))}),(()=>{s((e=>e.filter((e=>e.id!==r)))),HS(o.snapshot.ref).then((e=>{Qk(Ik(_T.files,xk("name","==",t.name),xk("userId","==",a.uid),xk("folderId","==",a.uid))).then((r=>{const i=r.docs[0];if(i)Jk(i,{url:e});else{Zk(_T.files,{url:e,name:t.name,createdAt:_T.getCurrentTimestamp(),folderId:n.id,userId:a.uid})}}))}))}))},style:{opacity:0,position:"absolute",left:"-9999px"}})]}),r.length>0&&i.createPortal((0,l.jsx)("div",{style:{position:"absolute",bottom:"1rem",right:"1rem",maxWidth:"250px"},children:r.map((e=>(0,l.jsxs)(iD,{onClose:()=>{s((t=>t.filter((t=>t.id!==e.id))))},children:[(0,l.jsx)(iD.Header,{closeButton:e.error,className:"text-truncate w-100 d-block",children:e.name}),(0,l.jsx)(iD.Body,{children:(0,l.jsx)(cD,{animated:!e.error,variant:e.error?"danger":"primary",now:e.error?100:100*e.progress,label:e.error?"Error":"".concat(Math.round(100*e.progress),"%")})})]},e.id)))}),document.body)]})}function dD(e){let{folder:t}=e;return(0,l.jsxs)(Ft,{to:{pathname:"/folder/".concat(t.id),state:{folder:t}},variant:"outline-dark",className:"text-truncate w-100",as:WC,children:[(0,l.jsx)(TO,{icon:RO,className:"mr-2"}),t.name]})}function hD(e){let{file:n}=e;const[r,i]=(0,t.useState)(!1);return(0,l.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,l.jsxs)("a",{href:n.url,target:"_blank",className:"btn btn-outline-dark text-truncate w-75",children:[(0,l.jsx)(TO,{icon:LO,className:"mr-2"}),n.name]}),(0,l.jsx)("button",{className:"btn btn-outline-dark text-truncate btn-primary",onClick:()=>{navigator.clipboard.writeText(n.url),i(!0),setTimeout((()=>i(!1)),1e3),alert("File url copied to clipboard")},disabled:r,children:(0,l.jsx)(TO,{icon:MO})}),(0,l.jsx)("button",{className:"btn btn-outline-dark text-truncate btn-primary",onClick:async()=>{await $k(TE(_T.files,n.id)),window.location.reload()},children:(0,l.jsx)(TO,{icon:DO})})]})}const fD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},pD=t.createContext(null),mD=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i,...s}=e;n=p(n,"navbar-brand");const a=i||(s.href?"a":"span");return(0,l.jsx)(a,{...s,ref:t,className:o()(r,n)})}));mD.displayName="NavbarBrand";const gD=mD;const vD=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},yD={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function bD(e,t){const n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=yD[e];return n+parseInt(Ce(t,r[0]),10)+parseInt(Ce(t,r[1]),10)}const wD={[me]:"collapse",[ye]:"collapsing",[ge]:"collapsing",[ve]:"collapse show"},_D=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:i,onEntered:s,onExit:a,onExiting:c,className:u,children:d,dimension:h="height",in:f=!1,timeout:p=300,mountOnEnter:m=!1,unmountOnExit:g=!1,appear:v=!1,getDimensionValue:y=bD,...b}=e;const w="function"===typeof h?h():h,_=(0,t.useMemo)((()=>vD((e=>{e.style[w]="0"}),r)),[w,r]),E=(0,t.useMemo)((()=>vD((e=>{const t="scroll".concat(w[0].toUpperCase()).concat(w.slice(1));e.style[w]="".concat(e[t],"px")}),i)),[w,i]),k=(0,t.useMemo)((()=>vD((e=>{e.style[w]=null}),s)),[w,s]),I=(0,t.useMemo)((()=>vD((e=>{e.style[w]="".concat(y(w,e),"px"),Ve(e)}),a)),[a,y,w]),S=(0,t.useMemo)((()=>vD((e=>{e.style[w]=null}),c)),[w,c]);return(0,l.jsx)(He,{ref:n,addEndListener:Ue,...b,"aria-expanded":b.role?f:null,onEnter:_,onEntering:E,onEntered:k,onExit:I,onExiting:S,childRef:d.ref,in:f,timeout:p,mountOnEnter:m,unmountOnExit:g,appear:v,children:(e,n)=>t.cloneElement(d,{...n,className:o()(u,d.props.className,wD[e],"width"===w&&"collapse-horizontal")})})})),ED=_D,kD=t.createContext(null);kD.displayName="NavbarContext";const ID=kD,SD=t.forwardRef(((e,n)=>{let{children:r,bsPrefix:i,...s}=e;i=p(i,"navbar-collapse");const a=(0,t.useContext)(ID);return(0,l.jsx)(ED,{in:!(!a||!a.expanded),...s,children:(0,l.jsx)("div",{ref:n,className:i,children:r})})}));SD.displayName="NavbarCollapse";const xD=SD,TD=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:s,label:a="Toggle navigation",as:c="button",onClick:u,...d}=e;r=p(r,"navbar-toggler");const{onToggle:h,expanded:f}=(0,t.useContext)(ID)||{},m=Y((e=>{u&&u(e),h&&h()}));return"button"===c&&(d.type="button"),(0,l.jsx)(c,{...d,ref:n,onClick:m,"aria-label":a,className:o()(i,r,!f&&"collapsed"),children:s||(0,l.jsx)("span",{className:"".concat(r,"-icon")})})}));TD.displayName="NavbarToggle";const CD=TD,ND=new WeakMap,AD=(e,t)=>{if(!e||!t)return;const n=ND.get(t)||new Map;ND.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function RD(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const r=AD(e,n),[i,s]=(0,t.useState)((()=>!!r&&r.matches));return te((()=>{let t=AD(e,n);if(!t)return s(!1);let r=ND.get(n);const i=()=>{s(t.matches)};return t.refCount++,t.addListener(i),i(),()=>{t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),i}const PD=function(e){const n=Object.keys(e);function r(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function i(t){const r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t);let i=e[r];return i="number"===typeof i?"".concat(i-.2,"px"):"calc(".concat(i," - 0.2px)"),"(max-width: ".concat(i,")")}return function(n,s,a){let o;"object"===typeof n?(o=n,a=s,s=!0):o={[n]:s=s||!0};let l=(0,t.useMemo)((()=>Object.entries(o).reduce(((t,n)=>{let[s,a]=n;return"up"!==a&&!0!==a||(t=r(t,function(t){let n=e[t];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(s))),"down"!==a&&!0!==a||(t=r(t,i(s))),t}),"")),[JSON.stringify(o)]);return RD(l,a)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),OD=PD,DD=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=p(r,"offcanvas-body"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));DD.displayName="OffcanvasBody";const LD=DD,MD={[ge]:"show",[ve]:"show"},FD=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:s,in:a=!1,mountOnEnter:c=!1,unmountOnExit:u=!1,appear:d=!1,...h}=e;return r=p(r,"offcanvas"),(0,l.jsx)(He,{ref:n,addEndListener:Ue,in:a,mountOnEnter:c,unmountOnExit:u,appear:d,...h,childRef:s.ref,children:(e,n)=>t.cloneElement(s,{...n,className:o()(i,s.props.className,(e===ge||e===ye)&&"".concat(r,"-toggling"),MD[e])})})}));FD.displayName="OffcanvasToggling";const jD=FD,UD=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:s=!1,...a}=e;return n=p(n,"offcanvas-header"),(0,l.jsx)(KN,{ref:t,...a,className:o()(r,n),closeLabel:i,closeButton:s})}));UD.displayName="OffcanvasHeader";const VD=UD,zD=N("h5"),BD=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=zD,...s}=e;return r=p(r,"offcanvas-title"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));BD.displayName="OffcanvasTitle";const qD=BD;function HD(e){return(0,l.jsx)(jD,{...e})}function KD(e){return(0,l.jsx)(Ge,{...e})}const WD=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:s,"aria-labelledby":a,placement:c="start",responsive:u,show:d=!1,backdrop:h=!0,keyboard:f=!0,scroll:m=!1,onEscapeKeyDown:g,onShow:v,onHide:y,container:b,autoFocus:w=!0,enforceFocus:_=!0,restoreFocus:E=!0,restoreFocusOptions:k,onEntered:I,onExit:S,onExiting:x,onEnter:T,onEntering:C,onExited:N,backdropClassName:A,manager:R,renderStaticNode:P=!1,...O}=e;const D=(0,t.useRef)();r=p(r,"offcanvas");const{onToggle:L}=(0,t.useContext)(ID)||{},[M,F]=(0,t.useState)(!1),j=OD(u||"xs","up");(0,t.useEffect)((()=>{F(u?d&&!j:d)}),[d,u,j]);const U=Y((()=>{null==L||L(),null==y||y()})),V=(0,t.useMemo)((()=>({onHide:U})),[U]);const z=(0,t.useCallback)((e=>(0,l.jsx)("div",{...e,className:o()("".concat(r,"-backdrop"),A)})),[A,r]),B=e=>(0,l.jsx)("div",{...e,...O,className:o()(i,u?"".concat(r,"-").concat(u):r,"".concat(r,"-").concat(c)),"aria-labelledby":a,children:s});return(0,l.jsxs)(l.Fragment,{children:[!M&&(u||P)&&B({}),(0,l.jsx)(UN.Provider,{value:V,children:(0,l.jsx)(xN,{show:M,ref:n,backdrop:h,container:b,keyboard:f,autoFocus:w,enforceFocus:_&&!m,restoreFocus:E,restoreFocusOptions:k,onEscapeKeyDown:g,onShow:v,onHide:U,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==T||T(e,...n)},onEntering:C,onEntered:I,onExit:S,onExiting:x,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==N||N(...n)},manager:R||(m?(D.current||(D.current=new MN({handleContainerOverflow:!1})),D.current):LN()),transition:HD,backdropTransition:KD,renderBackdrop:z,renderDialog:B})})]})}));WD.displayName="Offcanvas";const GD=Object.assign(WD,{Body:LD,Header:VD,Title:qD}),QD=t.forwardRef(((e,n)=>{const r=(0,t.useContext)(ID);return(0,l.jsx)(GD,{ref:n,show:!(null==r||!r.expanded),...e,renderStaticNode:!0})}));QD.displayName="NavbarOffcanvas";const YD=QD,XD=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...s}=e;return r=p(r,"navbar-text"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));XD.displayName="NavbarText";const JD=XD,$D=t.forwardRef(((e,n)=>{const{bsPrefix:r,expand:i=!0,variant:s="light",bg:a,fixed:c,sticky:u,className:d,as:h="nav",expanded:f,onToggle:m,onSelect:g,collapseOnSelect:v=!1,...y}=H(e,{expanded:"onToggle"}),b=p(r,"navbar"),w=(0,t.useCallback)((function(){null==g||g(...arguments),v&&f&&(null==m||m(!1))}),[g,v,f,m]);void 0===y.role&&"nav"!==h&&(y.role="navigation");let _="".concat(b,"-expand");"string"===typeof i&&(_="".concat(_,"-").concat(i));const E=(0,t.useMemo)((()=>({onToggle:()=>null==m?void 0:m(!f),bsPrefix:b,expanded:!!f,expand:i})),[b,f,i,m]);return(0,l.jsx)(ID.Provider,{value:E,children:(0,l.jsx)(pD.Provider,{value:w,children:(0,l.jsx)(h,{ref:n,...y,className:o()(d,b,i&&_,s&&"".concat(b,"-").concat(s),a&&"bg-".concat(a),u&&"sticky-".concat(u),c&&"fixed-".concat(c))})})})}));$D.displayName="Navbar";const ZD=Object.assign($D,{Brand:gD,Collapse:xD,Offcanvas:YD,Text:JD,Toggle:CD});n(197);const eL=t.createContext(null);eL.displayName="NavContext";const tL=eL,nL=t.createContext(null),rL=["as","active","eventKey"];function iL(e){let{key:n,onClick:r,active:i,id:s,role:a,disabled:o}=e;const l=(0,t.useContext)(pD),c=(0,t.useContext)(tL),u=(0,t.useContext)(nL);let d=i;const h={role:a};if(c){a||"tablist"!==c.role||(h.role="tab");const e=c.getControllerId(null!=n?n:null),t=c.getControlledId(null!=n?n:null);h[fN("event-key")]=n,h.id=e||s,d=null==i&&null!=n?c.activeKey===n:i,!d&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(h["aria-controls"]=t)}return"tab"===h.role&&(h["aria-selected"]=d,d||(h.tabIndex=-1),o&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Y((e=>{o||(null==r||r(e),null!=n&&l&&!e.isPropagationStopped()&&l(n,e))})),[h,{isActive:d}]}const sL=t.forwardRef(((e,t)=>{let{as:n=se,active:r,eventKey:i}=e,s=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,rL);const[a,o]=iL(Object.assign({key:fD(i,s.href),active:r},s));return a[fN("active")]=o.isActive,(0,l.jsx)(n,Object.assign({},s,a,{ref:t}))}));sL.displayName="NavItem";const aL=sL,oL=["as","onSelect","activeKey","role","onKeyDown"];const lL=()=>{},cL=fN("event-key"),uL=t.forwardRef(((e,n)=>{let{as:r="div",onSelect:i,activeKey:s,role:a,onKeyDown:o}=e,c=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,oL);const u=function(){const[,e]=(0,t.useReducer)((e=>!e),!1);return e}(),d=(0,t.useRef)(!1),h=(0,t.useContext)(pD),f=(0,t.useContext)(nL);let p,m;f&&(a=a||"tablist",s=f.activeKey,p=f.getControlledId,m=f.getControllerId);const g=(0,t.useRef)(null),v=e=>{const t=g.current;if(!t)return null;const n=CN(t,"[".concat(cL,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let s=i+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},y=(e,t)=>{null!=e&&(null==i||i(e,t),null==h||h(e,t))};(0,t.useEffect)((()=>{if(g.current&&d.current){const e=g.current.querySelector("[".concat(cL,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));const b=Be(n,g);return(0,l.jsx)(pD.Provider,{value:y,children:(0,l.jsx)(tL.Provider,{value:{role:a,activeKey:fD(s),getControlledId:p||lL,getControllerId:m||lL},children:(0,l.jsx)(r,Object.assign({},c,{onKeyDown:e=>{if(null==o||o(e),!f)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=v(-1);break;case"ArrowRight":case"ArrowDown":t=v(1);break;default:return}var n;t&&(e.preventDefault(),y(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,u())},ref:b,role:a}))})})}));uL.displayName="Nav";const dL=Object.assign(uL,{Item:aL}),hL=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=p(r,"nav-item"),(0,l.jsx)(i,{ref:t,className:o()(n,r),...s})}));hL.displayName="NavItem";const fL=hL,pL=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i=le,active:s,eventKey:a,disabled:c=!1,...u}=e;n=p(n,"nav-link");const[d,h]=iL({key:fD(a,u.href),active:s,disabled:c,...u});return(0,l.jsx)(i,{...u,...d,ref:t,disabled:c,className:o()(r,n,c&&"disabled",h.isActive&&"active")})}));pL.displayName="NavLink";const mL=pL,gL=t.forwardRef(((e,n)=>{const{as:r="div",bsPrefix:i,variant:s,fill:a=!1,justify:c=!1,navbar:u,navbarScroll:d,className:h,activeKey:f,...m}=H(e,{activeKey:"onSelect"}),g=p(i,"nav");let v,y,b=!1;const _=(0,t.useContext)(ID),E=(0,t.useContext)(w);return _?(v=_.bsPrefix,b=null==u||u):E&&({cardHeaderBsPrefix:y}=E),(0,l.jsx)(dL,{as:r,ref:n,activeKey:f,className:o()(h,{[g]:!b,["".concat(v,"-nav")]:b,["".concat(v,"-nav-scroll")]:b&&d,["".concat(y,"-").concat(s)]:!!y,["".concat(g,"-").concat(s)]:!!s,["".concat(g,"-fill")]:a,["".concat(g,"-justified")]:c}),...m})}));gL.displayName="Nav";const vL=Object.assign(gL,{Item:fL,Link:mL});function yL(){return(0,l.jsxs)(ZD,{bg:"light",expand:"sm",children:[(0,l.jsx)(ZD.Brand,{as:WC,to:"/",children:"WDs Drive"}),(0,l.jsx)(vL,{children:(0,l.jsx)(vL.Link,{as:WC,to:"/user",children:"Profile"})})]})}const bL=t.forwardRef(((e,t)=>{let{bsPrefix:n,active:r=!1,children:i,className:s,as:a="li",linkAs:c=le,linkProps:u={},href:d,title:h,target:f,...m}=e;const g=p(n,"breadcrumb-item");return(0,l.jsx)(a,{ref:t,...m,className:o()(g,s,{active:r}),"aria-current":r?"page":void 0,children:r?i:(0,l.jsx)(c,{...u,href:d,title:h,target:f,children:i})})}));bL.displayName="BreadcrumbItem";const wL=bL,_L=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,listProps:i={},children:s,label:a="breadcrumb",as:c="nav",...u}=e;const d=p(n,"breadcrumb");return(0,l.jsx)(c,{"aria-label":a,className:r,ref:t,...u,children:(0,l.jsx)("ol",{...i,className:o()(d,null==i?void 0:i.className),children:s})})}));_L.displayName="Breadcrumb";const EL=Object.assign(_L,{Item:wL});function kL(e){let{currentFolder:t}=e,n=t===sN?[]:[sN];return t&&(n=[...n,...t.path]),(0,l.jsxs)(EL,{className:"flex-grow-1",listProps:{className:"bg-white pl-0 m-0"},children:[n.map(((e,t)=>(0,l.jsx)(EL.Item,{linkAs:WC,linkProps:{to:{pathname:e.id?"/folder/".concat(e.id):"/",state:{folder:{...e,path:n.slice(1,t)}}}},className:"text-truncate d-inline-block",style:{maxWidth:"150px"},children:e.name},e.id))),t&&(0,l.jsx)(EL.Item,{className:"text-truncate d-inline-block",style:{maxWidth:"200px"},active:!0,children:t.name})]})}function IL(){const{folderId:e}=function(){let{matches:e}=t.useContext(mC),n=e[e.length-1];return n?n.params:{}}(),{state:n={}}=yC(),{folder:r,childFolders:i,childFiles:s}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[r,i]=(0,t.useReducer)(aN,{folderId:e,folder:n,childFolders:[],childFiles:[]}),{currentUser:s}=ST();return(0,t.useEffect)((()=>{i({type:iN.SELECT_FOLDER,payload:{folderId:e,folder:n}})}),[e,n]),(0,t.useEffect)((()=>{if(null==e||!e)return i({type:iN.UPDATE_FOLDER,payload:{folder:sN}});Kk(TE(_T.folders,e)).then((e=>{i({type:iN.UPDATE_FOLDER,payload:{folder:_T.formatDoc(e)}})})).catch((()=>{i({type:iN.UPDATE_FOLDER,payload:{folder:sN}})}))}),[e]),(0,t.useEffect)((()=>{Qk(Ik(_T.folders,xk("parentId","==",e),xk("userId","==",s.uid))).then((e=>{i({type:iN.SET_CHILD_FOLDERS,payload:{childFolders:e.docs.map(_T.formatDoc)}})}))}),[e,s]),(0,t.useEffect)((()=>{Qk(Ik(_T.files,xk("folderId","==",e),xk("userId","==",s.uid))).then((e=>{i({type:iN.SET_CHILD_FILES,payload:{childFiles:e.docs.map(_T.formatDoc)}})}))}),[e,s]),r}(e,null===n||void 0===n?void 0:n.folder);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(yL,{}),(0,l.jsxs)(XC,{fluid:!0,children:[(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)(kL,{currentFolder:r}),(0,l.jsx)(uD,{currentFolder:r}),(0,l.jsx)(FO,{currentFolder:r})]}),i.length>0&&(0,l.jsx)("div",{className:"d-flex flex-wrap",children:i.map((e=>(0,l.jsx)("div",{style:{maxWidth:"250px"},className:"p-2",children:(0,l.jsx)(dD,{folder:e})},e.id)))}),i.length>0&&s.length>0&&(0,l.jsx)("hr",{}),s.length>0&&(0,l.jsx)("div",{className:"d-flex flex-wrap",children:s.map((e=>(0,l.jsx)("div",{style:{maxWidth:"250px"},className:"p-2",children:(0,l.jsx)(hD,{file:e})},e.id)))})]})]})}const SL=function(){return(0,l.jsx)(qC,{children:(0,l.jsx)(xT,{children:(0,l.jsxs)(FC,{children:[(0,l.jsx)(LC,{path:"/",element:(0,l.jsx)(tN,{children:(0,l.jsx)(IL,{})})}),(0,l.jsx)(LC,{exact:!0,path:"/folder/:folderId",element:(0,l.jsx)(tN,{children:(0,l.jsx)(IL,{})})}),(0,l.jsx)(LC,{path:"/user",element:(0,l.jsx)(tN,{children:(0,l.jsx)(ZC,{})})}),(0,l.jsx)(LC,{path:"/update-profile",element:(0,l.jsx)(tN,{children:(0,l.jsx)(rN,{})})}),(0,l.jsx)(LC,{path:"/signup",element:(0,l.jsx)($C,{})}),(0,l.jsx)(LC,{path:"/login",element:(0,l.jsx)(eN,{})}),(0,l.jsx)(LC,{path:"/forgot-password",element:(0,l.jsx)(nN,{})})]})})})};i.render((0,l.jsx)(t.StrictMode,{children:(0,l.jsx)(SL,{})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.9c215e9a.js.map