{"version":3,"sources":["firebase.js","contexts/AuthContext.js","components/authentication/CenteredContainer.js","components/authentication/Signup.js","components/authentication/Profile.js","components/authentication/Login.js","components/authentication/PrivateRoute.js","components/authentication/ForgotPassword.js","components/authentication/UpdateProfile.js","hooks/useFolder.js","components/HomePage/AddFolderButton.js","components/HomePage/AddFileButton.js","components/HomePage/Folder.js","components/HomePage/File.js","components/HomePage/Navbar.js","components/HomePage/FolderBreadcrumbs.js","components/HomePage/Dashboard.js","components/App.js","index.js","components/authentication/dropbox.png","components/HomePage/dropbox.png"],"names":["app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","database","folders","collection","files","formatDoc","doc","id","data","getCurrentTimestamp","FieldValue","serverTimestamp","storage","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","CenteredContainer","Container","className","style","minHeight","maxWidth","Signup","emailRef","useRef","passwordRef","passwordConfirmRef","error","setError","history","useHistory","e","a","preventDefault","current","push","padding","width","isAbsolute","height","src","dropbox","alt","Card","Body","Alert","variant","Form","onSubmit","Group","Control","placeholder","type","ref","required","Label","Button","disabled","to","Profile","as","Link","onClick","Login","PrivateRoute","Component","component","rest","render","props","ForgotPassword","message","setMessage","UpdateProfile","promises","Promise","all","then","catch","finally","defaultValue","ACTIONS","ROOT_FOLDER","name","path","reducer","state","payload","folderId","folder","childFiles","childFolders","AddFolderButton","currentFolder","open","setOpen","setName","closeModal","size","icon","faFolderPlus","fontSize","Modal","show","onHide","add","parentId","userId","uid","createdAt","onChange","target","Footer","AddFileButton","uploadingFiles","setUploadingFiles","faFileImport","file","uuidV4","prevUploadingFiles","progress","filePath","join","uploadTask","put","on","snapshot","bytesTransferred","totalBytes","map","uploadFile","filter","getDownloadURL","url","where","get","existingFiles","existingFile","docs","update","opacity","position","left","length","ReactDOM","createPortal","bottom","right","Toast","key","onClose","Header","closeButton","ProgressBar","animated","now","label","Math","round","document","body","Folder","pathname","faFolder","File","href","faFile","NavbarComponent","Navbar","backgroundColor","expand","Brand","Nav","FolderBreadcrumbs","Breadcrumb","listProps","index","Item","linkAs","linkProps","slice","active","Dashboard","useParams","useLocation","useReducer","dispatch","onSnapshot","useFolder","fluid","childFolder","childFile","App","exact","getElementById","module","exports"],"mappings":"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","file":"static/js/main.8d608142.chunk.js","sourcesContent":["import firebase from \"firebase/compat/app\"\nimport \"firebase/compat/auth\"\nimport \"firebase/compat/firestore\"\nimport \"firebase/compat/storage\"\n\nconst app = firebase.initializeApp({\n  apiKey: \"AIzaSyA-hddie7J-3bSfZygFw3sP0PgXZWQOhNQ\",\n  authDomain: \"dropbox-ee88c.firebaseapp.com\",\n  projectId: \"dropbox-ee88c\",\n  storageBucket: \"dropbox-ee88c.appspot.com\",\n\n  messagingSenderId: \"602202076833\",\n  appId: \"1:602202076833:web:cd17540a05e2e9b5fce2e0\",\n  measurementId: \"G-3DFFGKD41R\"\n})\n\nconst firestore = app.firestore()\n\n\nexport const database = {\n  folders: firestore.collection(\"folders\"),\n  files: firestore.collection(\"files\"),\n  formatDoc: doc => {\n    return { id: doc.id, ...doc.data() }\n  },\n  getCurrentTimestamp: firebase.firestore.FieldValue.serverTimestamp,\n}\nexport const storage = app.storage()\nexport const auth = app.auth()\nexport default app\n","import React, { useContext, useState, useEffect } from \"react\"\nimport { auth } from \"../firebase\"\n\nconst AuthContext = React.createContext()\n\nexport function useAuth() {\n  return useContext(AuthContext)\n}\n\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState()\n  const [loading, setLoading] = useState(true)\n\n  function signup(email, password) {\n    return auth.createUserWithEmailAndPassword(email, password)\n  }\n\n  function login(email, password) {\n    return auth.signInWithEmailAndPassword(email, password)\n  }\n\n  function logout() {\n    return auth.signOut()\n  }\n\n  function resetPassword(email) {\n    return auth.sendPasswordResetEmail(email)\n  }\n\n  function updateEmail(email) {\n    return currentUser.updateEmail(email)\n  }\n\n  function updatePassword(password) {\n    return currentUser.updatePassword(password)\n  }\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      setCurrentUser(user)\n      setLoading(false)\n    })\n\n    return unsubscribe\n  }, [])\n\n  const value = {\n    currentUser,\n    login,\n    signup,\n    logout,\n    resetPassword,\n    updateEmail,\n    updatePassword\n  }\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  )\n}\n","import React from \"react\"\nimport { Container } from \"react-bootstrap\"\n\nexport default function CenteredContainer({ children }) {\n  return (\n    <Container\n      className=\"d-flex align-items-center justify-content-center\"\n      style={{ minHeight: \"80vh\" }}\n    >\n      <div className=\"w-100\" style={{ maxWidth: \"600px\" }}>\n        {children}\n      </div>\n    </Container>\n  )\n}\n","import React, { useRef, useState } from \"react\"\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../../contexts/AuthContext\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport CenteredContainer from \"./CenteredContainer\"\nimport dropbox from \"./dropbox.png\"\nimport { isAbsolute } from \"path\"\n\nexport default function Signup() {\n  const emailRef = useRef()\n  const passwordRef = useRef()\n  const passwordConfirmRef = useRef()\n  const { signup } = useAuth()\n  const [error, setError] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const history = useHistory()\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\n      return setError(\"Passwords do not match\")\n    }\n\n    try {\n      setError(\"\")\n      setLoading(true)\n      await signup(emailRef.current.value, passwordRef.current.value)\n      history.push(\"/\")\n    } catch {\n      setError(\"Failed to create an account\")\n    }\n\n    setLoading(false)\n  }\n\n  return (\n    <CenteredContainer>\n      <img className=\"w-100\" style={{padding: 100}} width={isAbsolute} height={isAbsolute} src={dropbox} alt=\"\"/>\n      <Card>\n        <Card.Body className=\"bg-dark\">  \n          <h2 className=\"text-right text-white mb-4\">Sign Up</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <Form onSubmit={handleSubmit}>\n            <Form.Group id=\"email\">\n              <Form.Control className=\"bg-light text-dark\" placeholder=\"email\" type=\"email\" ref={emailRef} required />\n            </Form.Group>\n            <Form.Group id=\"password\">\n              <Form.Control className=\"bg-light text-dark\" placeholder=\"password\" type=\"password\" ref={passwordRef} required />\n            </Form.Group>\n            <Form.Group id=\"password-confirm\">\n              <Form.Label className=\"text-light\"/>\n              <Form.Control className=\"bg-light text-dark\" placeholder=\"password confirmation\" type=\"password\" ref={passwordConfirmRef} required />\n            </Form.Group>\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\n              Sign Up\n            </Button>\n            <div className=\"w-100 text-left mt-1 bg-dark text-white p-2 h-50\">\n              Already have an account? <Link to=\"/login\">Log In</Link>\n            </div>\n          </Form>\n        </Card.Body>\n      </Card>\n    </CenteredContainer>\n  )\n}\n","import React, { useState } from \"react\"\nimport { Card, Button, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../../contexts/AuthContext\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport CenteredContainer from \"./CenteredContainer\"\nimport dropbox from \"./dropbox.png\";\nimport { isAbsolute } from \"path\"\n\nexport default function Profile() {\n  const [error, setError] = useState(\"\")\n  const { currentUser, logout } = useAuth()\n  const history = useHistory()\n  async function handleLogout() {\n    setError(\"\")\n    try {\n      await logout()\n      history.push(\"/login\")\n    } catch {\n      setError(\"Failed to log out\")\n    }\n  }\n  return (\n    <CenteredContainer>\n      <img className=\"w-100\" style={{padding: 100}} width={isAbsolute} height={isAbsolute} src={dropbox} alt=\"\"/>\n      <Card className=\"bg-white\">\n        <Card.Body className=\"text-primary\">\n          <h2 className=\"text-right text-dark mb-4\">Profile</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <strong className=\"text-dark\">Email:</strong> {currentUser.email}\n          <Link to=\"/update-profile\" className=\"btn btn-primary w-100 mt-3 mb-2\">\n            Update Profile\n          </Link>\n          <Button as={Link} to=\"/\" className=\"w-100\" type=\"submit\">\n              Back\n          </Button>\n        </Card.Body>\n      </Card>\n      <div className=\"w-100 text-left mt-2 bg-light\">\n        <Button variant=\"link\" onClick={handleLogout}>\n          Log Out\n        </Button>\n      </div>\n    </CenteredContainer>\n  )\n}\n","import React, { useRef, useState } from \"react\"\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../../contexts/AuthContext\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport CenteredContainer from \"./CenteredContainer\"\nimport dropbox from \"./dropbox.png\";\nimport { isAbsolute } from \"path\"\n\nexport default function Login() {\n  const emailRef = useRef()\n  const passwordRef = useRef()\n  const { login } = useAuth()\n  const [error, setError] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const history = useHistory()\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n\n    try {\n      setError(\"\")\n      setLoading(true)\n      await login(emailRef.current.value, passwordRef.current.value)\n      history.push(\"/\")\n    } catch {\n      setError(\"Failed to log in\")\n    }\n\n    setLoading(false)\n  }\n  return (\n    <CenteredContainer>\n      <img className=\"w-100\" style={{padding: 100}} width={isAbsolute} height={isAbsolute} src={dropbox} alt=\"\"/>\n      <Card>\n        <Card.Body className=\"bg-dark\">\n          <h2 className=\"text-right text-white mb-4 \">Sign In</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <Form onSubmit={handleSubmit}>\n            <Form.Group id=\"email\">\n              <Form.Label></Form.Label>\n              <Form.Control className=\"bg-light text-dark\" type=\"email\" placeholder=\"email\" ref={emailRef} required />\n            </Form.Group>\n            <Form.Group id=\"password\">\n              <Form.Control className=\"bg-light text-dark\" type=\"password\" placeholder=\"password\" ref={passwordRef} required />\n            </Form.Group>\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\n              Login\n            </Button>\n          </Form>\n          <div className=\"w-100 text-left mt-3\">\n            <Link to=\"/forgot-password\">Forgot Password?</Link>\n          </div>\n          <div className=\"w-100 text-left text-white mt-2\">\n            Don't have an account? <Link to=\"/signup\">Sign Up</Link>\n          </div>\n        </Card.Body>\n      </Card>\n    </CenteredContainer>\n  )\n}\n","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\nimport { useAuth } from \"../../contexts/AuthContext\"\n\nexport default function PrivateRoute({ component: Component, ...rest }) {\n  const { currentUser } = useAuth()\n\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\n      }}\n    ></Route>\n  )\n}\n","import React, { useRef, useState } from \"react\"\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../../contexts/AuthContext\"\nimport { Link } from \"react-router-dom\"\nimport CenteredContainer from \"./CenteredContainer\"\nimport dropbox from \"./dropbox.png\";\nimport { isAbsolute } from \"path\"\n\nexport default function ForgotPassword() {\n  const emailRef = useRef()\n  const { resetPassword } = useAuth()\n  const [error, setError] = useState(\"\")\n  const [message, setMessage] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n\n    try {\n      setMessage(\"\")\n      setError(\"\")\n      setLoading(true)\n      await resetPassword(emailRef.current.value)\n      setMessage(\"Check your inbox for further instructions\")\n    } catch {\n      setError(\"Failed to reset password\")\n    }\n\n    setLoading(false)\n  }\n\n  return (\n    <CenteredContainer>\n      <img className=\"w-100\" style={{padding: 100}} width={isAbsolute} height={isAbsolute} src={dropbox} alt=\"\"/>\n      <Card>\n        <Card.Body className=\"bg-dark\">\n          <h2 className=\"text-right mb-4 text-white\">Password Reset</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          {message && <Alert variant=\"success\">{message}</Alert>}\n          <Form onSubmit={handleSubmit}>\n            <Form.Group id=\"email\">\n              {/* <Form.Label>Email</Form.Label> */}\n              <Form.Control className=\"text-dark bg-light\" type=\"email\"  placeholder=\"email\" ref={emailRef} required />\n            </Form.Group>\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\n              Reset Password\n            </Button>\n          </Form>\n          <div className=\"w-100 text-left mt-3 text-white\">\n            or <Link to=\"/login\">Login</Link>\n          </div>\n          <div className=\"w-100 text-left mt-2 text-white\">\n            Doesn't have an account? <Link to=\"/signup\">Sign Up</Link>\n          </div>\n        </Card.Body>\n      </Card>\n    </CenteredContainer>\n  )\n}\n","import React, { useRef, useState } from \"react\"\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../../contexts/AuthContext\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport CenteredContainer from \"./CenteredContainer\"\n\nexport default function UpdateProfile() {\n  const emailRef = useRef()\n  const passwordRef = useRef()\n  const passwordConfirmRef = useRef()\n  const { currentUser, updatePassword, updateEmail } = useAuth()\n  const [error, setError] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const history = useHistory()\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\n      return setError(\"Passwords do not match\")\n    }\n\n    const promises = []\n    setLoading(true)\n    setError(\"\")\n\n    if (emailRef.current.value !== currentUser.email) {\n      promises.push(updateEmail(emailRef.current.value))\n    }\n    if (passwordRef.current.value) {\n      promises.push(updatePassword(passwordRef.current.value))\n    }\n\n    Promise.all(promises)\n      .then(() => {\n        history.push(\"/user\")\n      })\n      .catch(() => {\n        setError(\"Failed to update account\")\n      })\n      .finally(() => {\n        setLoading(false)\n      })\n  }\n\n  return (\n    <CenteredContainer>\n      <Card>\n        <Card.Body className=\"bg-white\">\n          <h2 className=\"text-right mb-4 text-dark\">Update Profile</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <Form onSubmit={handleSubmit}>\n            <Form.Group id=\"email\">\n              {/* <Form.Label>Email</Form.Label> */}\n              <Form.Control className=\"bg-light text-dark\" placeholder=\"email\" type=\"email\" ref={emailRef} required defaultValue={currentUser.email}/>\n            </Form.Group>\n            <Form.Group id=\"password\">\n              {/* <Form.Label>Password</Form.Label> */}\n              <Form.Control className=\"bg-light text-dark\" placeholder=\"password\" type=\"password\" ref={passwordRef}/>\n            </Form.Group>\n            <Form.Group id=\"password-confirm\">\n              <Form.Label className=\"text-dark\">Password Confirmation</Form.Label>\n              <Form.Control className=\"bg-light text-dark\" placeholder=\"password confirm\" type=\"password\" ref={passwordConfirmRef}/>\n            </Form.Group>\n            <Button disabled={loading} className=\"w-100 mb-2\" type=\"submit\">\n              Update\n            </Button>\n            <Button as={Link} to=\"/user\" className=\"w-100\" type=\"submit\">\n              Cancel\n            </Button>\n          </Form>\n        </Card.Body>\n      </Card>\n    </CenteredContainer>\n  )\n}\n","import { useReducer, useEffect } from \"react\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport { database } from \"../firebase\"\n\nconst ACTIONS = {\n  SELECT_FOLDER: \"select-folder\",\n  UPDATE_FOLDER: \"update-folder\",\n  SET_CHILD_FOLDERS: \"set-child-folders\",\n  SET_CHILD_FILES: \"set-child-files\",\n}\n\nexport const ROOT_FOLDER = { name: \"Folders\", id: null, path: [] }\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case ACTIONS.SELECT_FOLDER:\n      return {\n        folderId: payload.folderId,\n        folder: payload.folder,\n        childFiles: [],\n        childFolders: [],\n      }\n    case ACTIONS.UPDATE_FOLDER:\n      return {\n        ...state,\n        folder: payload.folder,\n      }\n    case ACTIONS.SET_CHILD_FOLDERS:\n      return {\n        ...state,\n        childFolders: payload.childFolders,\n      }\n    case ACTIONS.SET_CHILD_FILES:\n      return {\n        ...state,\n        childFiles: payload.childFiles,\n      }\n    default:\n      return state\n  }\n}\n\nexport function useFolder(folderId = null, folder = null) {\n  const [state, dispatch] = useReducer(reducer, {\n    folderId,\n    folder,\n    childFolders: [],\n    childFiles: [],\n  })\n  const { currentUser } = useAuth()\n\n  useEffect(() => {\n    dispatch({ type: ACTIONS.SELECT_FOLDER, payload: { folderId, folder } })\n  }, [folderId, folder])\n\n  useEffect(() => {\n    if (folderId == null) {\n      return dispatch({\n        type: ACTIONS.UPDATE_FOLDER,\n        payload: { folder: ROOT_FOLDER },\n      })\n    }\n\n    database.folders\n      .doc(folderId)\n      .get()\n      .then(doc => {\n        dispatch({\n          type: ACTIONS.UPDATE_FOLDER,\n          payload: { folder: database.formatDoc(doc) },\n        })\n      })\n      .catch(() => {\n        dispatch({\n          type: ACTIONS.UPDATE_FOLDER,\n          payload: { folder: ROOT_FOLDER },\n        })\n      })\n  }, [folderId])\n\n  useEffect(() => {\n    return database.folders\n      .where(\"parentId\", \"==\", folderId)\n      .where(\"userId\", \"==\", currentUser.uid)\n      // .orderBy(\"createdAt\")\n      .onSnapshot(snapshot => {\n        dispatch({\n          type: ACTIONS.SET_CHILD_FOLDERS,\n          payload: { childFolders: snapshot.docs.map(database.formatDoc) },\n        })\n      })\n  }, [folderId, currentUser])\n\n  useEffect(() => {\n    return (\n      database.files\n        .where(\"folderId\", \"==\", folderId)\n        .where(\"userId\", \"==\", currentUser.uid)\n        // .orderBy(\"createdAt\")\n        .onSnapshot(snapshot => {\n          dispatch({\n            type: ACTIONS.SET_CHILD_FILES,\n            payload: { childFiles: snapshot.docs.map(database.formatDoc) },\n          })\n        })\n    )\n  }, [folderId, currentUser])\n\n  return state\n}\n","import React, { useState } from \"react\"\nimport { Button, Modal, Form } from \"react-bootstrap\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faFolderPlus } from \"@fortawesome/free-solid-svg-icons\"\nimport { database } from \"../../firebase\"\nimport { useAuth } from \"../../contexts/AuthContext\"\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\"\n\nexport default function AddFolderButton({ currentFolder }) {\n  const [open, setOpen] = useState(false)\n  const [name, setName] = useState(\"\")\n  const { currentUser } = useAuth()\n\n  function openModal() {\n    setOpen(true)\n  }\n\n  function closeModal() {\n    setOpen(false)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n\n    if (currentFolder == null) return\n\n    const path = [...currentFolder.path]\n    if (currentFolder !== ROOT_FOLDER) {\n      path.push({ name: currentFolder.name, id: currentFolder.id })\n    }\n\n    database.folders.add({\n      name: name,\n      parentId: currentFolder.id,\n      userId: currentUser.uid,\n      path: path,\n      createdAt: database.getCurrentTimestamp(),\n    })\n    setName(\"\")\n    closeModal()\n  }\n\n  return (\n    <>\n      <Button onClick={openModal} variant=\"outline-primary m-0 mr-2\" size=\"sm\">\n        <FontAwesomeIcon icon={faFolderPlus} style={{fontSize:20}} />\n        <h5 className=\"text-center\"> Create Folder</h5>\n      </Button>\n      <Modal show={open} onHide={closeModal}>\n        <Form className=\"bg-white\" onSubmit={handleSubmit}>\n          <Modal.Body>\n            <Form.Group>\n              <Form.Label className=\"text-primary\">Folder Name:</Form.Label>\n              <Form.Control type=\"text\" className=\"bg-light text-dark\" required value={name}onChange={e => setName(e.target.value)}/>\n            </Form.Group>\n          </Modal.Body>\n          <Modal.Footer className=\"bg-light\">\n            <Button  onClick={closeModal}>\n              Cancel\n            </Button>\n            <Button   type=\"submit\">\n              Create Folder\n            </Button>\n          </Modal.Footer>\n        </Form>\n      </Modal>\n    </>\n  )\n}\n","import React, { useState } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { faFileImport } from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { useAuth } from \"../../contexts/AuthContext\"\nimport { storage, database } from \"../../firebase\"\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\"\nimport { v4 as uuidV4 } from \"uuid\"\nimport { ProgressBar, Toast } from \"react-bootstrap\"\n\nexport default function AddFileButton({ currentFolder }) {\n  const [uploadingFiles, setUploadingFiles] = useState([])\n  const { currentUser } = useAuth()\n\n  function handleUpload(e) {\n    const file = e.target.files[0]\n    if (currentFolder == null || file == null) return\n\n    const id = uuidV4()\n    setUploadingFiles(prevUploadingFiles => [\n      ...prevUploadingFiles,\n      { id: id, name: file.name, progress: 0, error: false },\n    ])\n    const filePath =\n      currentFolder === ROOT_FOLDER\n        ? `${currentFolder.path.join(\"/\")}/${file.name}`\n        : `${currentFolder.path.join(\"/\")}/${currentFolder.name}/${file.name}`\n\n    const uploadTask = storage\n      .ref(`/files/${currentUser.uid}/${filePath}`)\n      .put(file)\n\n    uploadTask.on(\n      \"state_changed\",\n      snapshot => {\n        const progress = snapshot.bytesTransferred / snapshot.totalBytes\n        setUploadingFiles(prevUploadingFiles => {\n          return prevUploadingFiles.map(uploadFile => {\n            if (uploadFile.id === id) {\n              return { ...uploadFile, progress: progress }\n            }\n            return uploadFile\n          })\n        })\n      },\n      () => {\n        setUploadingFiles(prevUploadingFiles => {\n          return prevUploadingFiles.map(uploadFile => {\n            if (uploadFile.id === id) {\n              return { ...uploadFile, error: true }\n            }\n            return uploadFile\n          })\n        })\n      },\n      () => {\n        setUploadingFiles(prevUploadingFiles => {\n          return prevUploadingFiles.filter(uploadFile => {\n            return uploadFile.id !== id\n          })\n        })\n\n        uploadTask.snapshot.ref.getDownloadURL().then(url => {\n          database.files\n            .where(\"name\", \"==\", file.name)\n            .where(\"userId\", \"==\", currentUser.uid)\n            .where(\"folderId\", \"==\", currentFolder.id)\n            .get()\n            .then(existingFiles => {\n              const existingFile = existingFiles.docs[0]\n              if (existingFile) {\n                existingFile.ref.update({ url: url })\n              } else {\n                database.files.add({\n                  url: url,\n                  name: file.name,\n                  createdAt: database.getCurrentTimestamp(),\n                  folderId: currentFolder.id,\n                  userId: currentUser.uid,\n                })\n              }\n            })\n        })\n      }\n    )\n  }\n\n  return (\n    <>\n      <label className=\"btn btn-outline-primary btn-sm m-3\">\n        <FontAwesomeIcon icon={faFileImport} style={{fontSize:20}} />\n        <h5 className=\"text-center\">Upload Data</h5>\n        <input\n          type=\"file\"\n          onChange={handleUpload}\n          style={{ opacity: 0, position: \"absolute\", left: \"-9999px\" }}\n        />\n      </label>\n      {uploadingFiles.length > 0 &&\n        ReactDOM.createPortal(\n          <div style={{ position: \"absolute\", bottom: \"1rem\", right: \"1rem\", maxWidth: \"250px\",}}>\n            {uploadingFiles.map(file => (\n              <Toast\n                key={file.id}\n                onClose={() => {\n                  setUploadingFiles(prevUploadingFiles => {\n                    return prevUploadingFiles.filter(uploadFile => {\n                      return uploadFile.id !== file.id\n                    })\n                  })\n                }}\n              >\n                <Toast.Header\n                  closeButton={file.error}\n                  className=\"text-truncate w-100 d-block\"\n                >\n                  {file.name}\n                </Toast.Header>\n                <Toast.Body>\n                  <ProgressBar\n                    animated={!file.error}\n                    variant={file.error ? \"danger\" : \"primary\"}\n                    now={file.error ? 100 : file.progress * 100}\n                    label={\n                      file.error\n                        ? \"Error\"\n                        : `${Math.round(file.progress * 100)}%`\n                    }\n                  />\n                </Toast.Body>\n              </Toast>\n            ))}\n          </div>,\n          document.body\n        )}\n    </>\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { Button } from \"react-bootstrap\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faFolder } from \"@fortawesome/free-solid-svg-icons\"\n\nexport default function Folder({ folder }) {\n  return (\n    <Button\n      to={{\n        pathname: `/folder/${folder.id}`,\n        state: { folder: folder },\n      }}\n      variant=\"primary\"\n      className=\"text-truncate w-100\"\n      as={Link}\n    >\n      <FontAwesomeIcon icon={faFolder} className=\"mr-2\" />\n      {folder.name}\n    </Button>\n  )\n}\n","import { faFile } from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport React from \"react\"\n\nexport default function File({ file }) {\n  return (\n    <a\n      href={file.url}\n      className=\"btn btn-outline-primary text-truncate w-100\">\n      <FontAwesomeIcon icon={faFile} className=\"mr-2\" />\n      {file.name}\n    </a>\n  )\n}\n","import React from \"react\"\nimport { Navbar, Nav } from \"react-bootstrap\"\nimport { Link } from \"react-router-dom\"\nimport dropbox from \"./dropbox.png\";\n\nexport default function NavbarComponent() {\n  return (\n    // style={{backgroundColor: \"#651FFF\"}}\n    <Navbar  style={{backgroundColor: \"lightgray\"}} expand=\"sm\" className=\"d-flex justify-content-between\" >  \n      <Navbar.Brand as={Link} to=\"/\" className=\"text-light\">\n        <img src={dropbox} alt=\"\" width=\"200\" height=\"40\"></img>\n      </Navbar.Brand>\n      <Nav>\n        <Nav.Link as={Link} to=\"/user\" className=\"text-dark\">\n          Edit Profile\n        </Nav.Link>\n      </Nav>\n    </Navbar>\n  )\n}\n","import React from \"react\"\nimport { Breadcrumb } from \"react-bootstrap\"\nimport { Link } from \"react-router-dom\"\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\"\n\nexport default function FolderBreadcrumbs({ currentFolder }) {\n  let path = currentFolder === ROOT_FOLDER ? [] : [ROOT_FOLDER]\n  if (currentFolder) path = [...path, ...currentFolder.path]\n\n  return (\n    <Breadcrumb\n      className=\"flex-grow-1\"\n      listProps={{ className: \"pl-2 m-2\" }}\n    >\n      {path.map((folder, index) => (\n        <Breadcrumb.Item\n          key={folder.id}\n          linkAs={Link}\n          linkProps={{\n            to: {\n              pathname: folder.id ? `/folder/${folder.id}` : \"/\",\n              state: { folder: { ...folder, path: path.slice(1, index) } },\n            },\n          }}\n          className=\"text-truncate d-inline-block  \"\n          style={{ maxWidth: \"150px\" }}\n        >\n          {folder.name}\n        </Breadcrumb.Item>\n      ))}\n      {currentFolder && (\n        <Breadcrumb.Item\n          className=\"text-truncate d-inline-block\"\n          style={{ maxWidth: \"200px\" }}\n          active\n        >\n          {currentFolder.name}\n        </Breadcrumb.Item>\n      )}\n    </Breadcrumb>\n  )\n}\n","import React from \"react\"\nimport { Container } from \"react-bootstrap\"\nimport { useFolder } from \"../../hooks/useFolder\"\nimport AddFolderButton from \"./AddFolderButton\"\nimport AddFileButton from \"./AddFileButton\"\nimport Folder from \"./Folder\"\nimport File from \"./File\"\nimport Navbar from \"./Navbar\"\nimport FolderBreadcrumbs from \"./FolderBreadcrumbs\"\nimport { useParams, useLocation } from \"react-router-dom\"\n\nexport default function Dashboard() {\n  const { folderId } = useParams()\n  const { state = {} } = useLocation()\n  const { folder, childFolders, childFiles } = useFolder(folderId, state.folder);\n\n  // console.log(childFiles, childFolders)\n\n  return (\n    <>\n      <Navbar />\n      <Container fluid className=\"bg-white\">\n        <div className=\"d-flex align-items-center\">\n          <FolderBreadcrumbs currentFolder={folder} />\n          <AddFolderButton currentFolder={folder} />\n          <AddFileButton currentFolder={folder} />\n        </div>\n        {childFolders.length > 0 && (\n          <div className=\"d-flex flex-column\">\n            {childFolders.map(childFolder => (\n              <div key={childFolder.id} style={{ maxWidth: \"200px\"}} className=\"p-2\">\n                <Folder folder={childFolder} />\n              </div>\n            ))}\n          </div>\n        )}\n        {childFolders.length > 0 && childFiles.length > 0 && <hr />}\n        {childFiles.length > 0 && (\n          <div className=\"d-flex flex-wrap \">\n            {childFiles.map(childFile => (\n              <div key={childFile.id} style={{ maxWidth: \"250px\" }} className=\"p-2\">\n                <File file={childFile} />\n              </div>\n            ))}\n          </div>\n        )}\n      </Container>\n      \n    </>\n  )\n}\n\n","import React from \"react\"\nimport Signup from \"./authentication/Signup\"\nimport { AuthProvider } from \"../contexts/AuthContext\"\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\nimport Profile from \"./authentication/Profile\"\nimport Login from \"./authentication/Login\"\nimport PrivateRoute from \"./authentication/PrivateRoute\"\nimport ForgotPassword from \"./authentication/ForgotPassword\"\nimport UpdateProfile from \"./authentication/UpdateProfile\"\nimport Dashboard from \"./HomePage/Dashboard\"\n\n\nfunction App() {\n  return (\n    <Router>\n      <AuthProvider>\n      \n        <Switch>\n          \n          {/* Drive */}\n          <PrivateRoute exact path=\"/\" component={Dashboard}  />\n          <PrivateRoute exact path=\"/folder/:folderId\" component={Dashboard} />\n\n          {/* Profile */}\n          <PrivateRoute path=\"/user\" component={Profile} />\n          <PrivateRoute path=\"/update-profile\" component={UpdateProfile} />\n\n          {/* Auth */}\n          <Route path=\"/signup\" component={Signup} />\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/forgot-password\" component={ForgotPassword} />\n          \n        </Switch>\n      </AuthProvider>\n    </Router>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./components/App\"\nimport \"bootstrap/dist/css/bootstrap.min.css\"\n\nReactDOM.render(\n    <App />,\n  document.getElementById(\"root\")\n)\n","module.exports = __webpack_public_path__ + \"static/media/dropbox.664c609a.png\";","module.exports = __webpack_public_path__ + \"static/media/dropbox.664c609a.png\";"],"sourceRoot":""}